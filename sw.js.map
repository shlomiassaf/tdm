{"version":3,"sources":["webpack/bootstrap 43442235abe8d0c99702","./node_modules/service-mocker/utils/debug.js","./node_modules/localforage/dist/localforage.js","./node_modules/statuses/index.js","./node_modules/mime-component/index.js","./node_modules/service-mocker/server/router.js","./node_modules/service-mocker/utils/index.js","./node_modules/tslib/tslib.es6.js","./src/@tdm/tixin/src/tixin.ts","./src/@tdm/core/tdm/src/fw/utils.ts","./src/@tdm/core/tdm/src/fw/events.ts","./src/@tdm/core/tdm/src/fw/lazy-ref.ts","./src/@tdm/core/tdm/src/fw/metadata-framework/utils.ts","./src/@tdm/core/tdm/src/fw/metadata-framework/meta-class.ts","./src/@tdm/core/tdm/src/metadata/exclude.ts","./src/@tdm/core/tdm/src/model/tdm-collection.ts","./src/@tdm/core/tdm/src/mapping/prop-container.ts","./src/@tdm/core/tdm/src/add/model/model.ts","./src/@tdm/core/tdm/src/add/model/decorator.ts","./src/@tdm/core/tdm/src/mapping/target-transformer.ts","./src/@tdm/core/src/decorators.ts","./src/@tdm/data/src/metadata/meta-types/adapter.ts","./src/@tdm/data/src/metadata/meta-types/hook.ts","./src/@tdm/data/src/events/interfaces.ts","./src/@tdm/data/src/events/index.ts","./src/@tdm/data/src/transformation/decorators.ts","./src/@tdm/local-forage/src/decorators.ts","./src/@tdm/service-mocker/src/service-mocker-server/service-mocker-server.ts","./src/@tdm/service-mocker/src/core/metadata/method-extensions/method-extensions.ts","./src/@tdm/service-mocker/src/core/decorators/route-handler-param.ts","./src/@tdm/service-mocker/src/core/request-handler.ts","./src/@tdm/service-mocker/src/core/register.ts","./src/@tdm/service-mocker/src/core/decorators/service-mock-method.ts","./src/@tdm/service-mocker/src/core/decorators/service-mock-controller.ts","./src/@tdm/core/tdm/src/fw/errors.ts","./src/@tdm/core/tdm/src/fw/set-map-ext.ts","./src/@tdm/core/tdm/src/fw/base-metadata.ts","./src/@tdm/core/tdm/src/fw/metadata-framework/meta-class-get.ts","./src/@tdm/core/tdm/src/metadata/helpers.ts","./src/@tdm/core/tdm/src/metadata/target-store.ts","./src/@tdm/core/tdm/src/metadata/type.ts","./src/@tdm/core/tdm/src/metadata/prop.ts","./src/@tdm/core/tdm/src/fw/normalize.ts","./src/@tdm/core/tdm/src/metadata/relation.ts","./src/@tdm/core/tdm/src/model/tdm-model.ts","./src/@tdm/core/tdm/src/metadata/target-metadata.ts","./src/@tdm/core/tdm/src/mapping/errors.ts","./src/@tdm/core/tdm/src/mapping/plain-object-mapper.ts","./src/@tdm/core/tdm/src/mapping/direct-mapper/direct-mapper.ts","./src/@tdm/core/tdm/src/mapping/mapper.ts","./src/@tdm/core/tdm/src/add/model/target-metadata.ts","./src/@tdm/core/tdm/src/add/target-store/index.ts","./src/@tdm/core/tdm/src/add/mapping/index.ts","./src/@tdm/core/tdm/src/tdm.ts","./src/@tdm/core/src/add/target-metadata.ts","./src/@tdm/core/src/core.ts","./src/@tdm/data/src/metadata/meta-types/action.ts","./src/@tdm/data/src/metadata/meta-types/extend-action.ts","./src/@tdm/data/src/utils/index.ts","./src/@tdm/data/src/dao/symbols.ts","./src/@tdm/data/src/dao/dao.ts","./src/@tdm/data/src/metadata/meta-types/relations.ts","./src/@tdm/data/src/fw/errors.ts","./src/@tdm/data/src/active-record/interfaces.ts","./src/@tdm/data/src/fw/plugin.ts","./src/@tdm/data/src/transformation/meta-class.ts","./src/@tdm/data/src/metadata/store.ts","./src/@tdm/data/src/transformation/target-store.ts","./src/@tdm/data/src/events/simple-events.ts","./src/@tdm/data/src/events/events.ts","./src/@tdm/data/src/events/internal.ts","./src/@tdm/data/src/resource-control.ts","./src/@tdm/data/src/default-config.ts","./src/@tdm/data/src/core/execute-context.ts","./src/@tdm/data/src/core/action-controller.ts","./src/@tdm/data/src/core/target-validator.ts","./src/@tdm/data/src/transformation/target-metadata.ts","./src/@tdm/data/src/transformation/prop.ts","./src/@tdm/data/src/transformation/relations.ts","./src/@tdm/data/src/transformation/mixins.ts","./src/@tdm/data/src/metadata/set-action-metadata-helpers.ts","./src/@tdm/data/src/core-validators.ts","./src/@tdm/local-forage/src/metadata/resource.ts","./src/@tdm/local-forage/src/metadata/action.ts","./src/@tdm/local-forage/src/core/local-forage-adapter.ts","./src/@tdm/local-forage/src/local-forage-dao.ts","./src/@tdm/local-forage/src/register.ts","./src/@tdm/service-mocker/shared/src/messaging.ts","./src/@tdm/service-mocker/src/service-mocker-server/server-base.ts","./src/@tdm/service-mocker/src/core/metadata/on-message.ts","./src/@tdm/service-mocker/src/core/metadata/server.ts","./src/@tdm/service-mocker/src/core/metadata/service-mock-method.ts","./src/@tdm/service-mocker/src/core/metadata/fallback-route.ts","./src/@tdm/service-mocker/src/core/metadata/method-extensions/http-code.ts","./src/@tdm/service-mocker/src/core/metadata/method-extensions/forward.ts","./src/@tdm/service-mocker/src/core/metadata/method-extensions/delay.ts","./src/@tdm/service-mocker/src/core/metadata/method-extensions/route-handler-param.ts","./src/@tdm/service-mocker/src/core/metadata/service-mock-controller.ts","./src/@tdm/service-mocker/src/http-error.ts","./src/@tdm/service-mocker/src/core/decorators/server.ts","./src/@tdm/service-mocker/src/core/decorators/on-message.ts","./src/@tdm/service-mocker/src/core/decorators/fallback-route.ts","./src/@tdm/service-mocker/src/core/decorators/method-extensions.ts","./src/@tdm/service-mocker/src/core/decorators/index.ts","./src/@tdm/service-mocker/src/core/builtin-route-handler-params.ts","./src/@tdm/service-mocker/src/init-metadata.ts","./src/demo/modules/server/models/customer.ts","./src/demo/modules/server/models/category.ts","./src/demo/modules/server/models/employee.ts","./src/demo/modules/server/models/employee-territory.ts","./src/demo/modules/server/models/order.ts","./src/demo/modules/server/models/order-detail.ts","./src/demo/modules/server/models/product.ts","./src/demo/modules/server/models/region.ts","./src/demo/modules/server/models/shipper.ts","./src/demo/modules/server/models/supplier.ts","./src/demo/modules/server/models/territory.ts","./src/demo/modules/server/controllers/base-controller.ts","./src/demo/modules/server/controllers/customer.ts","./src/demo/modules/server/controllers/category.ts","./src/demo/modules/server/controllers/employee.ts","./src/demo/modules/server/controllers/employee-territory.ts","./src/demo/modules/server/controllers/order.ts","./src/demo/modules/server/controllers/order-detail.ts","./src/demo/modules/server/controllers/product.ts","./src/demo/modules/server/controllers/region.ts","./src/demo/modules/server/controllers/shipper.ts","./src/demo/modules/server/controllers/supplier.ts","./src/demo/modules/server/controllers/territory.ts","./src/demo/modules/server/index.ts","./node_modules/service-mocker/server/response.js","./node_modules/qs/lib/stringify.js","./node_modules/qs/lib/parse.js","./node_modules/uuid/v4.js","(webpack)/buildin/global.js","./node_modules/reflect-metadata/Reflect.js","./node_modules/uuid/lib/bytesToUuid.js","./node_modules/service-mocker/constants/index.js","./node_modules/regenerator-runtime/runtime.js","./node_modules/service-mocker/utils/event-wait-until.js","./node_modules/qs/lib/formats.js","./node_modules/service-mocker/server/server.js","./node_modules/babel-runtime/regenerator/index.js","./node_modules/service-mocker/utils/defer.js","./node_modules/path-to-regexp/index.js","./node_modules/service-mocker/utils/extensify.js","./node_modules/service-mocker/server/request.js","./node_modules/mime-component/types.js","./node_modules/service-mocker/utils/send-message-request.js","./node_modules/uuid/lib/rng-browser.js","./node_modules/regenerator-runtime/runtime-module.js","./node_modules/service-mocker/server/index.js","./node_modules/qs/lib/index.js","./node_modules/statuses/codes.json","./node_modules/qs/lib/utils.js","./node_modules/isarray/index.js","./node_modules/service-mocker/constants/action.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","isIE","test","navigator","userAgent","defaultColor","colorPresets","log","info","warn","error","PrefixedConsole","namespace","arguments","length","undefined","color","instance","Constructor","TypeError","_classCallCheck","this","_namespace","_color","scope","ns","debug","setPrototypeOf","console","desc","getOwnPropertyNames","forEach","prop","getOwnPropertyDescriptor","create","method","_console2","_len","messages","Array","_key","_console","apply","concat","head","shift","require","e","t","r","u","f","Error","code","1","_dereq_","global","nextTick","draining","oldQueue","len","queue","scheduleDrain","Mutation","MutationObserver","WebKitMutationObserver","called","observer","element","document","createTextNode","observe","characterData","data","setImmediate","MessageChannel","createElement","scriptEl","onreadystatechange","parentNode","removeChild","documentElement","appendChild","setTimeout","channel","port1","onmessage","port2","postMessage","task","push","self","window","2","INTERNAL","Promise","resolver","state","PENDING","outcome","safelyResolveThenable","QueueItem","promise","onFulfilled","onRejected","callFulfilled","otherCallFulfilled","callRejected","otherCallRejected","unwrap","func","value","immediate","returnValue","handlers","reject","resolve","getThen","obj","then","thenable","onError","onSuccess","result","tryCatch","status","out","REJECTED","FULFILLED","constructor","reason","all","iterable","toString","values","resolved","outValue","allResolver","race","response","3","4","createBlob","parts","properties","Blob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","type","executeCallback","callback","executeTwoCallbacks","errorCallback","normalizeKey","key","String","_deferReadiness","dbInfo","dbContext","dbContexts","deferredOperation","Promise$1","deferredOperations","dbReady","_getConnection","upgradeNeeded","db","close","dbArgs","version","openreq","idb","open","onupgradeneeded","createObjectStore","storeName","oldVersion","DETECT_BLOB_SUPPORT_STORE","ex","newVersion","onerror","preventDefault","onsuccess","pop","_advanceReadiness","_decodeBlob","encodedBlob","bin","buf","ArrayBuffer","arr","Uint8Array","charCodeAt","_binStringToArrayBuffer","atob","_isEncodedBlob","__local_forage_encoded_blob","_fullyReady","_initReady","_dbInfo","createTransaction","mode","tx","transaction","err","forages","j","_rejectReadiness","_tryReconnect","stringToBuffer","serializedString","encoded1","encoded2","encoded3","encoded4","bufferLength","buffer","bytes","BASE_CHARS","indexOf","bufferToString","base64String","substring","_setItem","retriesLeft","ready","originalValue","serializer","serialize","executeSql","sqlError","QUOTA_ERR","callWhenReady","localForageInstance","libraryMethod","_args","extend","arg","isArray","slice","_typeof","Symbol","iterator","indexedDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","getIDB","supportsBlobs","READ_ONLY","READ_WRITE","asyncStorage","_driver","_initStorage","options","ignoreErrors","initPromises","forage","defaultVersion","isNewStore","objectStoreNames","contains","isUpgrade","incVersion","_isUpgradeNeeded","_defaultConfig","k","_support","isSafari","openDatabase","platform","hasFetch","fetch","IDBKeyRange","isIndexedDBValid","iterate","req","objectStore","openCursor","iterationNumber","cursor","getItem","setItem","txn","blob","put","onabort","stopPropagation","oncomplete","matchedChrome","match","matchedEdge","parseInt","_checkBlobSupportWithoutCaching","_checkBlobSupport","blobSupport","reader","FileReader","onloadend","base64","btoa","target","readAsBinaryString","_encodeBlob","store","removeItem","clear","count","advanced","advance","keys","BLOB_TYPE_PREFIX_REGEX","SERIALIZED_MARKER","SERIALIZED_MARKER_LENGTH","TYPE_SERIALIZED_MARKER_LENGTH","toString$1","localforageSerializer","valueType","marker","fileReader","onload","str","readAsArrayBuffer","JSON","stringify","deserialize","parse","blobType","matcher","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","webSQLStorage","dbInfoPromise","description","size","results","rows","item","localStorageWrapper","keyPrefix","localStorageTestKey","localStorage","checkIfLocalStorageThrows","isLocalStorageValid","keyPrefixLength","itemKey","DefinedDrivers","DriverSupport","DefaultDrivers","INDEXEDDB","WEBSQL","LOCALSTORAGE","LibraryMethods","DefaultConfig","driver","localforage_js","LocalForage","driverTypeKey","driverName","defineDriver","_config","_driverSet","_initDriver","_ready","_wrapLibraryMethodsWithReady","setDriver","config","replace","driverObject","complianceError","driverMethods","customDriverMethod","setDriverSupport","support","getDriver","getDriverPromise","getSerializer","serializerPromise","drivers","setDriverToConfig","extendSelfWithDriver","_extend","supportedDrivers","_getSupportedDrivers","oldDriverSetDone","driverPromiseLoop","currentDriverIndex","initDriver","supports","libraryMethodsAndProperties","createInstance","isNaN","toLowerCase","codes","statuses","message","Number","populateStatusesMap","redirect","300","301","302","303","305","307","308","empty","204","205","304","retry","502","503","504","types","lookup","ext","SubRouter","MockerRouter","_pathToRegexp2","default","_interopRequireDefault","_utils","_request3","_response","routerLog","_middleware","baseURL","middleware","_origin","_basePath","_rules","routers","url","URL","location","href","origin","pathname","path","base","route","use","fn","_register","toUpperCase","regex","cb","_request","send","isAll","_match","event","_this","request","re","RegExp","_loop","rule","_request2","MockerRequest","MockerResponse","map","v","_iterator","_isArray","_i","_ref","next","done","_ret","router","_router","_path","allMethods","_debug","_defer","_extensify","_eventWaitUntil","_sendMessageRequest","__extends","b","__","extendStatics","__decorate","decorators","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","mixObjects","mixins","mixin","getOwnPropertySymbols","propDesc","Tixin","isNumber","isString","isFunction","isUndefined","undef","isJsObject","isPrimitive","utils_stringify","token","overriddenName","res","newLineIndex","LazyInit","propertyKey","descriptor","ret","getProtoChain","cls","classes","proto","getPrototypeOf","getBaseClass","fireTargetEvent","eventMap","eventHandlers","from","handler","lazy_ref_lazyRef","lazyRefFn","lazyRefKey","lazy_ref_toString","setMetaHelper","helperFn","extendHelpers","registerHelpers","getMetaClass","MetaClass","metaArgs","set","meta_class_MetaClassMetadata","factory","metaClassKey","exclude_ExcludeMetadata","metaPropKey","metaValue","target_store_targetStore","getTargetMeta","model","transformStrategy","buildAndCacheProperties","propertiesToCopy","filter","NON_EXTENDABLE_PROPS","pCopyMap","runtimeExtend","thisVar","TDMCollectionMark","name_1","transformValueIn","transform","incoming","excludedPredicate","extendSingle","to","meta","MODEL_PH","clone","processModel","metaClass","build","_a","hasTarget","namingStrategyMap","dir","transformNameStrategy","getInstructions","excluded","getValues","naming","fkMap","Map","instructions","prop_PropMetadata","alias","exclude","array","findRemove","relation","foreignKeyOf","entries","serializePredicate","deserializePredicate","Identity","identity","unsupportedDAOCmd","adapter_factory","assign","register","adapter","getAdapter","buildDAO","hook_factory","action","ARHooks","errors_errors","throw","isStatic","hook_register","hook","currHook","getMetaFor","hook_HookMetadata","setMetaFor","MapExt","asKeyValArray","hookFrom","has","hookTo_1","isResourceEvent","evt","dispatchEvent","async","dispatcher","AutoIdentity","autoGenIdentity","LocalForageResource","def","localForageResource","pathServiceMockerBug48","oldMatch_1","exec","getExtensions","methodExtensionStore","registerMethodExtensions","MethodExtensionsHost","methodExtensionHostStore","initExtensions","tMeta","methodExtensionHostStore_1","extMap","getCreateProp","resolveRouteHandlerParam","ctx","metaType","methodParamInjections","createRouteHandlerParamDecorator","metaArgsMandatory","methodParamInject","resolveMethodValue","decoratorInfo","injection","routeHandlerParams","routeHandlerParams_1","args","emitInstanceMethod","createHandlerFromController","ctrl","createHandler","delayMeta","delay","forwardMeta","forwardValue","forward","getForwardLink","httpCodeMeta","json","catch","extendError","httpError","http_error_HttpError","createKnown","sendData","httpCode","emitError","methodNotAllowed","createMethodDecorator","ServiceMockMethod","ServiceMockController","serviceMockController","service_mock_controller_ServiceMockControllerMetadata","skip","__proto__","reflection","designType","getMetadata","paramTypes","predicate","thisArg","idx","findIndex","splice","ERROR_EXEC_TYPE","errors_Errors","Errors","propertyName","CLS","dot","ERROR","modelSingleCol","expectedCol","emptyIterator","set_map_ext__a","DualKeyMap","toStringTag","id","delete","idOrMap","callbackfn","makeEmptyIterator","sizeOf","KeySet","index","set_map_ext_SetExt","Set","add","_super","SetExt","first","asArray","isSuperset","subset","combine","source","deduct","union","intersection","difference","negative","some","z","lenZ","setA","setB","initSetExt","mergeInto","diffOnly","asKeyArray","fromArray","keySelector","asValArray","asObjectLiteral","reduce","prev","curr","BaseMetadata","base_metadata_BaseParamMetadata","BaseParamMetadata","di","paramType","metaInitHandlers","events_TargetEvents","TargetEvents","metaInit","run","createMetadata","beforeProcessType","processType","targetStore","FIRE","EVENT_FIRE","targetEvents","lazyRef","GLOBAL_KEY","MetaClassMetadata","proxyTo","inherit","proxy","host","single","createCurry","hasDescriptor","allowOn","curry","_meta","chain","singleChain","findProxies","ra","createDecorator","ensureTargetIsType","parentMeta","deep","local","containerKey","myMetaArgs","before","defaultRegistrator","propKey","mergeMap","mergeMapArray","arrFrom","arrTo","a","arrFrom_1","target_store_TargetStore","TargetStore","locals","targets","getAllModels","builtTargets","hasModel","findTarget","namedTargets","singleKey","dkm","v_1","setMetaFormFactory","registerTarget","fromTarget","toTarget","clsKey","singleTypes","toSingleTypes_1","toInstance","k1","type_TypeMetadata","TypeMetadata","ref","forwardRef","isGetter","PropMetadata","fallback","outgoing","propAliasConfig","propTransformConfig","typeArgs","setRelationship","rel","relation_RelationMetadata","RelationMetadata","foreignKey","ExcludeMetadata","tdm_collection_TDMCollection","TDMCollection","instanceOf","createCollection","clz","RuntimeTDMCollection","hasInstance","TDMModelMark","tdm_model_TDMModelBase","TDMModelBase","TDModel","TixinFree","getOwnMetadata","defineMetadata","target_metadata_TargetMetadata","TargetMetadata","errors_TransformationError","TransformationError","coll_obj","prop_container_InclusivePropertyContainer","InclusivePropertyContainer","compiled","renamer","forEachRaw","ExclusivePropertyContainer","PRIMITIVES","PlainObjectMapper","_deserialize","_serialize","cache","cachedVal","Date","toISOString","direct_mapper_DirectDeserializeMapper","DirectDeserializeMapper","sourceType","plainMapper","direct_mapper_DirectChildDeserializeMapper","existing","getIdentityKey","isCollection","current","setRef","getIdentity","getKeys","getValue","getRelationQuery","getCache","mapper","directMapper","deserializer","idKey","idVal","DirectChildDeserializeMapper","direct_mapper_DirectSerializeMapper","DirectSerializeMapper","container","serializeCollection","serializeObject","pMap","idKey_1","direct_mapper_DirectChildSerializeMapper","newVal","transformValueOut","DirectChildSerializeMapper","model_ModelMetadata","ModelMetadata","protoChain","classMetadata","resName","_built","ctor","isColl","safe","built","on","direction","getTargetName","propMeta","target_transformer_TargetTransformer","TargetTransformer","outgoingContainer","raw","incomingContainer","ident","find","rename","PlainObject","Model","deserializePlain","MappingTargetMetadata","transformer","plain","refItems","identKey_1","incomingIdent_1","this_1","initMapping","Prop","resource","mapperFactory","plainObject","fallbackMapper","autoDeserialize","autoSerialize","ActionMethodType","action_ActionMetadata","ActionMetadata","post","paramHint","extend_action_ExtendActionMetadata","ExtendActionMetadata","utils_array","flatten","flat","tail","scalar","DAOContextSymbol","DAOMethods","findById","findOne","query","findAll","update","remove","dao_DAO","DAO","runTargetOrInstance","cmd","activeAdapter","modelNoAdapter","getDAOAction","getAC","createExecFactory","adapterNoAction","of","adapterClass","factoryArgs","DAOClass","daoCtx","adapter_AdapterMetadata","AdapterMetadata","actions","addAction","getActions","metadataColl","daoProto","keys_1","relations_BelongsToMetadata","BelongsToMetadata","relations_OwnsMetadata","OwnsMetadata","pt","validation","errors","validationConfig","validationName","plugin","pluginName","pluginMissing","adapterRegistered","registeredIn","adapterNotRegistered","$create","$update","$replace","$remove","$get","plugin_PluginStore","PluginStore","assertPlugin","HookMetadata","ADAPTER_REF","Store","findModel","getModelName","markMixins","registerMixins","createResourceDecorator","resourceMetaClass","TDMModel","modelMeta","tdmModelMeta","setActiveAdapter","target_store_CoreTargetStore","CoreTargetStore","hasAdapter","registerAdapter","events$","SimpleEvents","listeners","listeners_1","subscribe","unsubscribe","ResourceEvent","events_ActionErrorResourceEvent","ActionErrorResourceEvent","events_ActionEndResourceEvent","ActionEndResourceEvent","eventFactory","internalError","internal_CancellationTokenResourceEvent","CancellationTokenResourceEvent","cancel","internal_ExecuteInitResourceEvent","ExecuteInitResourceEvent","keepAlive","internal_StateChangeResourceEvent","StateChangeResourceEvent","oldVal","privateDict","WeakMap","resource_control_ResourceControl","ResourceControl","parent","busy","eventSys","initEventSys","emitter","event_1","emitEvent","silent","_mode","_next","subs","actionCancel","simpleEvents","addEventListener","removeEventListener","rc","_","resourceControl","doFinally","bind","mapPromiseAndKeepAlive","lastExecute","defaultConfig","execute_context_ExecuteContext","ExecuteContext","objects","findProp","_instance","setInstance","safeInstance","setIdentity","action_controller_ActionController","ActionController","targetMetadata","adapterMeta","ac","params","execute","keepAliveResourceControl","returns","pre","eState","promiseMode","wasBusy","fireHook","validate","cancelled","adapterResponse","skipDeserialize","postReturnsResult","validationErrors","hookMetadata","findHookEvent","target_validator_TargetValidator","TargetValidator","targetType","promises","context","member","propValidations","validators","validator","errorMessage","target_validator_getInstructions","target_metadata_CoreTargetMetadata","CoreTargetMetadata","_activeAdapter","findHook","adapters","isActive","getExtendingAction","getProtoChainWithMixins","protoSet","getMixins","collectionClass","setCoreRelationship","relClass","registered","hasMixins","NoopAdapter","actionMetaClass","BelongsTo","Min","min","Max","max","Between","resource_LocalForageResourceMetadata","LocalForageResourceMetadata","action_LocalForageActionMetadata","LocalForageActionMetadata","uuid","v4","METADATA_TABLE","promiseQueue","running","runPending","enqueue","runAsMacroTask","dequeue","t_1","resolve_1","result_1","drain_1","local_forage_adapter_LocalForageAdapter","LocalForageAdapter","idCount","_execute","action_1","resource_1","targetMeta","resourceKey_1","getResourceKey","executeResponse_1","READ","getAll","getById","DELETE","actionName","idToRemove_1","removeId","localforage","appendKey","removeTable","CREATE","idToCreate_1","ensureId","ids","singleCtx","currId","REPLACE","UPDATE","idToUpdate","newCtx","resourceKey","getInstanceKey","instanceKey","KEY_PREFIX","identValue","saveKeys","resourceTable","addTable","foundIds","ids_1","ids_2","metaKey","metaTableArray","metaTable","content","LocalForageAction","LocalForageDaoActions","collInstance","createBulk","local_forage_dao_LocalForageDao","LocalForageDao","register_LocalForageDaoFactory","LocalForageDaoFactory","localForage","messaging_ServiceWorkerMessageError","ServiceWorkerMessageError","remoteError","stack","servers","service_mocker_server_ServiceMockerServer","ServiceMockerServer","mockServer","messageHandler","onMessage","ports","port","canHandle","handle","withStack","postError","dispose","sendAction","client","timeout","timer","isFinite","clearTimeout","sendMessageRequest","sendActionAll","clients","matchAll","server","service_mocker_server","servers_1","server_base_ServerBase","ServerBase","_smServer","on_message_OnMessageMetadata","OnMessageMetadata","eventName","server_ServerMetadata","ServerMetadata","messageHandlers","baseUrl","controllers","clientMessage","_b","service_mock_method_ServiceMockMethodMetadata","ServiceMockMethodMetadata","metaClassInstance","fallback_route_FallbackRouteMetadata","FallbackRouteMetadata","http_code_HttpCodeMetadata","HttpCodeMetadata","forward_ForwardMetadata","ForwardMetadata","delay_DelayMetadata","DelayMetadata","route_handler_param_RouteHandlerParamMetadata","RouteHandlerParamMetadata","ServiceMockControllerMetadata","setMethod","methods","getMethod","KNOWN_HTTP_ERRORS","400","401","402","403","404","405","406","500","501","505","UNKNOWN_HTTP_ERROR","HttpError","knownError","server_server","ContextMessageHandler","handlersMap","methodName","ServiceMockGet","ServiceMockPost","ServiceMockPut","ServiceMockPatch","FallbackRoute","Delay","param","Response","Param","headers","Body","text","arrayBuffer","formData","customer_Customer","Customer","category_Category","Category","employee_Employee","Employee","employee_territory_EmployeeTerritory","EmployeeTerritory","order_Order","Order","order_detail_OrderDetail","OrderDetail","product_Product","Product","region_Region","Region","shipper_Shipper","Shipper","supplier_Supplier","Supplier","territory_Territory","Territory","base_controller_BaseController","BaseController","modelClass","body","customer_CustomerController","CustomerController","category_CategoryController","CategoryController","employee_EmployeeController","EmployeeController","employee_territory_EmployeeTerritoryController","EmployeeTerritoryController","order_OrderController","OrderController","order_detail_OrderDetailController","OrderDetailController","product_ProductController","ProductController","region_RegionController","RegionController","shipper_ShipperController","ShipperController","supplier_SupplierController","SupplierController","territory_TerritoryController","TerritoryController","MyServer","init","handle404","restoreDb","_arguments","P","generator","fulfilled","step","rejected","verb","op","y","label","ops","trys","g","sent","return","tName","dao","isExtendingServerBase","WrappedServiceMockerServer","serverMeta","serviceMockerServer","allMode","reg","subRouter","methods_1","registerMethods","controllers_1","registerControllers","fallbackMeta","matchHandler","noMatchHandler","regExp","createGlobalMiddlewareHandler","Server","_asyncToGenerator","gen","_regenerator2","concatRequest","_ref2","mark","_callee2","oldRequest","input","tempRequest","wrap","_context2","Request","polyfill","_bodyInit","responseLog","bodyParser","abrupt","stop","_x4","_x5","_mimeComponent2","_statuses2","IS_IE_EDGE","Headers","X-Powered-By","_event","_body","_statusCode","_deferred","Defer","respondWith","_type","contentType","end","sendStatus","responseBody","responseInit","statusText","_callee","_context","_native","_self","XHR","XMLHttpRequest","mockerPatched","native","nativeFetch","_x","_x2","utils","formats","arrayPrefixGenerators","brackets","prefix","indices","repeat","toISO","defaults","delimiter","encode","encoder","encodeValuesOnly","serializeDate","date","skipNulls","strictNullHandling","generateArrayPrefix","sort","allowDots","formatter","isBuffer","objKeys","opts","format","formatters","arrayFormat","joined","join","addQueryPrefix","allowPrototypes","arrayLimit","decoder","decode","depth","parameterLimit","plainObjects","parseKeys","givenKey","val","child","segment","leaf","root","cleanRoot","charAt","parseArrays","parseObject","ignoreQueryPrefix","isRegExp","tempObj","split","Infinity","part","bracketEqualsPos","pos","parseValues","newObj","merge","compact","rng","bytesToUuid","offset","rnds","random","ii","Function","eval","GetOrCreateMetadataMap","O","Create","Metadata","IsUndefined","_Map","metadataMap","OrdinaryHasMetadata","MetadataKey","OrdinaryHasOwnMetadata","OrdinaryGetPrototypeOf","IsNull","OrdinaryGetMetadata","OrdinaryGetOwnMetadata","OrdinaryDefineOwnMetadata","MetadataValue","OrdinaryMetadataKeys","ownKeys","OrdinaryOwnMetadataKeys","parentKeys","_Set","ownKeys_1","hasKey","parentKeys_1","GetMethod","iteratorSymbol","IsCallable","IsObject","GetIterator","IteratorStep","nextValue","IteratorClose","Type","x","ToPropertyKey","argument","PreferredType","exoticToPrim","toPrimitiveSymbol","hint","valueOf","toString_1","OrdinaryToPrimitive","ToPrimitive","IsArray","IsConstructor","V","functionPrototype","prototypeProto","MakeDictionary","HashMap","hasOwn","supportsSymbol","toPrimitive","supportsCreate","supportsProto","downLevel","usePolyfill","process","env","getKey","getEntry","cacheSentinel","arraySentinel","MapIterator","selector","_index","_keys","_values","_selector","_cacheKey","_cacheIndex","_find","insert","CreateMapPolyfill","_map","CreateUniqueKey","crypto","getRandomValues","msCrypto","FillRandomBytes","GenRandomBytes","UUID_SIZE","byte","CreateUUID","GetOrCreateWeakMapTable","rootKey","Math","table","CreateWeakMapPolyfill","attributes","decorated","DecorateConstructor","DecorateProperty","IsPropertyKey","hasMetadata","hasOwnMetadata","getMetadataKeys","getOwnMetadataKeys","deleteMetadata","__global","byteToHex","substr","_action","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","returnMethod","record","GenStateSuspendedYield","resultName","nextLoc","_sent","dispatchException","ContinueSentinel","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","AsyncIterator","invoke","__await","unwrapped","domain","previousPromise","callInvokeWithMethodAndArg","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iteratorMethod","Op","$Symbol","toStringTagSymbol","inModule","runtime","regeneratorRuntime","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","displayName","isGeneratorFunction","genFun","awrap","iter","reverse","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","eventWaitUntil","comparer","percentTwenties","RFC1738","RFC3986","MockerServer","_constants","isLegacy","t0","ACTION","PING","REQUEST_CLAIM","PONG","claim","ESTABLISHED","waitUntil","skipWaiting","tokens","defaultDelimiter","PATH_REGEXP","escaped","capture","group","modifier","asterisk","pattern","optional","partial","escapeString","encodeAsterisk","encodeURI","tokensToFunction","matches","pretty","encodeURIComponent","isarray","attachKeys","flags","sensitive","tokensToRegExp","strict","endsWithDelimiter","pathToRegexp","groups","regexpToRegexp","arrayToRegexp","stringToRegexp","compile","extensify","Native","Extendable","checked","checkLack","mapPrototypeMethods","nativeFn","_len2","_key2","ExtandableRequest","_qs2","requestLog","_ExtandableRequest","ReferenceError","_possibleConstructorReturn","_route","requestURL","decodeURIComponent","decodeParam","search","writable","subClass","superClass","_inherits","123","ez","aw","atom","atomcat","atomsvc","ccxml","cdmia","cdmic","cdmid","cdmio","cdmiq","cu","davmount","dbk","dssc","xdssc","ecma","emma","epub","exi","pfr","gml","gpx","gxf","stk","ink","inkml","ipfix","jar","ser","class","js","jsonml","lostxml","hqx","cpt","mads","mrc","mrcx","ma","nb","mb","mathml","mbox","mscml","metalink","meta4","mets","mods","m21","mp21","mp4s","doc","mxf","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","oda","opf","ogx","omdoc","onetoc","onetoc2","onetmp","onepkg","oxps","xer","pdf","pgp","asc","sig","prf","p10","p7m","p7c","p7s","p8","cer","crl","pkipath","pki","pls","ai","eps","ps","cww","pskcxml","rdf","rif","rnc","rl","rld","rs","gbr","mft","roa","rsd","rss","rtf","sbml","scq","scs","spq","spp","sdp","setpay","setreg","shf","smi","smil","rq","srx","gram","grxml","sru","ssdl","ssml","tei","teicorpus","tfi","tsd","plb","psb","pvb","tcap","pwn","aso","imp","acu","atc","acutc","air","fcdt","fxp","fxpl","xdp","xfdf","ahead","azf","azs","azw","acc","ami","apk","cii","fti","atx","mpkg","m3u8","swi","iota","aep","mpm","bmi","rep","cdxml","mmd","cdy","cla","rp9","c4g","c4d","c4f","c4p","c4u","c11amc","c11amz","csp","cdbcmsg","cmc","clkx","clkk","clkp","clkt","clkw","wbs","pml","ppd","car","pcurl","dart","rdz","uvf","uvvf","uvd","uvvd","uvt","uvvt","uvx","uvvx","uvz","uvvz","fe_launch","dna","mlp","dpg","dfac","kpxx","ait","svc","geo","mag","nml","esf","msf","qam","slt","ssf","es3","et3","ez2","ez3","fdf","mseed","seed","dataless","gph","ftc","fm","frame","maker","book","fnc","ltf","fsc","oas","oa2","oa3","fg5","bh2","ddd","xdw","xbd","fzs","txd","ggb","ggt","gex","gre","gxt","g2w","g3w","gmx","kml","kmz","gqf","gqs","gac","ghf","gim","grv","gtm","tpl","vcg","hal","zmm","hbci","les","hpgl","hpid","hps","jlt","pcl","pclxl","sfd-hdstx","mpy","afp","listafp","list3820","irm","sc","icc","icm","igl","ivp","ivu","igm","xpw","xpx","i2g","qbo","qfx","rcprofile","irp","xpr","fcs","jam","rms","jisp","joda","ktz","ktr","karbon","chrt","kfo","flw","kon","kpr","kpt","ksp","kwd","kwt","htke","kia","kne","knp","skp","skd","skt","skm","sse","lasxml","lbd","lbe","apr","nsf","org","scm","lwp","portpkg","mcd","mc1","cdkey","mwf","mfm","flo","igx","mif","daf","dis","mbk","mqy","msl","plc","txf","mpn","mpc","xul","cil","cab","xls","xlm","xla","xlc","xlt","xlw","xlam","xlsb","xlsm","xltm","eot","chm","ims","lrm","thmx","cat","stl","ppt","pps","pot","ppam","pptm","sldm","ppsm","potm","mpp","mpt","docm","dotm","wps","wks","wcm","wdb","wpl","xps","mseq","mus","msty","taglet","nlu","ntf","nitf","nnd","nns","nnw","ngdat","n-gage","rpst","rpss","edm","edx","odc","otc","odb","odf","odft","odg","otg","odi","oti","odp","otp","ods","ots","odt","odm","ott","oth","xo","dd2","oxt","pptx","sldx","ppsx","potx","xlsx","xltx","docx","dotx","mgp","dp","esa","pdb","pqa","oprc","paw","ei6","efif","wg","plf","pbd","box","mgz","qps","ptid","qxd","qxt","qwd","qwt","qxl","qxb","bed","mxl","musicxml","cryptonote","cod","rm","rmvb","link66","st","see","sema","semd","semf","ifm","itp","iif","ipk","twd","twds","mmf","teacher","sdkm","sdkd","dxp","sfs","sdc","sda","sdd","smf","sdw","vor","sgl","smzip","sm","sxc","stc","sxd","std","sxi","sti","sxm","sxw","sxg","stw","sus","susp","svd","sis","sisx","xsm","bdm","xdm","tao","pcap","cap","dmp","tmo","tpt","mxs","tra","ufd","ufdl","utz","umj","unityweb","uoml","vcx","vsd","vst","vss","vsw","vis","vsf","wbxml","wmlc","wmlsc","wtb","nbp","wpd","wqd","stf","xar","xfdl","hvd","hvs","hvp","osf","osfpvg","saf","spf","cmp","zir","zirz","zaz","vxml","wgt","hlp","wsdl","wspolicy","7z","abw","ace","dmg","aab","x32","u32","vox","aam","aas","bcpio","torrent","blb","blorb","bz","bz2","boz","cbr","cba","cbt","cbz","cb7","vcd","cfs","chat","pgn","nsc","cpio","csh","deb","udeb","dgc","dcr","dxr","cst","cct","cxt","w3d","fgd","swa","wad","ncx","dtb","dvi","evy","eva","bdf","gsf","psf","otf","pcf","snf","ttf","ttc","pfa","pfb","pfm","afm","woff","arc","spl","gca","ulx","gnumeric","gramps","gtar","hdf","install","iso","jnlp","latex","lzh","lha","mie","prc","mobi","application","lnk","wmd","wmz","xbap","mdb","obd","crd","clp","exe","dll","com","bat","msi","mvb","m13","m14","wmf","emf","emz","mny","pub","scd","trm","wri","nc","cdf","nzb","p12","pfx","p7b","spc","p7r","rar","ris","sh","shar","swf","xap","sql","sit","sitx","srt","sv4cpio","sv4crc","t3","gam","tar","tcl","tex","tfm","texinfo","texi","ustar","src","der","crt","fig","xlf","xpi","xz","z1","z2","z3","z4","z5","z6","z7","z8","xaml","xdf","xenc","xhtml","xht","xml","xsl","dtd","xop","xpl","xslt","xspf","mxml","xhvml","xvml","xvm","yang","yin","zip","adp","au","snd","mid","midi","kar","rmi","mp4a","mpga","mp2","mp2a","mp3","m2a","m3a","oga","ogg","spx","s3m","sil","uva","uvva","eol","dra","dts","dtshd","lvp","pya","ecelp4800","ecelp7470","ecelp9600","rip","weba","aac","aif","aiff","aifc","caf","flac","mka","m3u","wax","wma","ram","rmp","wav","xm","cdx","cif","cmdf","cml","csml","xyz","bmp","cgm","g3","gif","ief","jpeg","jpg","jpe","ktx","png","btif","sgi","svg","svgz","tiff","tif","psd","uvi","uvvi","uvg","uvvg","sub","djvu","djv","dwg","dxf","fbs","fpx","fst","mmr","rlc","mdi","wdp","npx","wbmp","xif","webp","3ds","ras","cmx","fh","fhc","fh4","fh5","fh7","ico","sid","pcx","pic","pct","pnm","pbm","pgm","ppm","rgb","tga","xbm","xpm","xwd","eml","mime","igs","iges","msh","mesh","silo","dae","dwf","gdl","gtw","mts","vtu","wrl","vrml","x3db","x3dbz","x3dv","x3dvz","x3d","x3dz","appcache","ics","ifb","css","csv","html","htm","n3","txt","conf","list","in","dsc","rtx","sgml","sgm","tsv","tr","roff","man","me","ms","ttl","uri","uris","urls","vcard","curl","dcurl","scurl","mcurl","fly","flx","gv","3dml","spot","jad","wml","wmls","asm","cc","cxx","cpp","h","hh","dic","for","f77","f90","java","opml","pas","nfo","etx","sfv","uu","vcs","vcf","3gp","3g2","h261","h263","h264","jpgv","jpm","jpgm","mj2","mjp2","mp4","mp4v","mpg4","mpeg","mpg","mpe","m1v","m2v","ogv","qt","mov","uvh","uvvh","uvm","uvvm","uvp","uvvp","uvs","uvvs","uvv","uvvv","dvb","fvt","mxu","m4u","pyv","uvu","uvvu","viv","webm","f4v","fli","flv","m4v","mkv","mk3d","mks","mng","asf","asx","vob","wm","wmv","wmx","wvx","avi","movie","smv","ice","_ref3","_x3","rnds8","hadRuntime","oldRuntime","createServer","_server","100","101","102","200","201","202","203","206","207","208","226","306","407","408","409","410","411","412","413","414","415","416","417","418","421","422","423","424","425","426","428","429","431","451","506","507","508","509","510","511","hexTable","arrayToObject","mergeTarget","string","refs","compacted","compactQueue"],"mappings":"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","file":"sw.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tdm/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"7kqK\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 43442235abe8d0c99702","'use strict';\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar isIE = /Trident|Edge/.test(navigator.userAgent);\n\nvar defaultColor = 'dodgerblue';\n\nvar colorPresets = {\n  log: defaultColor,\n  info: defaultColor,\n  warn: 'goldenrod',\n  error: 'crimson'\n};\n\nvar PrefixedConsole = exports.PrefixedConsole = function () {\n  /**\n   * Logger namespace\n   *\n   * @private\n   * @type {string}\n   */\n  function PrefixedConsole() {\n    var namespace = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'mocker';\n    var color = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : colorPresets.log;\n\n    _classCallCheck(this, PrefixedConsole);\n\n    this._namespace = 'mocker';\n    this._color = colorPresets.log;\n\n    this._namespace = namespace;\n    this._color = color;\n  }\n\n  /**\n   * Set logger color, returns new PrefixedConsole\n   *\n   * @param  {string} c Color string\n   * @return {PrefixedConsole}\n   */\n\n\n  /**\n   * Logger color\n   *\n   * @private\n   * @type {string}\n   */\n\n\n  PrefixedConsole.prototype.color = function color(c) {\n    return new PrefixedConsole(this._namespace, c);\n  };\n\n  /**\n   * Set logger namespace, returns new PrefixedConsole\n   *\n   * @param  {string} ns Namespace\n   * @return {PrefixedConsole}\n   */\n\n\n  PrefixedConsole.prototype.scope = function scope(ns) {\n    return new PrefixedConsole(this._namespace + ':' + ns, this._color);\n  };\n\n  return PrefixedConsole;\n}();\n\nvar debug = exports.debug = new PrefixedConsole();\n\n/* istanbul ignore else */\n// inherit console methods\nif (typeof Object.setPrototypeOf === 'function') {\n  Object.setPrototypeOf(PrefixedConsole.prototype, console);\n} else {\n  var desc = {};\n\n  Object.getOwnPropertyNames(PrefixedConsole.prototype).forEach(function (prop) {\n    desc[prop] = Object.getOwnPropertyDescriptor(PrefixedConsole.prototype, prop);\n  });\n\n  PrefixedConsole.prototype = Object.create(console, desc);\n}\n\n['log', 'info', 'warn', 'error'].forEach(function (method) {\n  PrefixedConsole.prototype[method] = function logger() {\n    var _console2;\n\n    var _namespace = this._namespace,\n        _color = this._color;\n\n    /* istanbul ignore if */\n\n    for (var _len = arguments.length, messages = Array(_len), _key = 0; _key < _len; _key++) {\n      messages[_key] = arguments[_key];\n    }\n\n    if (isIE) {\n      var _console;\n\n      return (_console = console)[method].apply(_console, ['[' + _namespace + ']'].concat(messages));\n    }\n\n    var head = '%c[' + _namespace + ']%c';\n\n    if (/%c/.test(messages[0])) {\n      head = head + ' ' + messages.shift();\n    }\n\n    var color = _color === defaultColor ? colorPresets[method] : _color;\n\n    (_console2 = console)[method].apply(_console2, [head, 'color: ' + color, 'color: #000'].concat(messages));\n  };\n});\n//# sourceMappingURL=debug.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/service-mocker/utils/debug.js\n// module id = 1ZRj\n// module chunks = 0","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.5.6\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support (#5572)\n        // since Safari 10.1 shipped with fetch, we can use that to detect it\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs;\nvar dbContexts;\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve) {\n        deferredOperation.resolve = resolve;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + ' can\\'t be downgraded from version ' + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        if (forages[i]._dbInfo.db) {\n            forages[i]._dbInfo.db.close();\n            forages[i]._dbInfo.db = null;\n        }\n    }\n\n    return _getConnection(dbInfo, false).then(function (db) {\n        for (var j = 0; j < forages.length; j++) {\n            forages[j]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback) {\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (!dbInfo.db || err.name === 'InvalidStateError') {\n            return _tryReconnect(dbInfo).then(function () {\n\n                var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n                callback(null, tx);\n            });\n        }\n\n        callback(err);\n    }\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Initialize a singleton container for all running localForages.\n    if (!dbContexts) {\n        dbContexts = {};\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = {\n            // Running localForages sharing a database.\n            forages: [],\n            // Shared database.\n            db: null,\n            // Database readiness (promise).\n            dbReady: null,\n            // Deferred operations on the database.\n            deferredOperations: []\n        };\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback retuns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' (id INTEGER PRIMARY KEY, key unique, value)', [], function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        });\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                t.executeSql('SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                t.executeSql('SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        t.executeSql('INSERT OR REPLACE INTO ' + dbInfo.storeName + ' (key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                t.executeSql('DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                t.executeSql('DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                t.executeSql('SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                t.executeSql('SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                t.executeSql('SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage && typeof localStorage.setItem === 'function';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = dbInfo.name + '/';\n\n    if (dbInfo.storeName !== self._defaultConfig.storeName) {\n        dbInfo.keyPrefix += dbInfo.storeName + '/';\n    }\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'];\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error('Can\\'t call config() after localforage ' + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var customDriverMethod = driverMethods[i];\n                    if (!customDriverMethod || !driverObject[customDriverMethod] || typeof driverObject[customDriverMethod] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/localforage/dist/localforage.js\n// module id = 22C0\n// module chunks = 0","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// array of status codes\nstatus.codes = populateStatusesMap(status, codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Populate the statuses map for given codes.\n * @private\n */\n\nfunction populateStatusesMap (statuses, codes) {\n  var arr = []\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // Populate properties\n    statuses[status] = message\n    statuses[message] = status\n    statuses[message.toLowerCase()] = status\n\n    // Add to array\n    arr.push(status)\n  })\n\n  return arr\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    if (!status[code]) throw new Error('invalid status code: ' + code)\n    return code\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    if (!status[n]) throw new Error('invalid status code: ' + n)\n    return n\n  }\n\n  n = status[code.toLowerCase()]\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\n  return n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/statuses/index.js\n// module id = 4C2U\n// module chunks = 0","\n/**\n * Module dependencies.\n */\n\nvar types = require('./types');\n\n/**\n * Expose the types.\n */\n\nexports.types = types;\n\n/**\n * Lookup with `ext`.\n *\n * @param {String} ext\n * @return {String}\n * @api public\n */\n\nexports.lookup = function(ext){\n  if ('.' == ext[0]) ext = ext.slice(1);\n  return types[ext];\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mime-component/index.js\n// module id = 4Jpa\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.SubRouter = exports.MockerRouter = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _pathToRegexp = require('path-to-regexp');\n\nvar _pathToRegexp2 = _interopRequireDefault(_pathToRegexp);\n\nvar _utils = require('../utils/');\n\nvar _request3 = require('./request');\n\nvar _response = require('./response');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar routerLog = _utils.debug.scope('router');\n\n// bacic HTTP request methods in fetch standard, see\n// https://fetch.spec.whatwg.org/#concept-method\nvar methods = ['get', 'post', 'put', 'head', 'delete', 'options', 'patch'];\n\nvar MockerRouter = exports.MockerRouter = function () {\n\n  /**\n   * Constructs a new router object\n   *\n   * @param {string} [baseURL='/'] The base url of this router\n   * @param {Array<MiddlewareFn>} [middleware=[]] Middleware that are attached to this router\n   */\n\n\n  /**\n   * A collection of all routings\n   *\n   * @private\n   * @type {Array<RouteRule>}\n   */\n\n\n  /**\n   * The origin which this router belongs to\n   *\n   * @private\n   * @type {string}\n   */\n\n  /**\n   * save all routers for lazy evaluations\n   *\n   * @static\n   * @type {Array<MockerRouter>}\n   */\n  function MockerRouter() {\n    var _middleware;\n\n    var baseURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n    var middleware = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    _classCallCheck(this, MockerRouter);\n\n    this.baseURL = undefined;\n    this._origin = undefined;\n    this._basePath = undefined;\n    this._rules = [];\n    this._middleware = [];\n\n    MockerRouter.routers.push(this);\n\n    (_middleware = this._middleware).push.apply(_middleware, middleware);\n\n    // resolve url based on current origin for relative path\n    // `location.origin` is not supported in IE\n    var url = new URL(baseURL, location.href);\n\n    this._origin = url.origin;\n    this._basePath = url.pathname.replace(/\\/$/, ''); // remove trailing slash\n\n    this.baseURL = this._origin + this._basePath;\n  }\n\n  /**\n   * Create a new router with the given path as scope\n   *\n   * @param {string}        [path]\n   * @return {MockerRouter}\n   */\n\n\n  /**\n   * A collection of all middleware\n   *\n   * @private\n   * @type {Array<MiddlewareFn>}\n   */\n\n\n  /**\n   * The base path of this router\n   *\n   * @private\n   * @type {string}\n   */\n\n\n  /**\n   * A parsed base URL\n   *\n   * @readonly\n   * @type {string}\n   */\n\n\n  MockerRouter.prototype.scope = function scope(path) {\n    // in case of falsy values\n    if (!path) {\n      path = '/';\n    }\n\n    if (path[0] !== '/') {\n      throw new TypeError('the scope of router should start with \"/\", got ' + path);\n    }\n\n    return new MockerRouter(this.baseURL + path, this._middleware);\n  };\n\n  /* istanbul ignore next */\n\n\n  MockerRouter.prototype.base = function base(path) {\n    routerLog.warn('`router.base()` is deprecated, use `router.scope()` instead.');\n\n    return this.scope(path);\n  };\n\n  /**\n   * Create a scoped router with the given path as\n   * route path for every routing method.\n   *\n   * @param  {string|RegExp} path Routing's path\n   * @return {SubRouter}\n   */\n\n\n  MockerRouter.prototype.route = function route(path) {\n    return new SubRouter(this, path);\n  };\n\n  /**\n   * Attach middleware to current router\n   *\n   * @param  {MiddlewareFn} fn Middleware function\n   * @return {this}\n   */\n\n\n  MockerRouter.prototype.use = function use(fn) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('Middleware is expected to be a function');\n    }\n\n    this._middleware.push(fn);\n\n    return this;\n  };\n\n  /**\n   * Register a new routing to current router\n   *\n   * @private\n   * @param  {string}       method   HTTP method\n   * @param  {RoutePath}    path     Routing path rule\n   * @param  {function|any} callback Routing callback handler\n   * @return {this}\n   */\n\n\n  MockerRouter.prototype._register = function _register(method, path, callback) {\n    method = method.toUpperCase();\n\n    var regex = (0, _pathToRegexp2.default)(path);\n\n    var cb = void 0;\n\n    if (typeof callback === 'function') {\n      cb = callback;\n    } else {\n      // shorthand method\n      cb = function cb(_request, response) {\n        response.send(callback);\n      };\n    }\n\n    this._rules.push({\n      method: method,\n      path: path,\n      regex: regex,\n      callback: cb,\n      keys: regex.keys,\n      baseURL: this.baseURL,\n      isAll: method === 'ALL'\n    });\n\n    return this;\n  };\n\n  /**\n   * Match the proper routing, return `true` if rule matched\n   *\n   * @private\n   * @param {FetchEvent} event Fetch event\n   * @return {boolean}\n   */\n\n\n  MockerRouter.prototype._match = function _match(event) {\n    var _this = this;\n\n    var request = event.request;\n\n    // `request.url` maybe relative in legacy mode\n\n    var url = new URL(request.url, location.href);\n\n    if (url.origin !== this._origin) {\n      return false;\n    }\n\n    // strip router's base path\n    var re = new RegExp('^' + this._basePath);\n    var path = url.pathname.replace(re, '');\n\n    var _loop = function _loop(rule) {\n      var method = rule.method,\n          regex = rule.regex,\n          callback = rule.callback;\n\n\n      if (regex.test(path) && (request.method === method || rule.isAll)) {\n        //! Response object must be constructed synchronously\n        var _request2 = new _request3.MockerRequest(event, rule);\n        var response = new _response.MockerResponse(event);\n\n        // apply (async) middleware\n        Promise.all(_this._middleware.map(function (fn) {\n          return fn.call(event, _request2, response);\n        })).then(function () {\n          callback.call(event, _request2, response);\n        });\n\n        return {\n          v: true\n        };\n      }\n    };\n\n    for (var _iterator = this._rules, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var rule = _ref;\n\n      var _ret = _loop(rule);\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    }\n\n    return false;\n  };\n\n  return MockerRouter;\n}();\n\nMockerRouter.routers = [];\n\nvar SubRouter = exports.SubRouter = function () {\n\n  /**\n   * Constructs a sub router\n   * @param {MockerRouter}  router Parent router object\n   * @param {string|RegExp} path   Routing path\n   */\n\n  /**\n   * Router object\n   *\n   * @private\n   * @type {MockerRouter}\n   */\n  function SubRouter(router, path) {\n    _classCallCheck(this, SubRouter);\n\n    this._router = null;\n    this._path = undefined;\n\n    this._router = router;\n    this._path = path;\n  }\n\n  /**\n   * Register a new scoped routing\n   *\n   * @private\n   * @param {string}       method   HTTP method\n   * @param {function|any} callback Routing callback handler\n   * @return {this}\n   */\n\n\n  /**\n   * Routing path rule\n   *\n   * @private\n   * @type {string|RegExp}\n   */\n\n\n  SubRouter.prototype._register = function _register(method, callback) {\n    this._router._register(method, this._path, callback);\n\n    return this;\n  };\n\n  return SubRouter;\n}();\n\nvar allMethods = ['all'].concat(methods);\n\n// assign all methods to router\nallMethods.forEach(function (method) {\n  MockerRouter.prototype[method] = function (path, callback) {\n    return this._register(method, path, callback);\n  };\n});\n\nallMethods.forEach(function (method) {\n  SubRouter.prototype[method] = function (callback) {\n    return this._register(method, callback);\n  };\n});\n//# sourceMappingURL=router.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/service-mocker/server/router.js","'use strict';\n\nexports.__esModule = true;\n\nvar _debug = require('./debug');\n\nObject.keys(_debug).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _debug[key];\n    }\n  });\n});\n\nvar _defer = require('./defer');\n\nObject.keys(_defer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _defer[key];\n    }\n  });\n});\n\nvar _extensify = require('./extensify');\n\nObject.keys(_extensify).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _extensify[key];\n    }\n  });\n});\n\nvar _eventWaitUntil = require('./event-wait-until');\n\nObject.keys(_eventWaitUntil).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _eventWaitUntil[key];\n    }\n  });\n});\n\nvar _sendMessageRequest = require('./send-message-request');\n\nObject.keys(_sendMessageRequest).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _sendMessageRequest[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/service-mocker/utils/index.js\n// module id = 6DF8\n// module chunks = 0","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslib/tslib.es6.js\n// module id = null\n// module chunks = ","/* tslint:disable:max-line-length */\nexport interface Type<T> extends Function { new (...args: any[]): T; }\n\nexport type Tixin<BASE, MIXIN> = BASE & MIXIN;\n\n\nfunction mixObjects(base: any, mixins: any[]): void {\n  mixins.forEach( mixin => {\n    Object.getOwnPropertyNames(mixin).concat(Object.getOwnPropertySymbols(mixin) as any)\n      .forEach(name => {\n        // mixin can't override base behaviour, only add\n        if (!base.hasOwnProperty(name)) {\n          // if its a property descriptor we need to rewire the context\n          const propDesc = Object.getOwnPropertyDescriptor(mixin, name);\n          if (propDesc) {\n            Object.defineProperty(base, name, propDesc);\n          } else {\n            base[name] = mixin[name]\n          }\n        }\n      });\n  });\n}\n\n/**\n * Typeless mixin\n */\nexport function TixinFree(base: any, mixin: any, extend: 'class' | 'proto' | 'both' = 'both'): any {\n  if (extend === 'proto' || extend === 'both') {\n    mixObjects(base.prototype, [mixin.prototype]);\n  }\n  if (extend === 'class' || extend === 'both') {\n    mixObjects(base, [mixin]);\n  }\n  return base as any;\n}\n\n\n/* GENERATED BY scripts/generic_codegen.js */\nexport function Tixin<TBASE, CBASE, T1, C1>(base: CBASE & Type<TBASE>, m1: C1 & Type<T1>): Type<TBASE & T1> & CBASE & C1;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2>(base: CBASE & Type<TBASE>, m1: C1 & Type<T1>, m2: C2 & Type<T2>): Type<TBASE & T1 & T2> & CBASE & C1 & C2;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2, T3, C3>(base: CBASE & Type<TBASE>, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>): Type<TBASE & T1 & T2 & T3> & CBASE & C1 & C2 & C3;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2, T3, C3, T4, C4>(base: CBASE & Type<TBASE>, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>, m4: C4 & Type<T4>): Type<TBASE & T1 & T2 & T3 & T4> & CBASE & C1 & C2 & C3 & C4;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2, T3, C3, T4, C4, T5, C5>(base: CBASE & Type<TBASE>, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>, m4: C4 & Type<T4>, m5: C5 & Type<T5>): Type<TBASE & T1 & T2 & T3 & T4 & T5> & CBASE & C1 & C2 & C3 & C4 & C5;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2, T3, C3, T4, C4, T5, C5, T6, C6>(base: CBASE & Type<TBASE>, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>, m4: C4 & Type<T4>, m5: C5 & Type<T5>, m6: C6 & Type<T6>): Type<TBASE & T1 & T2 & T3 & T4 & T5 & T6> & CBASE & C1 & C2 & C3 & C4 & C5 & C6;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2, T3, C3, T4, C4, T5, C5, T6, C6, T7, C7>(base: CBASE & Type<TBASE>, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>, m4: C4 & Type<T4>, m5: C5 & Type<T5>, m6: C6 & Type<T6>, m7: C7 & Type<T7>): Type<TBASE & T1 & T2 & T3 & T4 & T5 & T6 & T7> & CBASE & C1 & C2 & C3 & C4 & C5 & C6 & C7;\n\n\n/**\n * A type friendly, class based, mixin functions that mix in instance and static members.\n *\n * EXAMPLE:\n * ```ts\n * class User_ {\n *   id: number;\n *   firstName: string;\n *   lastName: string;\n * }\n *\n * class FullName {\n *   get fullName(): string {\n *     return `${this['firstName']} ${this['lastName']}`;\n *   }\n *\n *   static createId(): number {\n *     // a shady id generator.\n *     return Date.now();\n *   }\n * }\n *\n * export const User = Tixin(User_, FullName);\n * export type User = Tixin<User_, FullName>;\n *\n * // not using it:\n * const user = new User();\n * user.id = User.createId();\n * user.firstName = 'John';\n * user.lastName = 'Doe';\n * console.log(user.fullName); // John Doe\n * ```\n *\n * > To allow Generics in static members (e.g. static createUser(): T) see TixinExt\n *\n * ## Limitations:\n * From a type perspective this utility has limitations.\n *\n * #### You can't (currently) extend a mixed in type.\n *```ts\n *  export const User = Tixin(User_, FullName);\n *\n *  export class MyExtendedUser extends User { // <- Type Error\n *  }\n *```\n *\n * ```\n * Type 'Type<User_ & FullName> & typeof FullName & typeof User_' is not a constructor function type.\n * ```\n *\n * The error is misleading, this is a current known TS limitation (see [Github Issue](https://github.com/Microsoft/TypeScript/issues/4890))\n *\n * #### You can use generic inference once, from that point the generic param types for mixin have to be explicitly set:\n * ```ts\n *   export const User = Tixin(User_, FullName); // fine\n *\n *   export const UserNumber2 = Tixin(User, OtherMixin); // Error\n * ```\n *\n * ```\n * The type argument for type parameter 'TBASE' cannot be inferred from the usage.\n * Consider specifying the type arguments explicitly.\n * Type argument candidate 'FullName' is not a valid type argument because it is not a supertype of candidate 'User_'.\n * Property 'fullName' is missing in type 'User_'.\n * ```\n * This might be related to the previous limitation, or not...\n *\n *\n * There are 2 solution:\n *\n * 1) Using the built in interface that supports up to 6 mixins at once. (base + 6)\n * ```ts\n * export const User = Tixin(User_, FullName, OtherMixin); //  FullName, OtherMixin are 2, you can rest param your way for 5 more...\n * export type User = User_ & FullName & OtherMixin\n * ```\n * > This time we cant use `Tixin` to apply the User **type** so we just do it manually...\n *\n * 2) going the long way:\n * ```ts\n *   export const User = Tixin(User_, FullName); // fine\n *\n *   export const UserNumber2 = Tixin<User, typeof User, OtherMixin, typeof OtherMixin>(User, OtherMixin);\n * ```\n *\n *\n * @param base\n * @param mixin\n */\nexport function Tixin<TBASE, CBASE, TMIXIN, CMIXIN>(base: CBASE & Type<TBASE>, ...mixins: Array<CMIXIN & Type<TMIXIN>>): Type<TBASE & TMIXIN> & CMIXIN & CBASE {\n  mixObjects(base.prototype, mixins.map( m => m.prototype));\n  mixObjects(base, mixins);\n  return base as any;\n}\n\n\n\n/* GENERATED BY scripts/generic_codegen.js */\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1>(base: CBASE & Type<TBASE>, extraStatic: SMIXIN, m1: C1 & Type<T1>): Type<TBASE & T1> & SMIXIN & CBASE & C1;\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1, T2, C2>(base: CBASE & Type<TBASE>, extraStatic: SMIXIN, m1: C1 & Type<T1>, m2: C2 & Type<T2>): Type<TBASE & T1 & T2> & SMIXIN & CBASE & C1 & C2;\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1, T2, C2, T3, C3>(base: CBASE & Type<TBASE>, extraStatic: SMIXIN, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>): Type<TBASE & T1 & T2 & T3> & SMIXIN & CBASE & C1 & C2 & C3;\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1, T2, C2, T3, C3, T4, C4>(base: CBASE & Type<TBASE>, extraStatic: SMIXIN, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>, m4: C4 & Type<T4>): Type<TBASE & T1 & T2 & T3 & T4> & SMIXIN & CBASE & C1 & C2 & C3 & C4;\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1, T2, C2, T3, C3, T4, C4, T5, C5>(base: CBASE & Type<TBASE>, extraStatic: SMIXIN, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>, m4: C4 & Type<T4>, m5: C5 & Type<T5>): Type<TBASE & T1 & T2 & T3 & T4 & T5> & SMIXIN & CBASE & C1 & C2 & C3 & C4 & C5;\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1, T2, C2, T3, C3, T4, C4, T5, C5, T6, C6>(base: CBASE & Type<TBASE>, extraStatic: SMIXIN, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>, m4: C4 & Type<T4>, m5: C5 & Type<T5>, m6: C6 & Type<T6>): Type<TBASE & T1 & T2 & T3 & T4 & T5 & T6> & SMIXIN & CBASE & C1 & C2 & C3 & C4 & C5 & C6;\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1, T2, C2, T3, C3, T4, C4, T5, C5, T6, C6, T7, C7>(base: CBASE & Type<TBASE>, extraStatic: SMIXIN, m1: C1 & Type<T1>, m2: C2 & Type<T2>, m3: C3 & Type<T3>, m4: C4 & Type<T4>, m5: C5 & Type<T5>, m6: C6 & Type<T6>, m7: C7 & Type<T7>): Type<TBASE & T1 & T2 & T3 & T4 & T5 & T6 & T7> & SMIXIN & CBASE & C1 & C2 & C3 & C4 & C5 & C6 & C7;\n\n\n/**\n * For full description see Tixin function.\n *\n * The TixinExt utility does the same as Tixin but also allows adding an extra static type to the intersection.\n *\n * Although static members are mixed in there is a situation that requires an additional static mixin.\n * In a TypeScript class we can not apply generics on static members in the class level, only in a member based level.\n * If we want to return our final mixin type from a static member (e.g: factory) we need a different type.\n *\n * Example:\n * ```ts\n * class User_ {\n *   id: number;\n *   firstName: string;\n *   lastName: string;\n * }\n *\n * class FullName {\n *   get fullName(): string {\n *     return `${this['firstName']} ${this['lastName']}`;\n *   }\n * }\n *\n * const createNew = {\n *   create(): any {\n *     return new User_(); // at this point User_ is fully mixed in.\n *   }\n * }\n *\n * interface CreateStatic<T> {\n *   create(): Tixin<T, FullName>;\n * }\n *\n * export const User = TixinExt(User_, createNew as CreateStatic<User_>, FullName );\n * export type User = Tixin<User_, FullName>;\n * ```\n *\n * > Same as Tixin, TixinExt supports up to 6 mixins but only 1 extra static member.\n * If you need more then 1 just intersect all of your extera static interfaces to 1.\n * @param base\n * @param extraStatic Optional object for extra static member, use for static functions that require generics with Generics.\n * @param mixins\n */\nexport function TixinExt<TBASE, CBASE, SMIXIN, TMIXIN, CMIXIN>(base: CBASE & Type<TBASE>, extraStatic: SMIXIN, ...mixins: Array<CMIXIN & Type<TMIXIN>>): Type<TBASE & TMIXIN> & CBASE & SMIXIN & CMIXIN {\n  (Tixin as any)(base, ...mixins);\n  mixObjects(base, Array.of(extraStatic));\n  return base as any;\n}\n/* tslint:disable:max-line-length */\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/tixin/src/tixin.ts","\nexport type Constructor<T> = new(...args: any[]) => T;\n\nexport function isNumber(obj: any): obj is number {\n  return typeof obj === 'number';\n}\n\nexport function isString(obj: any): obj is string {\n  return typeof obj === 'string';\n}\n\nexport function isFunction(obj: any): obj is Function {\n  return typeof obj === 'function';\n}\n\nexport function isStaticDecorator(target: any): boolean {\n  return isFunction(target);\n}\n\nconst undef = undefined;\nexport function isUndefined(obj: any): obj is undefined {\n  return obj === undef;\n}\n\nexport function ensureTargetIsType(type: any): any {\n  return isFunction(type) ? type : type.constructor;\n}\n\nexport function isJsObject(obj: any): boolean {\n  return obj !== null && (typeof obj === 'function' || typeof obj === 'object');\n}\nexport function isPrimitive(obj: any): boolean {\n  return !isJsObject(obj);\n}\n\n/**\n * See https://github.com/angular/angular/blob/2.0.0-rc.4/modules/%40angular/facade/src/lang.ts#L149\n * @param token\n * @returns\n */\nexport function stringify(token: any): string {\n  if (typeof token === 'string') {\n    return token;\n  }\n\n  if (token === undefined || token === null) {\n    return '' + token;\n  }\n\n  if (token.name) {\n    return token.name;\n  }\n  if (token.overriddenName) {\n    return token.overriddenName;\n  }\n\n  const res = token.toString();\n  const newLineIndex = res.indexOf('\\n');\n  return (newLineIndex === -1) ? res : res.substring(0, newLineIndex);\n}\n\nexport const reflection = {\n  designType(target: any, key: string | symbol): any {\n    return (Reflect as any).getMetadata('design:type', target, key);\n  },\n  paramTypes(target: any, key: string | symbol) {\n    return (Reflect as any).getMetadata('design:paramtypes', target, key);\n  }\n};\n\nexport function LazyInit(getter: Function): PropertyDecorator {\n  return (target: Object, propertyKey: string | symbol, descriptor?: PropertyDescriptor) => {\n    if (descriptor) {\n      throw new Error('LazyInit can only decorate properties');\n    }\n    Object.defineProperty(target, propertyKey, { get() {\n      const ret = getter.call(this);\n\n      Object.defineProperty(this, propertyKey, { value: ret });\n      return ret;\n    }});\n  };\n}\n\n/**\n * @pluginApi\n */\nexport const array = function() {\n  const findRemove = <T>(arr: T[], predicate: (value: T) => boolean, thisArg?: any): T | undefined => {\n    const idx = arr.findIndex(predicate, thisArg);\n    if (idx > -1) {\n      return arr.splice(idx, 1)[0];\n    }\n  };\n\n  return { findRemove };\n}();\n\n/**\n * Returns the chain of prototypes up to Object (not included)\n * @pluginApi\n * @param cls\n */\nexport function getProtoChain(cls: Constructor<any>): Array<Constructor<any>> {\n  const classes = [];\n  while (cls && cls !== Object) {\n    classes.push(cls);\n\n    const proto = Object.getPrototypeOf(cls.prototype);\n    cls = isFunction(proto) || !proto ? proto : proto.constructor;\n  }\n  return classes;\n}\n\nexport function getBaseClass(cls: Constructor<any>): Constructor<any> | void {\n  const proto = Object.getPrototypeOf(cls.prototype);\n  return !proto || isFunction(proto) ? proto : proto.constructor;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/utils.ts","import { KeySet } from './set-map-ext';\nimport { Constructor, isFunction } from './utils';\nimport { MetadataClassStatic } from './metadata-framework';\n\nconst eventHandlers = new KeySet<TARGET_EVENT_NAMES, (target: Constructor<any>) => void>();\nconst metaInitHandlers = new KeySet<Constructor<any>, (target: Constructor<any>, value: any, metaArgs?: any) => void>();\n\n/**\n * Event listeners registration object for lifecycle metadata events on a target.\n *\n * @pluginApi\n * @mixable\n * @singleton\n */\nexport class TargetEvents {\n\n  protected constructor() {\n    // support for post instantiation mixins on the prototype (plugins) - don't use new.\n    TargetEvents.create(this);\n  }\n\n  metaInit<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>) {\n    return {\n      run(handler: (target: Constructor<any>, value: TMetaClass, metaArgs?: TMetaArgs) => void): void {\n        metaInitHandlers.add(metaClass, handler);\n      }\n    }\n  }\n\n  /**\n   * Fired when the {@link TargetMetadata} instance is created for the target)\n   *\n   * FireBefore: processType\n   */\n  createMetadata(handler: (target: Constructor<any>) => void): void {\n    if (isFunction(handler)) {\n      eventHandlers.add('createMetadata', handler);\n    }\n  }\n\n  /**\n   * Fired before the type is processed, after extending all metadata.\n   * This event is not guaranteed to fire, it will fire only if the type is decorated with an appropriate decorator.\n   *\n   * FireAfter: createMetadata\n   * FireBefore: processType\n   */\n  beforeProcessType(handler: (target: Constructor<any>) => void): void {\n    if (isFunction(handler)) {\n      eventHandlers.add('beforeProcessType', handler);\n    }\n  }\n\n  /**\n   * Fired when the type is processed, after extending all metadata.\n   * This event is not guaranteed to fire, it will fire only if the type is decorated with an appropriate decorator.\n   *\n   * FireAfter: beforeProcessType\n   */\n  processType(handler: (target: Constructor<any>) => void): void {\n    if (isFunction(handler)) {\n      eventHandlers.add('processType', handler);\n    }\n  }\n\n  FIRE: typeof EVENT_FIRE;\n\n  static create(instance?: TargetEvents): TargetEvents {\n    const targetStore: TargetEvents = instance || Object.create(TargetEvents.prototype);\n    targetStore.FIRE = EVENT_FIRE;\n    return targetStore;\n  }\n}\n\nexport const EVENT_FIRE = {\n  metaInit<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, target: Constructor<any>, value: TMetaClass, metaArgs?: TMetaArgs): void {\n    const eventMap = metaInitHandlers.get(metaClass);\n    if (eventMap) {\n      Array.from(eventMap.values()).forEach( handler => handler(target, value, metaArgs) );\n    }\n  },\n  createMetadata: (target: Constructor<any>) => fireTargetEvent('createMetadata', target),\n  beforeProcessType: (target: Constructor<any>) => fireTargetEvent('beforeProcessType', target),\n  processType: (target: Constructor<any>) => fireTargetEvent('processType', target),\n};\n\nexport const targetEvents = TargetEvents.create();\n\ntype TARGET_EVENT_NAMES = 'createMetadata' | 'beforeProcessType' | 'processType';\n\nfunction fireTargetEvent(event: TARGET_EVENT_NAMES, target: any): void {\n  const eventMap = eventHandlers.get(event);\n  if (eventMap) {\n    Array.from(eventMap.values()).forEach( handler => handler(target) );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/events.ts","/**\n * Same as angular's `forwardRef`, different name to prevent confusion / collusion.\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport { isFunction, stringify, Constructor } from './utils';\n\nconst lazyRefKey = Symbol('lazyRef');\nconst toString = function() { return stringify(this()); };\n\n/**\n * Allows to refer to references which are not yet defined.\n *\n * For instance, `lazyRef` is used when the `token` which we need to refer to for the purposes of\n * DI is declared,\n * but not yet defined. It is also used when the `token` which we use when creating a query is not\n * yet defined.\n *\n * ### Example\n * {@example core/di/ts/forward_ref/forward_ref_spec.ts region='forward_ref'}\n * @experimental\n */\nexport function lazyRef<T extends Constructor<any>>(lazyRefFn: () => T): T {\n  lazyRefFn[lazyRefKey] = lazyRef;\n  lazyRefFn.toString = toString;\n  return lazyRefFn as any;\n}\n\nexport module lazyRef {\n  /**\n   * Lazily retrieves the reference value from a lazyRef.\n   *\n   * Acts as the identity function when given a non-forward-ref value.\n   *\n   * ### Example ([live demo](http://plnkr.co/edit/GU72mJrk1fiodChcmiDR?p=preview))\n   *\n   * {@example core/di/ts/forward_ref/forward_ref_spec.ts region='resolve_forward_ref'}\n   *\n   * See: {@link lazyRef}\n   * @experimental\n   */\n  export function resolve(type: any): Constructor<any> {\n    return isFunction(type) && type[lazyRefKey] === lazyRef\n      ? type()\n      : type\n    ;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/lazy-ref.ts","import { isFunction, isNumber, isStaticDecorator } from '../utils';\nimport {\n  DecoratorInfo,\n  MetaClassRegisterHelpers,\n  MetaClassExtendHelpers,\n  RegisterFn,\n  ExtendFn\n} from './types';\n\nexport function decoratorInfo(...args: any[]): DecoratorInfo {\n  if (isFunction(args[0]) && !args[1]) { // target is function and key is not set\n    return { type: 'class' };\n  } else {\n    const type = args.length === 3 && isNumber(args[2]) ? 'param' : 'member';\n    const result: DecoratorInfo = {\n      type,\n      name: args[1],\n      isStatic: isStaticDecorator(args[0]),\n      hasDescriptor:  args.length === 3 && type === 'member'\n    };\n    if (type === 'param') {\n      result.paramIndex = args[2];\n    }\n    return result;\n  }\n}\n\nexport const registerHelpers: MetaClassRegisterHelpers = <any> { };\nexport const extendHelpers: MetaClassExtendHelpers = <any> { };\n\nexport function setMetaHelper(type: 'register', name: keyof MetaClassRegisterHelpers, helperFn: RegisterFn): void;\nexport function setMetaHelper(type: 'extend', name: keyof MetaClassExtendHelpers, helperFn: ExtendFn): void;\nexport function setMetaHelper(type: 'register' | 'extend', name: any, helperFn: any): void {\n  switch (type) {\n    case 'extend':\n      extendHelpers[name] = helperFn;\n      break;\n    case 'register':\n      registerHelpers[name] = helperFn;\n      break;\n    default:\n      break;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/metadata-framework/utils.ts","// This is a core class with lot's of type crazy stuff, enforcing max-line-length will create an unreadable mess\n// tslint:disable:max-line-length\n\nimport { Constructor, isString, stringify, ensureTargetIsType, isFunction } from '../utils';\nimport { targetEvents } from '../events';\nimport {\n  MetadataClassStatic,\n  MetaClassInstanceDetails,\n  MetadataCurriedCreate,\n  DecoratorInfo,\n  RegisterFn,\n  ExtendFn,\n  ExtendSingleFn\n} from './types';\nimport { decoratorInfo, extendHelpers, registerHelpers } from './utils';\nimport { ProxyHostMetadataArgs, MetaClassMetadataArgs } from './meta-class-args';\n\nconst store = new Map<Constructor<any>, MetaClassMetadata>();\n\n/**\n * A token representing single items (see {@link MetaClassMetadataArgs.single})\n * Use this token as a key for single items in TargetMetadata\n */\nexport class GLOBAL_KEY { } // tslint:disable-line:class-name\n\n/**\n * Represents management and control logic for metadata class's\n */\n// tslint:disable-next-line:max-classes-per-file\nexport class MetaClassMetadata<TMetaArgs = any, TMetaClass = any, Z = any> {\n  private proxyTo: Array<ProxyHostMetadataArgs & { metaClass: MetaClassMetadata }> = [];\n\n  private constructor(public target: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n                      public metaArgs?: MetaClassMetadataArgs<TMetaArgs, TMetaClass>) {\n    if ( !this.metaArgs ) {\n      this.metaArgs = {};\n    } else {\n      if ( metaArgs.inherit ) {\n        this.metaArgs = metaArgs = Object.assign({}, MetaClass.get(metaArgs.inherit).metaArgs, metaArgs);\n      }\n\n      if ( metaArgs.factory ) {\n        this.factory = metaArgs.factory;\n      }\n\n      if ( metaArgs.register ) {\n        if ( isString(metaArgs.register) ) {\n          this.register = registerHelpers[ metaArgs.register ];\n        } else if ( isFunction(metaArgs.register) ) {\n          this.register = metaArgs.register;\n        }\n      }\n\n      if ( metaArgs.proxy ) {\n        const proxy: ProxyHostMetadataArgs & { metaClass: MetaClassMetadata } = <any> metaArgs.proxy;\n        proxy.metaClass = this;\n        MetaClass.get(metaArgs.proxy.host).proxyTo.push(proxy);\n      }\n\n      if ( metaArgs.extend ) {\n        if ( metaArgs.single === true ) {\n          // TODO: make error message clear;\n          throw new Error('Extending a single class is done using extendSingle');\n        }\n        if ( isString(metaArgs.extend) ) {\n          this.extend = extendHelpers[ metaArgs.extend ];\n        } else if ( isFunction(metaArgs.extend) ) {\n          this.extend = metaArgs.extend;\n        }\n      }\n\n      if ( isFunction(metaArgs.extendSingle) ) {\n        if ( metaArgs.single !== true ) {\n          // TODO: make error message clear;\n          throw new Error('Extending a non-single class is done using extend');\n        }\n        this.extendSingle = metaArgs.extendSingle;\n      }\n    }\n  }\n\n  /**\n   * Create a new instance of the metadata class\n   * @param metaArgs\n   * @param target\n   * @param key\n   * @param desc\n   * @returns\n   */\n  create(metaArgs: TMetaArgs, target: Object | Function, key?: TdmPropertyKey, desc?: PropertyDescriptor | number): TMetaClass {\n    return this.createCurry(metaArgs, target, key, desc)();\n  }\n\n  createCurry(metaArgs: TMetaArgs,\n              target: Object | Function,\n              key?: TdmPropertyKey,\n              desc?: PropertyDescriptor | number): MetadataCurriedCreate<TMetaArgs, TMetaClass> {\n\n    const info = decoratorInfo(target, key, desc);\n    const allowOn = this.metaArgs.allowOn;\n\n    if ( allowOn && allowOn.length > 0 ) {\n      if ( info.type === 'class' ) {\n        if ( allowOn.indexOf('class') === -1 ) {\n          throw new Error(`Metadata class ${stringify(this.target)} can not decorate a class (${stringify(target)})`);\n        }\n      } else if ( info.isStatic ) {\n        if ( allowOn.indexOf('staticMember') === -1 ) {\n          throw new Error(\n            `Metadata class ${stringify(this.target)} can not decorate a static member (${stringify(target)}#${key})`\n          );\n        }\n      } else if (info.type === 'param') {\n        if (allowOn.indexOf('param') === -1) {\n          throw new Error(\n            `Metadata class ${stringify(this.target)} can not decorate a param (${stringify(target)}#${key})`\n          );\n        }\n      } else {\n        if ( allowOn.indexOf('member') === -1 ) {\n          throw new Error(\n            `Metadata class ${stringify(this.target)} can not decorate an instance member `\n            + `(${stringify(target.constructor)}.${key})`\n          );\n        }\n      }\n    }\n\n    const meta = this.factory(metaArgs, target, info, key, desc);\n\n    const curry: MetadataCurriedCreate<TMetaArgs, TMetaClass> = <any> ( (_meta?: MetaClassInstanceDetails<TMetaArgs, TMetaClass>): TMetaClass => {\n      if ( !_meta ) {\n        _meta = meta;\n      }\n\n      // in case factory return undefined\n      if ( !_meta ) {\n        return;\n      }\n\n      this.register(_meta);\n\n      const chain = this.singleChain(_meta);\n      if ( chain ) {\n        // we use this class's register implementation for all\n        chain.forEach(c => this.register(c));\n      }\n\n      targetEvents.FIRE.metaInit(_meta.metaClassKey, _meta.target, _meta.metaValue, metaArgs);\n\n      const proxies = this.findProxies(metaArgs);\n      proxies.forEach(ra => {\n        if ( ra ) { // we check since findProxies returns undefined when no key on metadata arguments was found\n          for ( let i = 0, len = ra.args.length; i < len; i++ ) {\n            ra.meta.create(ra.args[ i ], target, key, desc);\n          }\n        }\n      });\n\n      return meta && meta.metaValue;\n    } );\n\n    curry.meta = meta;\n\n    return curry;\n  }\n\n  createDecorator(type: 'class'): (def: TMetaArgs) => ClassDecorator;\n  createDecorator(type: 'param'): (def: TMetaArgs) => ParameterDecorator;\n  createDecorator(type: 'prop'): (def: TMetaArgs) => PropertyDecorator;\n  createDecorator(type: 'method'): (def: TMetaArgs) => MethodDecorator;\n  createDecorator(type: 'propMethod'): (def: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  createDecorator(type: 'classPropMethod'): (def: TMetaArgs) => ClassDecorator | PropertyDecorator | MethodDecorator;\n  createDecorator(): (def: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  createDecorator(optional: true, type: 'class'): (def?: TMetaArgs) => ClassDecorator;\n  createDecorator(optional: true, type: 'param'): (def?: TMetaArgs) => ParameterDecorator;\n  createDecorator(optional: true, type: 'prop'): (def?: TMetaArgs) => PropertyDecorator;\n  createDecorator(optional: true, type: 'method'): (def?: TMetaArgs) => MethodDecorator;\n  createDecorator(optional: true, type: 'propMethod'): (def?: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  createDecorator(optional: true, type: 'classPropMethod'): (def?: TMetaArgs) => ClassDecorator | PropertyDecorator | MethodDecorator;\n  createDecorator(optional: true): (def?: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  createDecorator(...args: any[]): any {\n    return <any> ( (def: TMetaArgs) => {\n      return (target: Object | Function, key: TdmPropertyKey, desc?: PropertyDescriptor) => {\n        this.create(def, target, key, desc);\n      };\n    } );\n  }\n\n  /**\n   * @internal\n   * set by target-store.ts\n   */\n  public register: RegisterFn;\n\n  /**\n   * @internal\n   */\n  extend?: ExtendFn;\n  extendSingle?: ExtendSingleFn<TMetaClass>;\n\n  /**\n   * @internal\n   */\n  public factory(metaArgs: TMetaArgs,\n                 target: Object | Function,\n                 info: DecoratorInfo,\n                 key?: TdmPropertyKey,\n                 desc?: PropertyDescriptor | number): MetaClassInstanceDetails<TMetaArgs, TMetaClass> {\n    const type = ensureTargetIsType(target);\n    const meta = {\n      info,\n      target: type,\n      metaClassKey: this.target,\n      metaPropKey: this.metaArgs.single === true ? GLOBAL_KEY : info.name,\n      metaValue: new this.target(metaArgs, info, type)\n    };\n\n    return meta;\n  }\n\n  /**\n   * Given a MetaClassInstanceDetails, if its a single metadata (single) and has a chain (inherit)\n   * it will go up the chain and create MetaClassInstanceDetails that match the given one just with\n   * the inherited class as the metaClass property.\n   *\n   * This is used to allow registering inheriting single metadata classes.\n   * For example, a ModelMetadata might get extended by an adapter resource, the only metadata class\n   * registered is the extending one, if we will not register the ModelMetadata token as well logic\n   * that expects to find it will fail.\n   * @param meta\n   * @returns\n   */\n  private singleChain(meta: MetaClassInstanceDetails<TMetaArgs, TMetaClass>): Array<MetaClassInstanceDetails<TMetaArgs, TMetaClass>> | undefined {\n    if ( this.metaArgs.single === true && this.metaArgs.inherit ) {\n      const parentMeta = Object.create(meta);\n      parentMeta.metaClassKey = this.metaArgs.inherit;\n\n      const deep = getMetaClass(this.metaArgs.inherit).singleChain(meta);\n      return deep\n        ? [ parentMeta, ...deep ]\n        : [ parentMeta ]\n        ;\n    }\n  }\n\n  private findProxies(metaArgs: TMetaArgs | undefined): Array<{ meta: MetaClassMetadata; args: any[] }> {\n    const results: Array<{ meta: MetaClassMetadata; args: any[] }> = [];\n\n    if ( metaArgs ) {\n\n      // we need to take into account parent metadata\n      if ( this.metaArgs.inherit ) {\n        results.splice(0, 0, ...MetaClass.get(this.metaArgs.inherit).findProxies(metaArgs));\n      }\n\n      const local = this.proxyTo.map(proxy => {\n        if ( metaArgs.hasOwnProperty(proxy.containerKey) ) {\n          const myMetaArgs = isFunction(proxy.before)\n            ? proxy.before(metaArgs[ proxy.containerKey ])\n            : metaArgs[ proxy.containerKey ]\n          ;\n\n          delete metaArgs[ proxy.containerKey ];\n\n          return proxy.forEach === true && Array.isArray(myMetaArgs)\n            ? { meta: proxy.metaClass, args: myMetaArgs }\n            : { meta: proxy.metaClass, args: [ myMetaArgs ] }\n            ;\n        }\n      });\n\n      results.splice(results.length, 0, ...local);\n    }\n    return results;\n  }\n\n  /**\n   * A factory for {@link MetaClassMetadata} instances\n   *\n   * > This will create an instance of a metadata class container.\n   * A Metadata container can create instances of the metadata class it \"contains\", thus, the instance\n   * returned from the static `create` method also has a 'create' method however that instance level\n   * `create` method is a factory for instance of the metadata class, not the container.\n   *\n   * @param target\n   * @param metaArgs\n   * @returns\n   */\n  static create<TMetaArgs = any, TMetaClass = any>(target: MetadataClassStatic<TMetaArgs, TMetaClass>,\n                                                   metaArgs?: MetaClassMetadataArgs<TMetaArgs, TMetaClass>): MetaClassMetadata<TMetaArgs, TMetaClass> {\n    return new MetaClassMetadata<TMetaArgs, TMetaClass>(target, metaArgs);\n  }\n}\n\nexport function getMetaClass<TMetaArgs = any, TMetaClass = any>(target: MetadataClassStatic<TMetaArgs, TMetaClass>): MetaClassMetadata<TMetaArgs, TMetaClass> {\n  return store.get(target);\n}\n\nexport function MetaClass<TMetaArgs, TMetaClass = any, Z = any>(metaArgs?: MetaClassMetadataArgs<TMetaArgs, TMetaClass>) {\n  return (target: Z & MetadataClassStatic<TMetaArgs, TMetaClass>): Z & MetadataClassStatic<TMetaArgs, TMetaClass> | void => {\n    store.set(target, MetaClassMetadata.create(target, metaArgs));\n  };\n}\n\n// tslint:disable-next-line:no-namespace\nexport namespace MetaClass {\n  /**\n   * Creates a metadata class instance.\n   * This is a shortcut for `MetaClass.get(MyMetadataClass).create(...);\n   * @param metaClass\n   * @param metaArgs\n   * @param target\n   * @param key\n   * @param desc\n   */\n  export function create<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n                                                   metaArgs: TMetaArgs,\n                                                   target: Object | Function,\n                                                   key?: TdmPropertyKey,\n                                                   desc?: PropertyDescriptor | number): TMetaClass {\n    return store.get(metaClass).create(metaArgs, target, key, desc);\n  }\n\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, type: 'class'): (def: TMetaArgs) => ClassDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, type: 'param'): (def: TMetaArgs) => ParameterDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, type: 'prop'): (def: TMetaArgs) => PropertyDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, type: 'method'): (def: TMetaArgs) => MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, type: 'propMethod'): (def: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, type: 'classPropMethod'): (def: TMetaArgs) => ClassDecorator | PropertyDecorator | MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>): (def: TMetaArgs) => (target: Object, propertyKey: string | symbol, descOrIndex?: PropertyDescriptor | number) => any;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, optional: true, type: 'class'): (def?: TMetaArgs) => ClassDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, optional: true, type: 'param'): (def?: TMetaArgs) => ParameterDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, optional: true, type: 'prop'): (def?: TMetaArgs) => PropertyDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, optional: true, type: 'method'): (def?: TMetaArgs) => MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, optional: true, type: 'propMethod'): (def?: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, optional: true, type: 'classPropMethod'): (def?: TMetaArgs) => ClassDecorator | PropertyDecorator | MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, optional: true): (def?: TMetaArgs) => (target: Object, propertyKey: string | symbol, descOrIndex?: PropertyDescriptor | number) => any;\n  export function decorator<TMetaArgs, TMetaClass, Z>(metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>, ...args: any[]): any {\n    return <any> store.get(metaClass).createDecorator();\n  }\n\n  export function defaultRegistrator(fn: (meta: MetaClassInstanceDetails<any, any>) => void): void {\n    MetaClassMetadata.prototype[ 'register' ] = fn;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/metadata-framework/meta-class.ts","import {\n  TransformDir,\n  BaseMetadata,\n  DecoratorInfo,\n  MetaClass,\n  MetaClassMetadata,\n  MetaClassInstanceDetails\n} from '../fw';\n\nimport { targetStore } from './target-store';\nimport { PropMetadata } from './prop';\n\nexport interface ExcludeMetadataArgs {\n  /**\n   * The type of transformation to exclude from, if not set excludes from all.\n   * @optional\n   * @default undefined (all)\n   */\n  from?: TransformDir;\n}\n\ndeclare module './prop' {\n  interface PropMetadataArgs {\n    exclude?: true | ExcludeMetadataArgs;\n  }\n}\n\n// exporting to satisfy angular AOT\nexport function factory(this: MetaClassMetadata<ExcludeMetadataArgs, ExcludeMetadata>,\n                        metaArgs: ExcludeMetadataArgs, target: Object | Function,\n                        info: DecoratorInfo): MetaClassInstanceDetails<ExcludeMetadataArgs, ExcludeMetadata> | undefined {\n  if (info.type === 'class') {\n    targetStore.getTargetMeta(<any> target).model().transformStrategy = 'exclusive';\n  } else {\n    return {\n      info,\n      target: <any> target.constructor,\n      metaClassKey: ExcludeMetadata,\n      metaPropKey: info.name,\n      metaValue: new ExcludeMetadata(metaArgs, info)\n    };\n  }\n}\n\n@MetaClass<ExcludeMetadataArgs, ExcludeMetadata>({\n  allowOn: ['class', 'member'],\n  extend: 'mergeMap',\n  proxy: {\n    host: PropMetadata,\n    containerKey: 'exclude'\n  },\n  factory\n})\nexport class ExcludeMetadata extends BaseMetadata {\n  from?: TransformDir;\n\n  constructor(metaArgs: ExcludeMetadataArgs, info: DecoratorInfo) {\n    super(info);\n\n    if (metaArgs) {\n      this.from = metaArgs.from;\n    }\n  }\n}\n\n// to make it easy on generics later\ndeclare module '../fw/metadata-framework/meta-class' {\n  module MetaClass {\n    function get(target: typeof ExcludeMetadata): MetaClassMetadata<ExcludeMetadataArgs, ExcludeMetadata>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/metadata/exclude.ts","import { Tixin } from '@tdm/tixin';\nimport { targetStore } from '../metadata/target-store';\nimport { Constructor } from '../fw';\n\nconst TDMCollectionMark = Symbol('TDMCollection instance mark');\nconst NON_EXTENDABLE_PROPS = ['constructor'];\n\nconst pCopyMap = new Map<any, Array<string | symbol>>();\n\nfunction buildAndCacheProperties(proto: any) {\n  const propertiesToCopy = Object.getOwnPropertyNames(proto)\n    .concat(Object.getOwnPropertySymbols(proto) as any)\n    .filter(v => NON_EXTENDABLE_PROPS.indexOf(v) === -1);\n\n  pCopyMap.set(proto, propertiesToCopy);\n}\n\nfunction runtimeExtend(proto: any, thisVar: Array<any>): any {\n  const propertiesToCopy = pCopyMap.get(proto) || [];\n\n  thisVar[TDMCollectionMark] = true;\n\n  for (let i=0, len=propertiesToCopy.length; i<len; i++) {\n    const name = propertiesToCopy[i];\n    const propDesc = Object.getOwnPropertyDescriptor(proto, name);\n    if (propDesc) {\n      Object.defineProperty(thisVar, name, propDesc);\n    } else {\n      thisVar[name] = proto[name];\n    }\n  }\n}\n\n// TODO: document the class and how to use it. explain about methods that return new instance (concat, reverse, etc) that return Array instance and not ActiveRecordCollection instance.\n// TODO: override ref changing methods? throw on them? return ActiveRecordCollection on them?\nexport class TDMCollection<T /* extends ActiveRecord<any, any> */> extends Array<T> {\n  constructor() {\n    super();\n    runtimeExtend(TDMCollection.prototype, this);\n  }\n\n  static extend(type: any): void {\n    Tixin(TDMCollection as any, type);\n    buildAndCacheProperties(TDMCollection.prototype);\n  }\n\n  static instanceOf(instance: any): instance is TDMCollection<any> {\n    return instance[TDMCollectionMark] === true;\n  }\n\n  /**\n   * Creates a new instance of TDMCollection.\n   * If a type is specified, returns the TDMCollection class for that type.\n   * It is recommended to use this method along with a type to ensure plugins functionality.\n   * @param type\n   */\n  static create<T>(type?: Constructor<T>): TDMCollection<T> {\n    if (!type) {\n      return new TDMCollection<any>();\n    } else {\n      return targetStore.getTargetMeta(type).createCollection();\n    }\n  }\n\n  /**\n   * Creates a new TDMCollection class mixed in with the proto object.\n   * @param proto An object literal used as a mixin to the TDMCollection prototype.\n   * @returns\n   */\n  static factory<T>(proto: any): typeof TDMCollection & Constructor<TDMCollection<T>> {\n    const clz = class RuntimeTDMCollection<T> extends TDMCollection<T> {\n      constructor() {\n        super();\n        runtimeExtend(clz.prototype, this);\n      }\n\n      static extend(type: any): void {\n        Tixin(TDMCollection as any, type);\n        buildAndCacheProperties(clz.prototype);\n      }\n    };\n\n    Object.defineProperty(clz, Symbol.hasInstance, {\n      value: clz.instanceOf\n    });\n\n    Object.assign(clz.prototype, proto);\n    buildAndCacheProperties(clz.prototype);\n\n    return clz;\n  }\n}\n\nObject.defineProperty(TDMCollection, Symbol.hasInstance, {\n  value: TDMCollection.instanceOf\n});\n\nbuildAndCacheProperties(TDMCollection.prototype);\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/model/tdm-collection.ts","import { array } from '../fw';\nimport { ExcludeMetadata, PropMetadata } from '../metadata';\n\n/**\n * Mappings between properties of a plain object to a class\n * @internal\n */\nexport interface PoClassPropertyMap {\n  cls: TdmPropertyKey;\n  obj: string;\n  exclude?: ExcludeMetadata;\n  prop?: PropMetadata;\n}\n\nexport interface CompiledTransformation {\n  /**\n   * Excluded members that doesn't have a @Prop decorator.\n   * All @Exclude instructions on members with @Prop instructions are add to the PoClassPropertyMap\n   */\n  excluded: ExcludeMetadata[];\n  instructions: PoClassPropertyMap[];\n}\n\nexport function transformValueOut(value: any, prop: PropMetadata): any {\n  if (prop && prop.transform && prop.transform.outgoing) {\n    return prop.transform.outgoing(value);\n  }\n  return value;\n}\n\nexport function transformValueIn(value: any, prop: PropMetadata): any {\n  if (prop && prop.transform && prop.transform.incoming) {\n    return prop.transform.incoming(value);\n  }\n  return value;\n}\n\nfunction excludedPredicate(e: ExcludeMetadata) { return e.name === this; }\n\nexport interface PropertyContainer {\n\n  target: any;\n\n  forEach(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void;\n\n  /**\n   * A forEach loop on all instructions including excluded instructions and properties not in \"keys\" but in metadata.\n   * It is recommended to use \"forEach\" unless the mapper implementation has different transformation strategies.\n   * @param keys\n   * @param cb\n   */\n  forEachRaw(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void;\n}\n\nexport class InclusivePropertyContainer implements PropertyContainer {\n\n  constructor(\n    public target: any,\n    private compiled: CompiledTransformation,\n    private predicate: (p: PoClassPropertyMap) => boolean,\n    private renamer?: (po: PoClassPropertyMap) => string\n  ){ }\n\n  forEach(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void {\n    let len = keys.length;\n\n    const instructions = this.compiled.instructions.slice();\n    const excluded = this.compiled.excluded.slice();\n\n    for (let i = 0; i < len; i++) {\n      let prop: PoClassPropertyMap = array.findRemove(instructions, this.predicate, keys[i])\n        || { cls: keys[i] , obj: keys[i], exclude: array.findRemove(excluded, excludedPredicate, keys[i]) };\n\n      if (!prop.exclude) {\n        // we only transform names for ad-hoc properties. registered @Prop's are transformed\n        // when the prop is compiled.\n        if (!prop.prop && this.renamer) {\n          this.renamer(prop);\n        }\n        cb(prop);\n      }\n    }\n  }\n\n  /**\n   * A forEach loop on all instructions including excluded instructions and properties not in \"keys\" but in metadata.\n   * It is recommended to use \"forEach\" unless the mapper implementation has different transformation strategies.\n   * @param keys\n   * @param cb\n   */\n  forEachRaw(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void {\n    let len = keys.length;\n\n    const instructions = this.compiled.instructions.slice();\n    const excluded = this.compiled.excluded.slice();\n\n    for (let i = 0; i < len; i++) {\n      let prop: PoClassPropertyMap = array.findRemove(instructions, this.predicate, keys[i])\n        || { cls: keys[i] , obj: keys[i], exclude: array.findRemove(excluded, excludedPredicate, keys[i]) };\n\n      // we only transform names for ad-hoc properties. registered @Prop's are transformed\n      // when the prop is compiled.\n      if (!prop.prop && this.renamer) {\n        this.renamer(prop);\n      }\n      cb(prop);\n    }\n\n    len = instructions.length;\n    for (let i = 0; i < len; i++) {\n      let prop: PoClassPropertyMap = instructions[i];\n\n      // we only transform names for ad-hoc properties. registered @Prop's are transformed\n      // when the prop is compiled.\n      if (!prop.prop && this.renamer) {\n        this.renamer(prop);\n      }\n      cb(prop);\n    }\n\n  }\n}\n\n\nexport class ExclusivePropertyContainer implements PropertyContainer {\n\n  constructor(public target: any, private compiled: CompiledTransformation) { }\n\n  forEach(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void {\n    const instructions = this.compiled.instructions;\n    // No need to apply transformNameStrategy, it is cached in the instructions.\n    for (let i = 0, len = instructions.length; i < len; i++) {\n      !instructions[i].exclude && cb(instructions[i]);\n    }\n  }\n\n  /**\n   * A forEach loop on all instructions including excluded instructions and properties not in \"keys\" but in metadata.\n   * It is recommended to use \"forEach\" unless the mapper implementation has different transformation strategies.\n   * @param keys\n   * @param cb\n   */\n  forEachRaw(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void {\n    const instructions = this.compiled.instructions;\n    for (let i = 0, len = instructions.length; i < len; i++) {\n      cb(instructions[i]);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/mapping/prop-container.ts","import {\n  getProtoChain,\n  targetEvents,\n  stringify,\n  TransformStrategy,\n  NamingStrategyConfig,\n  MetaClass,\n  BaseMetadata,\n  DecoratorInfo,\n  Constructor,\n  MetaClassMetadata\n} from '../../fw';\nimport { targetStore, TargetMetadata, ModelMetadataArgs } from '../../metadata';\nimport { MapperFactory } from '../../mapping';\n\nexport const MODEL_PH = Symbol('ModelMetadata placeholder');\n\n// exporting to satisfy angular AOT\n/** @internal */\nexport function extendSingle(from: ModelMetadata,\n                             to: ModelMetadata | undefined,\n                             meta: { from: Constructor<any>, to: Constructor<any> }): ModelMetadata | undefined {\n  if (!to) {\n    const tMeta = targetStore.getTargetMeta(meta.to);\n    return tMeta[MODEL_PH] = from.clone(meta.to);\n  } else {\n    Object.keys(from).forEach( k => {\n      if (! (k in to) ) {\n        to[k] = from[k];\n      }\n    });\n  }\n}\n\n@MetaClass<ModelMetadataArgs, ModelMetadata>({\n  allowOn: ['class'],\n  single: true,\n  extendSingle\n})\nexport class ModelMetadata extends BaseMetadata implements ModelMetadataArgs {\n  identity: TdmPropertyKey;\n  resName: string;\n  transformStrategy: TransformStrategy | undefined;\n  transformNameStrategy: NamingStrategyConfig | undefined;\n  mapper: MapperFactory;\n\n  tMeta: TargetMetadata;\n  target: Constructor<any>;\n  skip?: true;\n\n  get built(): boolean {\n    return this._built;\n  }\n\n  private _built: boolean;\n\n  constructor(metaArgs: ModelMetadataArgs, info: DecoratorInfo, target: Constructor<any>) {\n    super(info);\n\n    const tMeta = targetStore.getTargetMeta(target);\n\n    /*\n    Checking up the proto-tree if there are temp model metadata values set.\n    This allows inheritance of model classes where the base class has no class decorator but do have\n    member decorators.\n\n    ```ts\n        class UserBase {\n          @Identity()\n          @UrlParam() id: number;\n        }\n\n        @HttpResource({\n          endpoint: '/api/users/:id/:param',\n          urlParams: { param: '99' }\n        })\n        class User extends ActiveRecord(UserBase) { }\n    ```\n\n    In the example, UserBase does not have a class decorator but the derived class User does.\n\n    > Note: Stopping on the first prototype that has an instantiated ModelMetadata, we can stop there\n    because implementation will invoke `extend` for prototypes and since it's now an instance it will auto-extend.\n     */\n    const protoChain = getProtoChain(target);\n    for (let i = protoChain.length  - 1; i > 0; i--) { // we skip idx 0, its the target itself.\n      const meta = targetStore.hasTarget(protoChain[i]) && targetStore.getTargetMeta(protoChain[i]);\n      if (meta) {\n        if (meta[MODEL_PH] && !meta.hasModel) {\n          Object.assign(this, meta[MODEL_PH]);\n        } else if (meta.hasModel) {\n          break;\n        }\n      }\n    }\n\n    const classMetadata = tMeta.hasOwnProperty(MODEL_PH) ? tMeta[MODEL_PH] : {};\n    Object.assign(\n      this,\n      classMetadata,\n      metaArgs || {},\n      {target, tMeta} // last obj is for clone, so we won't take previous values\n    );\n\n    if (!this.resName) {\n      this.resName = stringify(target);\n    }\n\n    tMeta[MODEL_PH] = this;\n  }\n\n  clone(target: Constructor<any>): ModelMetadata {\n    const ctor: typeof ModelMetadata = <any> this.constructor;\n    return new ctor(this, this.decoratorInfo, target);\n  }\n\n  factory(isColl: boolean): any {\n    return isColl ? this.tMeta.createCollection() : new this.target();\n  }\n\n  /**\n   * Build the model.\n   * @param safe If set to true will not throw if the model is already built.\n   * @returns true if the model was built by this call\n   */\n  build(safe?: true): boolean {\n    if (this.built) {\n      if (safe === true) {\n        return false;\n      } else {\n        throw new Error(`\"${stringify(this.target)}\" already built.`);\n      }\n    }\n    this._built = true;\n    targetEvents.FIRE.beforeProcessType(this.target);\n    targetEvents.FIRE.processType(this.target);\n    return true;\n  }\n}\n\ndeclare module '../../fw/metadata-framework/meta-class' {\n  namespace MetaClass {\n    function get(target: typeof ModelMetadata): MetaClassMetadata<ModelMetadataArgs, ModelMetadata>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/add/model/model.ts","import { MetaClass, getProtoChain } from '../../fw';\nimport { targetStore, ModelMetadataArgs } from '../../metadata';\nimport { ModelMetadata } from './model';\n\n/**\n * @propertyDecorator static\n * @param metaArgs\n */\nexport function Model(metaArgs?: ModelMetadataArgs): Function {\n  return (target: any) => {\n    const metaClass = MetaClass.create(ModelMetadata, metaArgs, target);\n    processModel(target, metaClass, metaClass.skip !== true);\n  };\n}\n\n/**\n * Takes a model and process it.\n * The first step is to extend the target, if it inherits.\n * The second step is calling the build() method on the metadata class which will\n * start the event lifecycle.\n */\nexport function processModel(target: any, metaClass: ModelMetadata, build?: boolean) {\n  for (let proto of getProtoChain(target)) {\n    if (target !== proto && targetStore.hasTarget(proto)) {\n      targetStore.extend(proto, target);\n    }\n  }\n\n  if (build) {\n    metaClass.build();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/add/model/decorator.ts","import { LazyInit, TransformDir, NamingStrategyConfig, isFunction, array } from '../fw';\nimport { PropMetadata, ExcludeMetadata, TargetMetadata } from '../metadata';\n\nimport {\n  SerializeMapper,\n  DeserializeMapper,\n  CompiledTransformation,\n  PoClassPropertyMap,\n  PropertyContainer,\n  ExclusivePropertyContainer,\n  InclusivePropertyContainer,\n  transformValueIn\n} from './index';\n\n/**\n * Returns an array of 2 property names, first is the name of the transformed output\n * second is the name of the property name to transform.\n * Used for applying NamingStrategyConfig based on the TransformDir\n * @param dir\n * @param transformNameStrategy\n */\nexport function namingStrategyMap(dir: TransformDir, transformNameStrategy: NamingStrategyConfig): boolean {\n  return transformNameStrategy && isFunction(transformNameStrategy[dir]);\n}\n\n/**\n * @internal\n */\nexport function getInstructions<T, Z>(meta: TargetMetadata<T, Z>, dir: TransformDir): CompiledTransformation {\n  // all excluded instructions for this type\n  // this array will be filtered to hold only @Exclude without @Prop\n  const excluded = meta.getValues(ExcludeMetadata)\n    .filter(e => !e.from || e.from === dir);\n\n  const model = meta.model();\n\n  // in exclusive mode there is no point in have 2 transformation strategies.\n  // incoming is never there since incoming keys are not calculated, only defined Props.\n  if (model.transformStrategy === 'exclusive') {\n    dir = 'outgoing';\n  }\n\n  // only apply naming strategy on outgoing, incoming has no effect here\n  const naming = namingStrategyMap(dir, model.transformNameStrategy);\n\n  const fkMap = new Map<PropMetadata, PoClassPropertyMap[]>();\n\n  // TODO: move to for loop\n  const instructions = meta.getValues(PropMetadata)\n    .map(prop => {\n      const obj = {\n        cls: prop.name,\n        obj: prop.alias[dir],\n        exclude: array.findRemove(excluded, e => e.name === prop.name),\n        prop\n      };\n\n      // apply naming strategy when DONT HAVE ALIAS!\n      if (!obj.exclude && naming && obj.cls === obj.obj) {\n        obj.obj = model.transformNameStrategy[dir](obj.cls);\n      }\n\n      // store the PoClassPropertyMap of a belongsTo PropMetadata relation\n      // and the PoClassPropertyMap of all foreign key PropMetadata.\n      // These arr actually matching pairs of a belongTo relation and it's fk\n      // (not all belongsTo has fk, only different property name is a fk)\n      //\n      // At the end, go through the stored PropMetadata's and see if matching pairs found (2 values in array)\n      // for all of them, swap the prop names so:\n      // belongsTo PoClassPropertyMap will output (deserialize) to the original fk property name\n      // foreignKey PoClassPropertyMap wil input (serialize) to the belongsTo property name\n      // this swap make the deserialize/serialize process transparent to fk mismatch defined on the model.\n      // De/Serialize implementations are only responsible to return the right object\n      // (e.g. detect when a key is incoming, return obj instead)\n      if (prop.relation) {\n        const arr = fkMap.get(prop) || [];\n        arr[0] = obj;\n        fkMap.set(prop, arr);\n      } else if (prop.foreignKeyOf) {\n        const arr = fkMap.get(prop.foreignKeyOf) || [];\n        arr[1] = obj;\n        fkMap.set(prop.foreignKeyOf, arr);\n      }\n\n      return obj;\n    });\n\n  Array.from(fkMap.entries()).forEach(([k, v]) => {\n    if (v.length === 2) {\n      // this is a swap\n      v[0].obj = v[1].cls as any;\n      v[1].cls = k.name as any; // v[0].cls === k.name\n    }\n  });\n\n  return {excluded, instructions};\n}\n\nfunction serializePredicate(p: PoClassPropertyMap) {\n  return p.cls === this;\n}\nfunction deserializePredicate(p: PoClassPropertyMap) {\n  return p.obj === this;\n}\n\n/**\n * A Target transformer is the running context of a mapper.\n * It will run the mapper, provide input and parse results\n */\nexport class TargetTransformer<T, Z> {\n\n  @LazyInit(function (this: TargetTransformer<T, Z>): PoClassPropertyMap | undefined {\n    const idKey = this.meta.getIdentityKey();\n    if (idKey) {\n      return (this.hasOwnProperty('incoming') ? this.incoming : this.outgoing)\n        .instructions.find(p => p.prop.name === idKey);\n    }\n  })\n  protected identity: PoClassPropertyMap | undefined;\n\n  @LazyInit(function (this: TargetTransformer<T, Z>): CompiledTransformation {\n    return getInstructions(this.meta, 'incoming');\n  })\n  protected incoming: CompiledTransformation;\n\n  @LazyInit(function (this: TargetTransformer<T, Z>): CompiledTransformation {\n    return getInstructions(this.meta, 'outgoing');\n  })\n  protected outgoing: CompiledTransformation;\n\n  @LazyInit(function (this: TargetTransformer<T, Z>): PropertyContainer {\n    const model = this.meta.model();\n    if (model.transformStrategy === 'exclusive') {\n      return new ExclusivePropertyContainer(this.meta.target, this.incoming);\n    } else {\n      const rename = namingStrategyMap('incoming', model.transformNameStrategy)\n        ? (prop) => prop.cls = model.transformNameStrategy.incoming(prop.obj)\n        : undefined\n      ;\n      return new InclusivePropertyContainer(this.meta.target, this.incoming, deserializePredicate, rename);\n    }\n  })\n  protected incomingContainer: PropertyContainer;\n\n  @LazyInit(function (this: TargetTransformer<T, Z>): PropertyContainer {\n    const model = this.meta.model();\n    if (model.transformStrategy === 'exclusive') {\n      return new ExclusivePropertyContainer(this.meta.target, this.outgoing);\n    } else {\n      const rename = namingStrategyMap('outgoing', model.transformNameStrategy)\n        ? (prop) => prop.obj = model.transformNameStrategy.outgoing(prop.cls)\n        : undefined\n      ;\n      return new InclusivePropertyContainer(this.meta.target, this.outgoing, serializePredicate, rename);\n    }\n  })\n  protected outgoingContainer: PropertyContainer;\n\n  constructor(protected meta: TargetMetadata<T, Z>) { }\n\n  serialize(mapper: SerializeMapper): any {\n    return mapper.serialize(this.outgoingContainer);\n  }\n\n  /**\n   * Deserialize a single target.\n   * Does not support collection deserialization, if mapper is a collection will throw.\n   * @param mapper\n   * @param target\n   */\n  deserialize(mapper: DeserializeMapper, target: any): void {\n    const cb = (prop: PoClassPropertyMap) => {\n      const propMeta = (prop.prop && prop.prop.foreignKeyOf) || prop.prop;\n      target[prop.cls] = transformValueIn(mapper.getValue(prop.obj, propMeta), propMeta);\n    };\n\n    if (isFunction(mapper.setRef)) {\n      mapper.setRef(target);\n    }\n\n    if (mapper.raw === true) {\n      this.incomingContainer.forEachRaw(mapper.getKeys(), cb);\n    } else {\n      this.incomingContainer.forEach(mapper.getKeys(), cb);\n    }\n\n    if (isFunction(mapper.getIdentity)) {\n      if (this.identity) {\n        const ident = transformValueIn(mapper.getIdentity(), this.identity.prop);\n        if (ident) {\n          target[this.identity.cls] = ident;\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/mapping/target-transformer.ts","import {\n  Constructor,\n  MetaClass,\n  targetStore,\n  TypeMetadata,\n  ExcludeMetadata,\n  ExcludeMetadataArgs,\n  PropMetadata,\n  RelationMetadata,\n  TypeDefinition,         // leave for angular AOT compiler.\n  PropMetadataArgs,       // leave for angular AOT compiler.\n  RelationMetadataArgs    // leave for angular AOT compiler.\n} from '@tdm/core/tdm';\n\ntargetStore.on\n  .processType((target: Constructor<any>) => {\n    const meta = targetStore.getTargetMeta(target);\n    meta.getValues(RelationMetadata)\n      .forEach(relation => {\n        // Its possible to set @Relation() without @Prop(), so make sure to create one if not set by the user.\n        const prop = meta.getCreateProp(relation.decoratorInfo);\n        prop.setRelationship(relation);\n\n        // if the fk is a different key, attach a reference to the foreign key PropMetadata (and create 1 if not there)\n        if (relation.name !== relation.foreignKey) {\n          meta.getCreateProp(relation.foreignKey).foreignKeyOf = prop;\n        }\n      });\n  });\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const Prop = MetaClass.decorator(PropMetadata, true);\n\n/** @internal */\nexport let exclude: any = {};\nexclude = MetaClass.decorator(ExcludeMetadata, true, 'classPropMethod'); // for Angular AOT\n\n/**\n * @propertyDecorator instance\n */\nexport function Exclude(metaArgs?: ExcludeMetadataArgs): (target: Object | Function,\n                                                          key?: TdmPropertyKey,\n                                                          desc?: PropertyDescriptor) => any {\n  return exclude(metaArgs) as any;\n}\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const Relation = MetaClass.decorator(RelationMetadata, true);\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const Type = MetaClass.decorator(TypeMetadata);\n\n/**\n * @propertyDecorator instance\n */\nexport function Identity(): Function {\n  return (target: Object, key: TdmPropertyKey) => {\n    targetStore.getTargetMeta(<any> target.constructor).model().identity = key;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/src/decorators.ts","import {\n  isFunction,\n  targetStore,\n  Constructor,\n  DecoratorInfo,\n  MetadataClassStatic,\n  MetaClass,\n  MetaClassMetadata,\n  MetaClassInstanceDetails\n} from '@tdm/core/tdm';\n\nimport { array } from '../../utils/index';\nimport { DAOMethods, DAOContext, DAOContextSymbol } from '../../dao/index';\nimport { ActionMetadata, ActionMetadataArgs } from './action';\n\nfunction unsupportedDAOCmd() {\n  // TODO: normalize error.\n  return Promise.reject(new Error(`DAO does not support this action`));\n}\n\nexport interface AdapterMetadataArgs {\n  actionMetaClass: MetadataClassStatic;\n  DAOClass: Constructor<any>;\n  /**\n   * The resource metadata class.\n   * If not set the metadata arguments are registered to the target metadata instance\n   */\n  resourceMetaClass?: MetadataClassStatic;\n}\n\n// this is here so we don't break the flow.\n// adapter meta is different then other meta's since it might get created before the meta is available\n// since metadata (actions) for the adapter might be set before the meta is created.\n// this workaround prevents the need for an adapter store, the meta is used as the store.\n// to support that we allow setting the metadata args in a later period.\n// the register() method is aware of that and knows how to handle this scenario.\n/** @internal */\nexport function factory(this: MetaClassMetadata<AdapterMetadataArgs, AdapterMetadata>,\n                        metaArgs: AdapterMetadataArgs,\n                        target: Object,\n                        info: DecoratorInfo): MetaClassInstanceDetails<AdapterMetadataArgs, AdapterMetadata> {\n  return <any> Object\n    .assign(this.constructor.prototype.factory.call(this, metaArgs, target, info), { metaArgs });\n}\n\n/** @internal */\nexport function register(this: MetaClassMetadata<AdapterMetadataArgs, AdapterMetadata>,\n                         meta: MetaClassInstanceDetails<AdapterMetadataArgs, AdapterMetadata>): void {\n  const adapter = targetStore.getAdapter(meta.target);\n  Object.assign(adapter, meta['metaArgs']);\n\n  adapter.buildDAO();\n}\n\n@MetaClass<AdapterMetadataArgs, AdapterMetadata>({\n  allowOn: ['class'],\n  factory,\n  register\n})\nexport class AdapterMetadata {\n  actionMetaClass: MetadataClassStatic;\n  DAOClass: Constructor<any>;\n  resourceMetaClass?: MetadataClassStatic;\n\n  private actions = new Map<any, ActionMetadata[]>();\n\n  addAction(meta: ActionMetadata, target: Constructor<any>): void;\n  addAction(meta: MetaClassInstanceDetails<ActionMetadataArgs, ActionMetadata>): void;\n  addAction(meta: ActionMetadata | MetaClassInstanceDetails<ActionMetadataArgs, ActionMetadata>,\n            target?: Constructor<any>): void {\n    if (!isFunction(target)) {\n      target = (<any> meta).target;\n      meta = (<any> meta).metaValue;\n    }\n    const actions = this.actions.get(target) || [];\n    actions.push((<any> meta));\n    this.actions.set(target, actions);\n  }\n\n  getDAOAction(key: string): ActionMetadata {\n    return this.actions.get(this.DAOClass).find(a => a.name === key);\n  }\n\n  getActions(...targets: any[]): ActionMetadata[] {\n    const metadataColl = targets.map( t => this.actions.get(t) ).filter( t => !!t );\n    return array.flatten(metadataColl);\n  }\n\n  /**\n   * @internal\n   */\n  buildDAO(): void {\n    const actions = this.getActions(this.DAOClass);\n    const daoProto = this.DAOClass.prototype;\n\n    actions.forEach(action => {\n      if (action.decoratorInfo.isStatic) {\n        throw new Error('DAO can not define static actions.');\n      }\n\n      daoProto[action.name] = function (...args: any[]) {\n        const ctx: DAOContext = this[DAOContextSymbol];\n        return targetStore.getAC(ctx.target, ctx.adapter)\n          .createExecFactory(action, 'promise')(undefined, { args, factoryArgs: ctx.factoryArgs });\n      };\n\n      if (action.alias) {\n        action.alias.forEach( alias => daoProto[alias] = daoProto[action.name] );\n      }\n\n    });\n\n    // set unsupported handlers for missing commands.\n    const keys = Object.keys(DAOMethods);\n    for (let key of keys) {\n      if (!daoProto[key]) {\n        daoProto[key] = unsupportedDAOCmd;\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/metadata/meta-types/adapter.ts","import {\n  errors,\n  targetStore,\n  MapExt,\n  DecoratorInfo,\n  MetaClassInstanceDetails,\n  MetaClassMetadata,\n  MetaClass,\n  BaseMetadata\n} from '@tdm/core/tdm';\n\nimport { ARHookableMethods, ARHooks } from '../../fw';\n\nexport interface StoredHook {\n  before?: HookMetadata;\n  after?: HookMetadata;\n}\n\nexport interface HookMetadataArgs {\n  event: 'before' | 'after';\n  action: ARHookableMethods;\n}\n\n/** @internal */\nexport function factory(this: MetaClassMetadata<HookMetadataArgs, HookMetadata>,\n                        metaArgs: HookMetadataArgs,\n                        target: Object,\n                        info: DecoratorInfo,\n                        key: TdmPropertyKey,\n                        desc: PropertyDescriptor): MetaClassInstanceDetails<HookMetadataArgs, HookMetadata> {\n  const { action } = metaArgs;\n\n  if (!ARHooks.hasOwnProperty(action)) {\n    errors.throw.decorator(target, `Invalid hook '${action}'`, key);\n  }\n\n  const t = ARHooks[action].type;\n  if (info.isStatic ? t === 'instance' : t === 'static') {\n    errors.throw.decorator(target, `Hook '${action}' can only decorate ${t} methods`, key);\n  }\n  return this.constructor.prototype.factory.call(this, metaArgs, target, info, key, desc);\n}\n\n/** @internal */\nexport function register(this: MetaClassMetadata<HookMetadataArgs, HookMetadata>,\n                  meta: MetaClassInstanceDetails<HookMetadataArgs, HookMetadata>): void {\n  const hook: StoredHook = {[meta.metaValue.event]: meta.metaValue};\n\n  const currHook = targetStore.getMetaFor<any, StoredHook>(meta.target, HookMetadata, meta.metaValue.action) || {} as any;\n  targetStore.setMetaFor<any, StoredHook>(meta.target, HookMetadata, meta.metaValue.action as any, Object.assign(currHook, hook));\n}\n\n/** @internal */\nexport function extend(from: Map<TdmPropertyKey, StoredHook>, to: Map<TdmPropertyKey, StoredHook> | undefined): Map<TdmPropertyKey, StoredHook> {\n  if (!to) {\n    to = new Map<TdmPropertyKey, StoredHook>(from.entries());\n  } else {\n    // TODO: Refactor to support static/instance like ExtendAction in case 2 hooks with same prop name\n    MapExt.asKeyValArray(from)\n      .forEach(([k, hookFrom]) => {\n        if (!to.has(k)) {\n          to.set(k, hookFrom);\n        } else {\n          const hookTo = to.get(k);\n          Object.keys(hookFrom).forEach(event => {\n            if (!hookTo.hasOwnProperty(event)) {\n              hookTo[event] = hookFrom[event];\n            }\n          });\n        }\n      });\n  }\n\n  return to;\n}\n\n@MetaClass<HookMetadataArgs, HookMetadata>({\n  allowOn: ['staticMember', 'member'],\n  factory,\n  extend,\n  register\n})\nexport class HookMetadata extends BaseMetadata {\n\n  event: 'before' | 'after';\n  action: ARHookableMethods;\n\n  constructor(obj: HookMetadataArgs, info: DecoratorInfo) {\n    super(info);\n\n    this.event = obj.event;\n    this.action = obj.action;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/metadata/meta-types/hook.ts","import { ResourceEvent } from './events';\n\nexport interface ResourceEventType { }\n\nexport interface InternalResourceEventType { }\n\nexport type ResourceEventTypes = keyof (ResourceEventType & InternalResourceEventType);\n\nexport interface ResourceEventDispatcher {\n  next(value?: ResourceEvent): void;\n}\n\nexport interface ResourceEventEmitter {\n  subscribe(next?: (value: ResourceEvent) => void): { unsubscribe(): void; };\n}\n\nexport function isResourceEvent<T extends keyof ResourceEventType>(type: T,\n                                                                   evt: ResourceEvent ): evt is ResourceEventType[T] {\n  return type === evt.type;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/events/interfaces.ts","import { ResourceEvent } from './events';\nimport { ResourceEventDispatcher, ResourceEventEmitter } from './interfaces';\nimport { SimpleEvents } from './simple-events';\n\nexport * from './interfaces';\nexport * from './events';\nexport * from './internal';\nexport * from './simple-events';\n\nexport let dispatcher: ResourceEventDispatcher;\nexport let events$: ResourceEventEmitter;\n\ndispatcher = events$ = new SimpleEvents();\n\n/**\n * Dispatch a resource control event.\n * These event's are fired to local listeners, not the user's listeners.\n * The local listeners will trigger user's listeners.\n *\n * @param event\n * @param async When not set, fire's the event sync within the current task.\n * When set to true the event is fired at the end of the current micro task\n * When set to a number, the even if fired as a macro task, after an amount of ms provided as the number.\n */\nexport function dispatchEvent(event: ResourceEvent, async?: number | true): void {\n  if (async >= 0) {\n    setTimeout( () => dispatcher.next(event), async);\n  } else if (async === true) {\n    Promise.resolve(null).then( () => dispatcher.next(event) );\n  } else {\n    try {\n      dispatcher.next(event);\n    } catch (err) { } // tslint:disable-line:no-empty\n    // we don't want handler's error to interrupt the process, the handler should handle it's own errors.\n  }\n}\n\n/* An example of an rxjs based event system  */\n// import { Subject } from 'rxjs/Subject'\n// import 'rxjs/add/operator/share'; // TODO: move to no-side effect implementation\n// dispatcher = new Subject<ResourceEvent>();\n// events$ = (dispatcher as any).share();\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/events/index.ts","import { Identity } from '@tdm/core';\nimport {\n  targetStore,\n  ModelMetadataArgs,\n  RelationMetadataArgs,     // RelationMetadataArgs - leave to satisfy angular compiler\n  ModelMetadata,\n  MetaClass\n} from '@tdm/core/tdm';\n\nimport { ExecuteResponse, ARHookableMethods } from '../fw';\nimport {\n  HookMetadata,\n  ExtendActionMetadata,\n  BelongsToMetadata,\n  OwnsMetadata,\n\n  ActionMetadataArgs, // ActionMetadataArgs - leave to satisfy angular compiler\n  OwnsMetadataArgs,   // OwnsMetadataArgs - leave to satisfy angular compiler\n  HookMetadataArgs   // HookMetadataArgs - leave to satisfy angular compiler\n} from '../metadata';\n\nimport { Adapter } from '../fw';\n\n/* Workaround, see index.ts in this directory */\nimport './meta-class';\nimport './target-store';\nimport './target-metadata';\nimport './prop';\nimport './relations';\nimport './mixins';\n\n// TODO: this is a workaround to allow registering Models with no adapter so `onProcessType` event\n// fires, need to fire the build event even if no adapter is set, this requires refactoring.\nexport class NoopAdapter implements Adapter<any, any> {\n  supports = { cancel: false };\n  execute(ctx: any, options: any): any {\n    return { id: 1, response: Promise.resolve(undefined) };\n  }\n  cancel(id: number): void {};\n}\n\ntargetStore.registerAdapter(NoopAdapter, {\n  actionMetaClass: <any>class {},\n  DAOClass: class {},\n  resourceMetaClass: ModelMetadata\n});\n\ndeclare module '@tdm/core/tdm/src/add/model/model' {\n  interface ModelMetadata {\n    autoGenIdentity?: boolean;\n  }\n}\n\nexport function AutoIdentity(): Function {\n  return (target: Object, key: TdmPropertyKey) => {\n    Identity()(target, key);\n    const model = targetStore.getTargetMeta(<any> target.constructor).model().autoGenIdentity = true;\n  };\n}\n\nconst _Resource = MetaClass.get(ModelMetadata).createResourceDecorator(NoopAdapter); // FOR AOT\n/**\n * A Resource with a NOOP adapter.\n * @classDecorator\n * @param metaArgs\n */\nexport function Resource(metaArgs: ModelMetadataArgs) {\n  return _Resource(metaArgs) as any;\n}\n\n/**\n * @propertyDecorator instance\n * @param metaArgs\n */\nexport const ExtendAction = MetaClass.decorator(ExtendActionMetadata);\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const BelongsTo = MetaClass.decorator(BelongsToMetadata, true);\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const Owns = MetaClass.decorator(OwnsMetadata, true);\n\nexport const Hook = MetaClass.decorator(HookMetadata);\n\nexport function BeforeHook(action: ARHookableMethods) {\n  return Hook({event: 'before', action});\n}\n\nexport function AfterHook(action: ARHookableMethods) {\n  return Hook({event: 'after', action});\n}\n\nexport type BeforeHook<K extends string, Z> = { [P in K]: (options: Z) => void | Promise<void>; };\nexport type AfterHook<K extends string, Z> = { [P in K]: (options: Z, rawResponse: ExecuteResponse) => void | Promise<void>; };\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/transformation/decorators.ts","import { stringify, MetaClass, targetStore, Constructor } from '@tdm/core/tdm';\n\nimport { LocalForageAdapter } from './core';\nimport {\n  LocalForageResourceMetadata,\n  LocalForageResourceMetadataArgs,\n  LocalForageActionMetadata,\n  LocalForageActionMetadataArgs // for AOT\n} from './metadata';\n\nexport const LocalForageAction = MetaClass.decorator(LocalForageActionMetadata);\n\n// FOR AOT\nconst localForageResource = MetaClass.get(LocalForageResourceMetadata).createResourceDecorator(LocalForageAdapter);\n\nexport function LocalForageResource(def?: LocalForageResourceMetadataArgs): (target) => any {\n  const t: any = localForageResource(def) as any;\n  return t;\n}\n\ntargetStore.on\n  .processType((target: Constructor<any>) => {\n    const resource = targetStore.getMetaFor(target, LocalForageResourceMetadata, true);\n    if (resource && !resource.identity ) {\n      throw new Error(\n        `Invalid LocalForageResource \"${stringify(target)}\" local forage resources must have an identity declared.`\n      );\n    }\n  });\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/local-forage/src/decorators.ts","import { createServer, MockerServer, MockerRouter } from 'service-mocker/server';\nimport {\n  postError,\n  sendMessageRequest,\n  ServerProtocol,\n  ServerRequest,\n  ServerResponse,\n  ClientProtocol,\n  ClientRequest,\n  ServerPostMessageEvent\n} from '../../shared/src/messaging';\n\nexport interface IncomingClientMessageEvent<T extends keyof ClientProtocol = keyof ClientProtocol> extends MessageEvent {\n  data: {\n    action: T;\n    data: ClientRequest<T>\n  };\n}\n\n/**\n * Patch the service-mocker MockerRouter to fix the bug with deep nested routes not working properly.\n * SEE https://github.com/service-mocker/service-mocker/issues/48\n */\nfunction pathServiceMockerBug48(router: MockerRouter) {\n  if (router.constructor['TDM_PATCHED'] !== pathServiceMockerBug48) {\n    router.constructor['TDM_PATCHED'] = pathServiceMockerBug48;\n    const oldMatch = router.constructor.prototype._match;\n    router.constructor.prototype._match = function(event: FetchEvent) {\n      const { request } = event;\n      const url = new URL(request.url, location.href);\n\n      const re = new RegExp(`^${this._basePath}(.*)`);\n      const match = re.exec(url.pathname);\n      return match ? oldMatch.call(this, event) : false;\n    };\n  }\n}\n\nconst servers: ServiceMockerServer[] = [];\n\nexport interface MessageHandler {\n  canHandle(name: keyof ClientProtocol): boolean;\n  handle<T extends keyof ClientProtocol>(action: T, data: ClientRequest<T>): Promise<ServerResponse<T>>;\n}\n\nexport class ServiceMockerServer {\n  public router: MockerRouter;\n  private constructor(public mockServer: MockerServer, private messageHandler: MessageHandler) {\n    this.router = mockServer.router;\n    pathServiceMockerBug48(this.router);\n  }\n\n  onMessage(event: IncomingClientMessageEvent): void {\n    const {\n      data,\n      ports,\n    } = event;\n\n    if ( !data || !ports || !ports.length ) {\n      return;\n    }\n\n    const port = ports[ 0 ];\n\n    if (this.messageHandler.canHandle(data.action)) {\n      this.messageHandler.handle(data.action, data.data)\n        .then(response => port.postMessage(response))\n        .catch(err => port.postMessage(postError(err)));\n    }\n  }\n\n  dispose(): void {\n    const idx = servers.indexOf(this);\n    servers.splice(idx, 1);\n  }\n\n  sendAction<T extends keyof ServerProtocol = keyof ServerProtocol>(\n    client: Client,\n    action: T,\n    data: ServerRequest<T>,\n    timeout?: number\n  ): Promise<ServerPostMessageEvent<T>> {\n    const message = { action, data };\n    return sendMessageRequest<T>(client, message, timeout);\n  }\n\n  sendActionAll<T extends keyof ServerProtocol = keyof ServerProtocol>(\n    action: T,\n    data: ServerRequest<T>,\n    timeout?: number\n  ): Promise<Array<ServerPostMessageEvent<T>>> {\n    return (<ServiceWorkerGlobalScope> <any> self).clients.matchAll()\n      .then(clients => {\n        return Promise.all(clients.map(c => this.sendAction(c, action, data, timeout) ));\n      });\n  }\n\n  static create(messageHandler: MessageHandler, baseURL?: string): ServiceMockerServer {\n    const mockServer = createServer(baseURL);\n    const server = new ServiceMockerServer(mockServer, messageHandler);\n    servers.push(server);\n    return server;\n  }\n}\n\nself.addEventListener('message', event => {\n  for ( let server of servers ) {\n    server.onMessage(event);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/service-mocker-server/service-mocker-server.ts","import { targetStore, MapExt, BaseMetadata, Constructor, PropMetadata, TargetMetadata } from '@tdm/core/tdm';\n\nexport interface ServiceMockMethodExtensions { }\nexport interface ServiceMockMethodExtensionsHost extends BaseMetadata {\n  initExtensions(tMeta: TargetMetadata, prop: PropMetadata): void;\n}\n\nexport type ServiceMockMethodExtensionsStore<T extends keyof ServiceMockMethodExtensions = keyof ServiceMockMethodExtensions>\n  = Array<[T, Constructor<ServiceMockMethodExtensions[T]>]>;\n\nconst methodExtensionStore: ServiceMockMethodExtensionsStore = [ ];\nconst methodExtensionHostStore: Array<Constructor<ServiceMockMethodExtensionsHost>> = [ ];\n\nexport function getExtensions(): ServiceMockMethodExtensionsStore {\n  return methodExtensionStore;\n}\n\n// tslint:disable-next-line:max-line-length\nexport function registerMethodExtensions<T extends keyof ServiceMockMethodExtensions = keyof ServiceMockMethodExtensions>(key: T, metaClass: Constructor<ServiceMockMethodExtensions[T]>): void {\n  methodExtensionStore.push([key, metaClass]);\n}\n\nexport function MethodExtensionsHost(): <T extends ServiceMockMethodExtensionsHost>(target: Constructor<T>) => any {\n  return (t: any) => {\n    methodExtensionHostStore.push(t);\n  };\n}\n\nexport function initExtensions(target: Constructor<any>): void {\n  const tMeta = targetStore.getTargetMeta(target);\n  for (let ext of methodExtensionHostStore) {\n    const extMap = tMeta.getMetaFor(ext);\n    if (extMap) {\n      MapExt.asKeyValArray(extMap).forEach(([ k, v ]) => {\n        const prop = tMeta.getCreateProp(k as any);\n        v.initExtensions(tMeta, prop);\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/method-extensions/method-extensions.ts","import { MockerRequest, MockerResponse } from 'service-mocker';\nimport { BaseParamMetadata, Overwrite, MetaClass, isFunction } from '@tdm/core/tdm';\n\nimport { RequestContext } from '../request-context';\nimport { RouteHandleParamType, RouteHandlerParamMetadata } from '../metadata';\n\nexport type ParameterMetadataInfo\n  = Overwrite<Pick<BaseParamMetadata, 'name' | 'paramIndex' | 'paramType'>, { name: string }>;\n\nexport type ParamInjectionHandler<T extends keyof RouteHandleParamType> = (param: ParameterMetadataInfo,\n                                                                           req: MockerRequest,\n                                                                           res: MockerResponse,\n                                                                           metaArgs?: RouteHandleParamType[T]) => any;\n\nexport type MethodParamInjections = { [P in keyof RouteHandleParamType]: ParamInjectionHandler<P> };\n\nconst methodParamInject = MetaClass.decorator(RouteHandlerParamMetadata, 'param');\nconst methodParamInjections: MethodParamInjections = <any> {};\n\n// tslint:disable:max-line-length\nexport function resolveRouteHandlerParam<T extends keyof RouteHandleParamType>(ctx: RequestContext,\n                                                                               p: BaseParamMetadata,\n                                                                               metaType: T,\n                                                                               metaArgs?: RouteHandleParamType[T]) {\n  if (isFunction( methodParamInjections[metaType])) {\n    return methodParamInjections[metaType].apply(null, [p, ctx.req, ctx.res, metaArgs]);\n  }\n}\n\nexport function createRouteHandlerParamDecorator<T extends keyof RouteHandleParamType>(metaType: T,\n                                                                                       handler: ParamInjectionHandler<T>): (metaArgs?: RouteHandleParamType[T]) => ParameterDecorator;\nexport function createRouteHandlerParamDecorator<T extends keyof RouteHandleParamType>(metaType: T,\n                                                                                       handler: ParamInjectionHandler<T>,\n                                                                                       metaArgsMandatory: true): (metaArgs: RouteHandleParamType[T]) => ParameterDecorator;\nexport function createRouteHandlerParamDecorator<T extends keyof RouteHandleParamType>(metaType: T,\n                                                                                       handler: ParamInjectionHandler<T>,\n                                                                                       metaArgsMandatory?: boolean): ( (metaArgs: RouteHandleParamType[T]) => ParameterDecorator ) | ( (metaArgs?: RouteHandleParamType[T]) => ParameterDecorator ) {\n  methodParamInjections[metaType] = handler;\n  return (metaArgs?: RouteHandleParamType[T]) => {\n    if (metaArgsMandatory === true && !metaArgs) {\n      throw new Error('');\n    }\n    return methodParamInject({ metaType, metaArgs });\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/decorators/route-handler-param.ts","import { isFunction } from '@tdm/core/tdm';\nimport { MockerRequest, MockerResponse, RouteCallback } from 'service-mocker/server';\n\nimport { HttpError } from '../http-error';\nimport { resolveRouteHandlerParam } from './decorators/route-handler-param';\nimport { ServiceMockControllerMetadata } from './metadata';\nimport { RequestContext } from './request-context';\nimport { ServiceMockMethodExtensionsHost } from '@tdm/service-mocker/src/core/metadata/method-extensions';\n\nfunction getForwardLink(ctx: RequestContext): Promise<string> {\n  const forwardValue = ctx.method.forwardMeta.forward === true\n    ? resolveMethodValue(ctx)\n    : ctx.method.forwardMeta.forward\n  ;\n  return Promise.resolve(forwardValue);\n}\n\nfunction delay(method: ServiceMockMethodExtensionsHost): Promise<void> {\n  return method.delayMeta\n    ? new Promise( resolve => setTimeout(resolve, method.delayMeta.delay || 0) )\n    : Promise.resolve()\n  ;\n}\n\nfunction getHttpCode(method: ServiceMockMethodExtensionsHost): number {\n  return method.httpCodeMeta ? method.httpCodeMeta.code : 200;\n}\n\nfunction resolveMethodValue(ctx: RequestContext): Promise<any> | any {\n  const instance = ctx.instance();\n  const name = ctx.method.decoratorInfo.name;\n  if (instance && name in instance) {\n    return isFunction(instance[name]) ? emitInstanceMethod(ctx, instance, name as string) : instance[name];\n  } else {\n    return null;\n  }\n}\n\nfunction emitInstanceMethod(ctx: RequestContext, instance: any, name: string): any {\n  const injection: any[] = [];\n  const { routeHandlerParams } = ctx.method;\n  if (Array.isArray(routeHandlerParams)) {\n    for (let p of routeHandlerParams) {\n      const { metaType, metaArgs } = p.metaArgs;\n      injection[p.paramIndex] = resolveRouteHandlerParam(ctx, p, metaType, metaArgs);\n    }\n  }\n  return Promise.all(injection)\n    .then( args => instance[name](...args));\n}\n\nfunction emitError(res: MockerResponse, error: Error, extendError?: any): void {\n  const httpError: HttpError = error instanceof HttpError\n    ? error\n    : HttpError.createKnown('500', error.message || 'Unknown Error')\n  ;\n\n  const sendData: any = {\n    message: httpError.message\n  };\n\n  if (httpError.description) {\n    sendData.description = httpError.description;\n  }\n\n  if (extendError) {\n    Object.assign(sendData, extendError);\n  }\n\n  res.status(httpError.httpCode).json(sendData);\n}\n\nexport function createHandlerFromController(ctrl: ServiceMockControllerMetadata,\n                                            method: ServiceMockMethodExtensionsHost): RouteCallback {\n  return createHandler(() => ctrl.factory(false), method);\n}\n\nexport function createHandler(instance: () => any,\n                              method: ServiceMockMethodExtensionsHost): RouteCallback {\n  return (req: MockerRequest, res: MockerResponse) => {\n    return delay(method)\n      .then( () => {\n        const ctx: RequestContext = { instance, method, req, res };\n        if (method.forwardMeta) {\n          return getForwardLink(ctx).then( value => res.forward(value) );\n        } else {\n          res.type('json');\n          return Promise.resolve(resolveMethodValue(ctx))\n            .then( value => res.status(getHttpCode(method)).json(value) );\n        }\n      })\n      .catch( err => emitError(res, err) );\n  };\n}\n\n/**\n * Returns a handler that checks if the current request pathname starts with the given path, if so will\n * invoke `matchHandler` otherwise will invoke noMatchHandler if provided.\n */\nexport function createGlobalMiddlewareHandler(path: string,\n                                              matchHandler: RouteCallback,\n                                              noMatchHandler?: RouteCallback): RouteCallback {\n  const regExp = new RegExp(`^${path}(?:$|\\/)`);\n  return (req: MockerRequest, res: MockerResponse) => {\n    const url = new URL(req.url);\n    if ( regExp.test(url.pathname) ) {\n      return matchHandler(req, res);\n    } else if (noMatchHandler) {\n      return noMatchHandler(req, res);\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/request-handler.ts","import { MockerRequest, MockerResponse } from 'service-mocker/server';\nimport {\n  stringify,\n  isFunction,\n  targetStore,\n  TargetMetadata,\n  MapExt\n} from '@tdm/core/tdm';\n\nimport { HttpError } from '../http-error';\nimport { createHandlerFromController } from './request-handler';\nimport { ServerMetadata, ServiceMockControllerMetadata } from './metadata';\nimport { ServiceMockerServer } from '../service-mocker-server';\n\nexport function registerControllers(serverMeta: ServerMetadata, serviceMockerServer: ServiceMockerServer): void {\n  const allMode = serverMeta.controllers === 'all';\n\n  const reg = (t: TargetMetadata) => {\n    const m: any = t.model();\n    if ( m instanceof ServiceMockControllerMetadata ) {\n      registerMethods(m, serviceMockerServer);\n    } else if (!allMode) {\n      throw new Error(`\"${stringify(t.target)}\" is not a controller in \"${stringify(serverMeta.target)}\"`);\n    }\n  };\n\n  if ( allMode ) {\n    targetStore.getAllModels().forEach(reg);\n  } else {\n    const controllers = Array.isArray(serverMeta.controllers)\n      ? serverMeta.controllers\n      : isFunction(serverMeta.controllers) ? serverMeta.controllers() : null\n    ;\n    if ( !controllers ) {\n      throw new Error(`@Server() class \"${stringify(serverMeta.target)}\" has no controllers not set.`);\n    }\n    for ( let c of controllers ) {\n      const t = targetStore.getTargetMeta(c);\n      if ( t ) {\n        reg(t);\n      }\n    }\n  }\n}\n\nexport function registerMethods(ctrl: ServiceMockControllerMetadata , server: ServiceMockerServer): void {\n  const subRouter = server.router.scope(ctrl.path);\n  const methods = MapExt.asValArray(ctrl.methods);\n  for (let m of methods) {\n    switch (m.method) {\n      case 'get':\n      case 'post':\n      case 'put':\n      case 'patch':\n      case 'delete':\n      case 'options':\n      case 'head':\n        subRouter[m.method](m.path, createHandlerFromController(ctrl, m));\n        break;\n      default:\n        break;\n    }\n  }\n  subRouter.all('/*', methodNotAllowed);\n}\n\nfunction methodNotAllowed(req: MockerRequest, res: MockerResponse) {\n  return res.status(405).json(HttpError.createKnown('405'));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/register.ts","import { MetaClass, Omit } from '@tdm/core/tdm';\n\nimport {\n  ServiceMockMethodMetadata,\n  ServiceMockMethodMetadataArgs,\n  ServiceMockMethodType\n} from '../metadata';\n\nexport const ServiceMockMethod = MetaClass.decorator(ServiceMockMethodMetadata);\n\nfunction createMethodDecorator(method: keyof ServiceMockMethodType) {\n  return (metaArgs?: Omit<ServiceMockMethodMetadataArgs, 'method'>) => {\n    return ServiceMockMethod(<any> Object.assign({}, metaArgs || {}, { method }));\n  };\n}\n\nexport const ServiceMockGet = createMethodDecorator('get');\nexport const ServiceMockPost = createMethodDecorator('post');\nexport const ServiceMockPut = createMethodDecorator('put');\nexport const ServiceMockPatch = createMethodDecorator('patch');\nexport const ServiceMockDelete = createMethodDecorator('delete');\nexport const ServiceMockHead = createMethodDecorator('head');\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/decorators/service-mock-method.ts","import { MetaClass, targetStore, processModel } from '@tdm/core/tdm';\n\nimport { ServiceMockControllerMetadata, ServiceMockControllerMetadataArgs } from '../metadata';\n\nconst serviceMockController = MetaClass.decorator(ServiceMockControllerMetadata, 'class');\nexport function ServiceMockController(metaArgs?: ServiceMockControllerMetadataArgs): ClassDecorator {\n  return (target: any) => {\n    target = serviceMockController(metaArgs)(target) || target;\n    const metaClass = targetStore.getMetaFor(target, ServiceMockControllerMetadata, true);\n    processModel(target, metaClass, metaClass.skip !== true);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/decorators/service-mock-controller.ts","import { stringify, isFunction } from './utils';\n\nconst ERROR_EXEC_TYPE = Symbol('Throw');\n\nexport class Errors {\n\n  /**\n   * Returns a marked Errors repository where the next call to an error object will throw.\n   *\n   * e.g. `errors.THROW().decorator(...)` will throw\n   */\n  get throw(): this {\n    return Object.assign(Object.create(this), { [ERROR_EXEC_TYPE]: 'throw' } );\n  }\n\n\n  protected constructor() {\n    // support for post instantiation mixins on the prototype (plugins) - don't use new.\n    Errors.create(this);\n  }\n\n  decorator(target: any, message: string, propertyName?: TdmPropertyKey): Error {\n    const CLS = isFunction(target) ? target : target.constructor;\n\n    if (!propertyName) {\n      return this.ERROR(`Invalid decorator @ ${stringify(CLS)}}: ${message}`);\n    } else {\n      const dot = CLS === target ? '#' : '.';\n      return this.ERROR(`Invalid decorator @ ${stringify(target)}${dot}${stringify(propertyName)}: ${message}`);\n    }\n  }\n\n  model(model: any, message: string): Error {\n    return this.ERROR(`Model Error [${stringify(model)}]: ${message}`);\n  }\n\n  modelSingleCol(model: any, expectedCol: boolean): Error {\n    return this.ERROR(`Model Error:` + expectedCol\n      ? `Expected a COLLECTION but got an OBJECT [Target: ${stringify(model)}]`\n      : `Expected an OBJECT but got a COLLECTION [Target: ${stringify(model)}]`\n    );\n  }\n\n  /**\n   * @internal\n   */\n  ERROR<T = any>(message: string, assign?: T): Error & T {\n    const err = new Error(message);\n    if (assign) {\n      Object.assign(err, assign);\n    }\n\n    if (this[ERROR_EXEC_TYPE] === 'throw') {\n      throw err;\n    } else {\n      return <any> err;\n    }\n  }\n\n  /**\n   * Creates a new TargetStore instance.\n   * @param instance optional, used internally\n   */\n  static create(instance?: Errors): Errors {\n    const errors: Errors = instance || Object.create(Errors.prototype);\n    return errors;\n  }\n}\n\nexport const errors: Errors = Errors.create();\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/errors.ts","const emptyIterator = {\n  next() {\n    return {value: null, done: true};\n  },\n  [Symbol.iterator]() { return emptyIterator }\n};\n\n// TODO: move to separate package along with other utils on @tdm/core\n\n/**\n * A dual map, key->key->value\n */\nexport class DualKeyMap<K, K1, V> {\n  protected map = new Map<K, Map<K1, V>>();\n\n  readonly [Symbol.toStringTag]: 'Map' = 'Map';\n\n  has(type: K): boolean;\n  has(type: K, id: K1): boolean;\n  has(type: K, id?: K1): boolean {\n    if (id === undefined) {\n      return this.map.has(type);\n    } else {\n      const t = this.map.get(type);\n      return t ? t.has(id) : false;\n    }\n  }\n\n  get(type: K): Map<K1, V> | undefined;\n  get(type: K, id: K1): V | undefined;\n  get(type: K, id?: K1):  Map<K1, V> | V | undefined {\n    const t = this.map.get(type);\n    return id === undefined\n      ? t\n      : t && t.get(id)\n      ;\n  }\n\n  delete(type: K): boolean;\n  delete(type: K, id: K1): boolean;\n  delete(type: K, id?: K1): boolean {\n    if (id === undefined) {\n      return this.map.delete(type);\n    } else {\n      const t = this.map.get(type);\n      return !(t && t.delete(id));\n    }\n  }\n\n  set(type: K, map: Map<K1, V>): void;\n  set(type: K, id: K1, value: V): void;\n  set(type: K, idOrMap: K1 | Map<K1, V>, value?: V): void {\n    if (idOrMap instanceof Map) {\n      if (arguments.length === 2) {\n        this.map.set(type, idOrMap);\n      }\n    } else {\n      const t = this.map.get(type) || new Map<K1, V>();\n      t.set(idOrMap, value);\n      this.map.set(type, t);\n    }\n  }\n\n  clear(): void;\n  clear(type: K): void;\n  clear(type?: K): void {\n    if (type === undefined) {\n      this.map.clear();\n    } {\n      const t = this.map.get(type);\n      t && t.clear();\n    }\n  }\n\n  /**\n   * Perform for each on the top-level map.\n   * NOTE: The first parameter must be the boolean true.\n   * @param callbackfn\n   * @param thisArg\n   */\n  forEach(root: true, callbackfn: (value: Map<K1, V>, index: K, map: Map<K1, Map<K1, V>>) => void, thisArg?: any): void;\n  /**\n   * Perform for each on the 2nd level map\n   * if not, it will\n   * @param callbackfn\n   * @param thisArg\n   */\n  forEach(callbackfn: (value: V, index: K1, map: Map<K1, V>) => void, type: K, thisArg?: any): void;\n  forEach(callbackfn: true | ( (value: V, index: K1, map: Map<K1, V>) => void ),\n          type: K | ((value: Map<K1, V>, index: K, map: Map<K1, Map<K1, V>>) => void),\n          thisArg?: any): void {\n\n    if (callbackfn === true) {\n      this.map.forEach(type as any, thisArg);\n    } else {\n      const t = this.map.get(type as any);\n      t && t.forEach(callbackfn as any, thisArg);\n    }\n  }\n\n  entries(): IterableIterator<[K, Map<K1, V>]>;\n  entries(type: K): IterableIterator<[K1, V]>;\n  entries(type?: K): IterableIterator<[K, Map<K1, V>]> | IterableIterator<[K1, V]> {\n    if (type === undefined) {\n      return this.map.entries();\n    } else {\n      const t = this.map.get(type as any);\n      return t\n        ? t.entries()\n        : this.makeEmptyIterator()\n        ;\n    }\n  }\n\n  keys(): IterableIterator<K>;\n  keys(type: K): IterableIterator<K1>;\n  keys(type?: K): IterableIterator<K> | IterableIterator<K1> {\n    if (type === undefined) {\n      return this.map.keys();\n    } else {\n      const t = this.map.get(type as any);\n      return t\n        ? t.keys()\n        : this.makeEmptyIterator()\n        ;\n    }\n  }\n\n  values(): IterableIterator<Map<K1, V>>;\n  values(type: K): IterableIterator<V>;\n  values(type?: K): IterableIterator<Map<K1, V>> | IterableIterator<V> {\n    if (type === undefined) {\n      return this.map.values();\n    } else {\n      const t = this.map.get(type as any);\n      return t\n        ? t.values()\n        : this.makeEmptyIterator()\n        ;\n    }\n  }\n\n  get size(): number {\n    return this.map.size;\n  }\n\n  sizeOf(type: K): number {\n    const t = this.map.get(type);\n    return t ? t.size : 0;\n  }\n\n  private makeEmptyIterator(): IterableIterator<any> {\n    return emptyIterator;\n  }\n\n  [Symbol.iterator](): IterableIterator<[K, Map<K1, V>]> {\n    return this.map[Symbol.iterator]();\n  }\n}\n\n\n\n/**\n * The child of Map and Set\n */\nexport class KeySet<K, V> {\n  map = new Map<K, Set<V>>();\n\n  has(key: K, value: V): boolean;\n  has(key: K): boolean;\n  has(key: K, value?: V): boolean {\n    if (arguments.length === 1) {\n      return this.map.has(key);\n    } else {\n      const t = this.map.get(key);\n      return t ? t.has(value) : false;\n    }\n  }\n\n  get(key: K, index: number): V | undefined;\n  get(key: K): Set<V> | undefined;\n  get(key: K, index?: number): Set<V> | V | undefined {\n    if (arguments.length === 1) {\n      return this.map.get(key);\n    } else {\n      const set = this.map.get(key);\n      if (set) {\n        return SetExt.index(set, index);\n      }\n    }\n  }\n\n  /**\n   * Set's the Set for a key.\n   * @param key\n   * @param set An optional set, if not supplied a new Set is created.\n   */\n  set(key: K, set?: Set<V>): Set<V> {\n    if (!set) {\n      set = new Set<V>();\n    }\n    this.map.set(key, set);\n    return set;\n  }\n\n  add(key: K, value: V): this {\n    const t = this.map.get(key) || new Set<V>();\n    t.add(value);\n    this.map.set(key, t);\n    return this;\n  }\n\n  clear(key?: K): void {\n    if (!key) {\n      this.map.clear();\n    } else {\n      const t = this.map.get(key);\n      t && t.clear();\n    }\n  }\n\n  delete(key: K, value?: V): boolean {\n    if (arguments.length === 1) {\n      return this.delete(key);\n    } else {\n      const t = this.map.get(key);\n      return t ? t.delete(value) : false;\n    }\n  }\n\n  forEach(key: K, callbackfn: (value: V, index: V, set: Set<V>) => void, thisArg?: any): void {\n    const t = this.map.get(key);\n    if (t) {\n      t.forEach(callbackfn, thisArg);\n    }\n  }\n\n  /**\n   * Returns the amount of map entries\n   */\n  get size(): number {\n    return this.map.size;\n  }\n\n  sizeOf(key: K): number {\n    const t = this.map.get(key);\n    return t ? t.size : 0;\n  }\n}\n\nexport class SetExt<T> extends Set<T> {\n\n  first(): T | undefined {\n    return SetExt.first(this);\n  }\n\n  index(index: number): T | undefined {\n    return SetExt.index(this, index);\n  }\n\n  asArray(): Array<T> {\n    return SetExt.asArray(this);\n  }\n\n  isSuperset(subset: Set<any>): boolean {\n    return SetExt.isSuperset(this, subset);\n  }\n\n  /**\n   * Combine all of the sources\n   * @param source\n   * returns the target\n   */\n  combine(...source: Array<Set<T>>): void;\n  combine(...source: Array<Array<T>>): void;\n  combine(...source: Array<any>): void {\n    SetExt.combine(this, ...source);\n  }\n\n  /**\n   * Deduct all of the sources\n   * @param source\n   * returns the target\n   */\n  deduct(...source: Array<Set<T>>): void {\n    SetExt.deduct(this, ...source);\n  }\n\n  union(...source: Array<Set<T>>): SetExt<T> {\n    return SetExt.union(SetExt as any, this as any, ...source);\n  }\n\n  /**\n   * Returns all the items that were in this set and the supplied set.\n   * @param setA\n   * @param setB\n   * @param initSetExt\n   */\n  intersection(set: Set<T>): SetExt<T> {\n    return SetExt.intersection(this, set as any, true);\n  }\n\n\n  /**\n   * Returns all the items that are in this set, but not in the target set.\n   * Returns a new SetExt instance.\n   * @param set\n   * @returns\n   */\n  difference(set: Set<T>): SetExt<T> {\n    return SetExt.difference(this, set as any, true);\n  }\n\n  /**\n   * Returns all the items that were not in this set and the supplied set.\n   * Returns a new SetExt instance.\n   * @param set\n   * @returns\n   */\n  negative(set: Set<T>): SetExt<T> {\n    return SetExt.negative(this, set as any, true);\n  }\n\n  static first<T> (set: Set<T>): T | undefined {\n    return set.values().next().value;\n  }\n\n  static index<T> (set: Set<T>, index: number): T | undefined {\n    const iterator = set.values();\n\n    for (let i=0; i<index; i++) {\n      if (iterator.next().done) {\n        return undefined;\n      }\n    }\n\n    return iterator.next().value;\n  }\n\n  static asArray<T> (set: Set<T>): Array<T> {\n    return Array.from(set);\n  }\n\n  static isSuperset(set: Set<any>, subset: Set<any>): boolean {\n    return !SetExt.asArray(subset).some( v => !set.has(v) );\n  }\n\n  /**\n   * Combine all of the sources into the target.\n   * @param target\n   * @param source\n   * returns the target\n   */\n  static combine<T>(target: Set<T>, ...source: Array<Set<T>>): Set<T>;\n  static combine<T>(target: Set<T>, ...source: Array<Array<T>>): Set<T>;\n  static combine<T>(target: Set<T>, ...source: Array<any>): Set<T> {\n    for (let i = 0, len = source.length; i < len; i++ ) {\n      const arr = Array.isArray(source[i]) ? source[i] : SetExt.asArray(source[i]);\n      for (let z = 0, lenZ = arr.length; z < lenZ; z++ ) {\n        if (!target.has(arr[z])) {\n          target.add(arr[z]);\n        }\n      }\n    }\n    return target;\n  }\n\n  /**\n   * Deduct all of the sources from the target.\n   * @param target\n   * @param source\n   * returns the target\n   */\n  static deduct<T>(target: Set<T>, ...source: Set<T>[]): Set<T> {\n    for (let i = 0, len = source.length; i < len; i++ ) {\n      const arr = SetExt.asArray(source[i]);\n      for (let z = 0, lenZ = arr.length; z < lenZ; z++ ) {\n        target.delete(arr[z]);\n      }\n    }\n    return target;\n  }\n\n  static union<T extends Set<any>>(...source: T[]): T {\n    const union: any = typeof source[0] === 'function'\n        ? new (source.shift() as any)()\n        : new Set<any>()\n      ;\n    SetExt.combine(union, ...source);\n    return union;\n  }\n\n  /**\n   * Returns all the items that were in both sets.\n   * @param setA\n   * @param setB\n   * @param initSetExt\n   */\n  static intersection<T extends Set<any>>(setA: T, setB: T, initSetExt?: boolean): T {\n    const intersection = initSetExt ? new SetExt<any>() : new Set<any>();\n\n    const arr = SetExt.asArray(setB);\n    for (let z = 0, lenZ = arr.length; z < lenZ; z++ ) {\n      if (setA.has(arr[z])) {\n        intersection.add(arr[z]);\n      }\n    }\n    return intersection as any;\n  }\n\n  /**\n   * Returns all the items that are in source set, but not in the target set.\n   * @param source\n   * @param target\n   * @param initSetExt\n   * @returns\n   */\n  static difference<T extends Set<any>>(source: T, target: T, initSetExt?: boolean): T {\n    const difference = initSetExt ? new SetExt<any>(source) : new Set<any>(source);\n\n    const arr = SetExt.asArray(target);\n    for (let z = 0, lenZ = arr.length; z < lenZ; z++ ) {\n      difference.delete(arr[z]);\n    }\n    return difference as any;\n  }\n\n  /**\n   * Returns all the items that were not in both sets.\n   * @param source\n   * @param target\n   * @param initSetExt\n   * @returns\n   */\n  static negative<T extends Set<any>>(source: T, target: T, initSetExt?: boolean): T {\n    const negative = initSetExt ? new SetExt<any>(source) : new Set<any>(source);\n\n    const arr = SetExt.asArray(target);\n    for (let z = 0, lenZ = arr.length; z < lenZ; z++ ) {\n      if (negative.has(arr[z])) {\n        negative.delete(arr[z]);\n      } else {\n        negative.add(arr[z]);\n      }\n    }\n    return negative as any;\n  }\n}\n\nexport class MapExt {\n  /**\n   * Merge source map into target map.\n   * @param target\n   * @param source\n   * @param diffOnly if true will only merge keys from source that does not exist on target.\n   */\n  static mergeInto<K, V>(target: Map<K, V>, source: Map<K, V>, diffOnly?: boolean): Map<K, V> {\n    const arr = MapExt.asKeyArray(source);\n    for (let i=0, len=arr.length; i<len; i++) {\n      if (!diffOnly ||!target.has(arr[i])) {\n        target.set(arr[i], source.get(arr[i]));\n      }\n    }\n    return target;\n  }\n\n  /**\n   * Set the values of an array into a map\n   * @param arr\n   * @param keySelector A function returning the key to be used in the map\n   * @param map The map to set on, optional. If not set a new map is created.\n   * @param diffOnly Set only new values, optional. Valid only if a map is supplied.\n   * @returns\n   */\n  static fromArray<K, V>(arr: Array<V>, keySelector: (value: V) => K, map?: Map<K, V>, diffOnly?: boolean): Map<K, V> {\n    if (!(map instanceof Map)) {\n      map = new Map<K, V>();\n      diffOnly = false;\n    }\n\n    for (let i=0, len=arr.length; i<len; i++) {\n      const key = keySelector(arr[i]);\n      if (!diffOnly || !map.has(key)) {\n        map.set(key, arr[i]);\n      }\n    }\n\n    return map;\n  }\n\n  static asKeyValArray<K, V> (map: Map<K, V>): Array<[K, V]> {\n    return Array.from(map.entries());\n  }\n\n  static asKeyArray<K, V> (map: Map<K, V>): Array<K> {\n    return Array.from(map.keys());\n  }\n\n  static asValArray<K, V> (map: Map<K, V>): Array<V> {\n    return Array.from(map.values());\n  }\n\n  static asObjectLiteral<K, V> (map: Map<K, V>): { [key: string]: V } {\n    return MapExt.asKeyArray(map).reduce( (prev, curr) => {\n      prev[curr.toString()] = map.get(curr);\n      return prev;\n    }, {});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/set-map-ext.ts","// tslint:disable:max-classes-per-file\nimport { DecoratorInfo } from './metadata-framework';\nimport { Constructor, reflection } from './utils';\n\nexport abstract class BaseMetadata {\n\n  /**\n   * The property name that the decorator wraps, if it wraps a property, member or constructor param.\n   * @returns\n   */\n  readonly name: TdmPropertyKey | undefined;\n\n  constructor(public readonly decoratorInfo: DecoratorInfo) {\n    this.name = decoratorInfo.name;\n  }\n\n}\n\nexport abstract class BaseParamMetadata extends BaseMetadata {\n  readonly paramType: Function | Constructor<any>;\n\n  get paramIndex(): number {\n    return this.decoratorInfo.paramIndex;\n  }\n\n  constructor(di: DecoratorInfo, target: Constructor<any>) {\n    super(di);\n    this.paramType = reflection.paramTypes(target.prototype, this.name)[di.paramIndex];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/base-metadata.ts","import { MetadataClassStatic } from './types';\nimport { MetaClassMetadata, MetaClass, getMetaClass } from './meta-class';\n\ndeclare module './meta-class' {\n  module MetaClass {\n    function get<TMetaArgs, TMetaClass>(target: MetadataClassStatic<TMetaArgs, TMetaClass>): MetaClassMetadata<TMetaArgs, TMetaClass>;\n  }\n}\n\nMetaClass.get = <any> getMetaClass;\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/metadata-framework/meta-class-get.ts","import {\n  MapExt,\n  MetaClassInstanceDetails,\n  MetaClassMetadata,\n  registerHelpers,\n  extendHelpers,\n  BaseMetadata\n} from '../fw';\nimport { targetStore } from './target-store';\n\n/**\n * Registers the value as any array.\n * If array does not exists will create one and push the value into it.\n *\n * Handles both single and property style registration.\n */\nregisterHelpers.array = function <TMetaArgs, TMetaClass>(this: MetaClassMetadata<TMetaArgs, TMetaClass>,\n                                                         meta: MetaClassInstanceDetails<TMetaArgs, TMetaClass>): void {\n  const propKey: any = this.metaArgs.single === true ? true : meta.metaPropKey;\n\n  let curr: any[] = <any> targetStore.getMetaFor(meta.target, meta.metaClassKey, propKey);\n  if ( !curr ) {\n    targetStore.setMetaFor(meta.target, meta.metaClassKey, propKey, curr = []);\n  }\n\n  curr.push(meta.metaValue);\n};\n\nextendHelpers.mergeMap = function <T>(from: Map<TdmPropertyKey, T>,\n                                      to: Map<TdmPropertyKey, T> | undefined): Map<TdmPropertyKey, T> {\n  return to\n    ? MapExt.mergeInto(to, from)\n    : new Map<TdmPropertyKey, T>(from.entries())\n    ;\n};\n\nextendHelpers.mergeMapArray\n  = function <T extends BaseMetadata>(from: Map<TdmPropertyKey, T[]>,\n                                      to: Map<TdmPropertyKey, T[]> | undefined): Map<TdmPropertyKey, T[]> {\n  if ( !to ) {\n    to = new Map<TdmPropertyKey, T[]>();\n  }\n\n  MapExt.asKeyValArray(from)\n    .forEach(([ k, v ]) => {\n      if ( !to.has(k) ) {\n        to.set(k, v.slice());\n      } else {\n        const arrFrom = v;\n        const arrTo = to.get(k);\n        for ( let metaClass of arrFrom ) {\n          if ( !arrTo.some(a => a.name === metaClass.name) ) {\n            arrTo.push(metaClass);\n          }\n        }\n      }\n    });\n\n  return to;\n};\n\ndeclare module '../fw/metadata-framework/types' {\n  interface MetaClassRegisterHelpers {\n    /**\n     * Registers the value as any array.\n     * If array does not exists will create one and push the value into it.\n     *\n     * Handles both single and property style registration.\n     */\n    array<TMetaArgs, TMetaClass>(this: MetaClassMetadata<TMetaArgs, TMetaClass>,\n                                 meta: MetaClassInstanceDetails<TMetaArgs, TMetaClass>): void;\n  }\n\n  interface MetaClassExtendHelpers {\n    /**\n     * Extend the type by merging the map from the source (from) onto the map of destination (to).\n     * In case properties exist on both, will override from destination.\n     * If destination does not exist, it's a shallow copy of the map.\n     */\n    mergeMap<T>(from: Map<TdmPropertyKey, T>, to: Map<TdmPropertyKey, T> | undefined): Map<TdmPropertyKey, T>;\n\n    mergeMapArray<T extends BaseMetadata>(from: Map<TdmPropertyKey, T[]>,\n                     to: Map<TdmPropertyKey, T[]> | undefined): Map<TdmPropertyKey, T[]>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/metadata/helpers.ts","import { Constructor, isUndefined } from '../fw/utils';\nimport { KeySet, SetExt, MapExt, DualKeyMap } from '../fw/set-map-ext';\nimport { MetaClass, MetadataClassStatic, MetaClassInstanceDetails, GLOBAL_KEY } from '../fw/metadata-framework';\nimport { targetEvents, TargetEvents } from '../fw/events';\n\nimport { TargetMetadata } from './target-metadata';\n\n/**\n * The global type registry.\n *\n * Hold {@link TargetMetadata} for models.\n *\n * @pluginApi\n * @mixable\n * @singleton\n */\nexport class TargetStore {\n\n  /**\n   * register listeners for metadata lifecycle events on a target.\n   * @returns\n   */\n  get on(): TargetEvents {\n    return targetEvents;\n  }\n\n  /**\n   * Storage for local, non target specific, data.\n   */\n  protected locals: KeySet<any, any>;\n  protected namedTargets: Map<string, Constructor<any>>;\n  protected targets: Map<Constructor<any>, DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>>;\n  protected builtTargets: Map<Constructor<any>, TargetMetadata>;\n\n  protected constructor() {\n    // support for post instantiation mixins on the prototype (plugins) - don't use new.\n    TargetStore.create(this);\n  }\n\n  /**\n   * Returns a single local item.\n   * @param key\n   * @param index optional, if not set returns the first.\n   * @returns\n   */\n  protected local<T>(key: any, index: number = 0): T | undefined {\n    const set = this.locals.get(key);\n    if (set) {\n      return SetExt.index(set, index);\n    }\n  }\n\n  hasTarget(target: any): boolean {\n    return this.targets.has(target);\n  }\n\n  /**\n   * Returns the target metadata of all models registered. (targets with ModelMetadata or derived)\n   * Only built models are returned, with valid ModelMetadata instances.\n   * Do not call this method from a decorator.\n   */\n  getAllModels(): TargetMetadata[] {\n    return Array.from(this.builtTargets.values()).filter( tMeta => tMeta.hasModel );\n  }\n\n  findTarget(name: string): Constructor<any> | undefined {\n    return this.namedTargets.get(name);\n  }\n\n  getMetaFor<T, Z>(target: Constructor<any>, metaClass: T & Constructor<Z>): Map<TdmPropertyKey, Z> | undefined;\n  getMetaFor<T, Z>(target: Constructor<any>, metaClass: T & Constructor<Z>, single: true): Z | undefined;\n  getMetaFor<T, Z, P extends keyof Z>(target: Constructor<any>, metaClass: T & Constructor<Z>, single: true, singleKey: P): Z[P] | undefined;\n  getMetaFor<T, Z>(target: Constructor<any>, metaClass: T & Constructor<Z>, name: TdmPropertyKey): Z | undefined;\n  getMetaFor<T, Z>(target: Constructor<any>, metaClass: T & Constructor<Z>, name?: TdmPropertyKey | true, singleKey?: any): Z | Map<TdmPropertyKey, Z> | undefined {\n    const dkm = this.targets.get(target);\n    if (dkm) {\n      if (name === true) {\n        const v = dkm.get(GLOBAL_KEY, <any> metaClass);\n        return v && singleKey ? v[singleKey] : v;\n      } else if (name) {\n        return dkm.get(metaClass, name);\n      } else {\n        return dkm.get(metaClass);\n      }\n    }\n  }\n\n  setMetaFormFactory<T>(meta: MetaClassInstanceDetails<any, any>): void {\n    if (meta) {\n      if (meta.metaPropKey === GLOBAL_KEY) {\n        this.set<any, any, any>(meta.target, GLOBAL_KEY, meta.metaClassKey, meta.metaValue);\n      } else {\n        this.setMetaFor(meta.target, meta.metaClassKey, meta.metaPropKey, meta.metaValue);\n      }\n    }\n  }\n\n  setMetaFor<T, ZValue = T>(target: Constructor<any>, metaClass: MetadataClassStatic<T>, single: true, value: ZValue): void;\n  setMetaFor<T, ZValue = T>(target: Constructor<any>, metaClass: MetadataClassStatic<T>, name: string, value: ZValue): void;\n  setMetaFor<T, ZValue = T>(target: Constructor<any>, metaClass: MetadataClassStatic<T>, name: string | true, value: ZValue): void {\n    if (name === true) {\n      this.set<any, any, any>(target, GLOBAL_KEY, metaClass, value);\n    } else {\n      this.set(target, metaClass, name, value);\n    }\n  }\n\n  /**\n   * Registers the target in the store, does not build.\n   * Used for targets without metadata\n   * @param target\n   */\n  registerTarget(target: Constructor<any>): void {\n    if (!this.hasTarget(target)) {\n      this.targets.set(target, new DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>());\n    }\n  }\n\n  /**\n   * Extends metadata from one target to the other.\n   * Extending types will not trigger a metadata instantiation.\n   * @param from\n   * @param to\n   */\n  extend(from: Constructor<any>, to: Constructor<any>): void {\n    if (!this.hasTarget(from) || !this.hasTarget(to)) {\n      throw new Error('Target not registered.');\n    }\n\n    const fromTarget = this.targets.get(from);\n    const toTarget = this.targets.get(to);\n    Array.from(fromTarget.keys())\n      .forEach( clsKey => {\n         if (clsKey === GLOBAL_KEY) {\n           const singleTypes = fromTarget.get(clsKey);\n           const toSingleTypes = toTarget.get(clsKey) || new Map<any, any>();\n\n           MapExt.asKeyValArray(singleTypes)\n             .forEach( ([type, instance]) => {\n               // type is a class, using <any> since for TS its a TdmPropertyKey\n               const metaClass = MetaClass.get(<any> type);\n               if (metaClass.extendSingle) {\n                 const toInstance = toSingleTypes.get(<any>type);\n                 const value = metaClass.extendSingle(instance, toInstance, {from, to});\n                 if (!isUndefined(value)) {\n                   toSingleTypes.set(<any>type, <any>value);\n                 }\n               }\n             });\n\n           if (toSingleTypes.size > 0) {\n             toTarget.set(clsKey, toSingleTypes);\n           }\n\n        } else {\n          const metaClass = MetaClass.get(clsKey);\n          if (metaClass.extend) {\n            const value = metaClass.extend(fromTarget.get(clsKey), toTarget.get(clsKey), {from, to});\n            if (!isUndefined(value)) {\n              toTarget.set(clsKey, value);\n            }\n          }\n        }\n      });\n  }\n\n  protected set<T , Z, P extends keyof T>(target: Constructor<any>, k: Z & Constructor<T>, k1: P, v: T[P]): T[P] {\n    // TODO: implement LRU since most values are set sequentially on the same target.\n    let dkm = this.targets.get(target);\n\n    if (!dkm) {\n      this.targets.set(target, dkm = new DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>());\n    }\n\n    dkm.set(k as any, k1, v as any);\n\n    return v;\n  }\n\n  /**\n   * Creates a new TargetStore instance.\n   * @param instance optional, used internally\n   * @returns\n   */\n  static create(instance?: TargetStore): TargetStore {\n    const targetStore: TargetStore = instance || Object.create(TargetStore.prototype);\n\n    targetStore.locals = new KeySet<any, any>();\n    targetStore.namedTargets = new Map<string, Constructor<any>>();\n    targetStore.targets = new Map<Constructor<any>, DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>>();\n    targetStore.builtTargets = new Map<Constructor<any>, TargetMetadata>();\n\n    return targetStore;\n  }\n}\n\nexport const targetStore: TargetStore = TargetStore.create();\nMetaClass.defaultRegistrator( meta => targetStore.setMetaFormFactory(meta) );\n\nimport './helpers';\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/metadata/target-store.ts","import {\n  reflection,\n  isFunction,\n  Constructor,\n  BaseMetadata,\n  DecoratorInfo,\n  MetaClass,\n} from '../fw';\n\n\nexport interface TypeDefinition {\n  /**\n   * The type or a forward reference (getter) for the type.\n   * If not set, Object is set as the default type\n   */\n  ref?: ( () => Constructor<any> ) | Constructor<any>;\n\n  /**\n   * If true, ref should be treated as a getter to the type.\n   */\n  forwardRef?: true;\n\n  /**\n   * Is actual type an array of the type in ref?\n   */\n  isArray?: boolean;\n}\n\n/**\n * Custom type definitions for a property.\n *\n * In most cases custom type definition are not needed, however due to the way typescript defines\n * the type information there are some edge cases where a manual type definition is required:\n *\n * A) Circular module dependency, i.e. where A import B and B import A. Especially common in related types.\n *    From 2 circular dependencies, the first one to load will not know the type of the 2nd.\n *    A similar scenario also happens when 2 (or more) classes are defined on the same file and a class (A)\n *    defined before of an other class (B). If class A has a property of type class B then the type information\n *    for B will be undefined since at the point of executing the decorator code B is undefined, this is plain JS.\n *\n * B) When using \"this\" type. TypeScript will emit the type \"Object\" when using this so it is not\n *    known and the user must supply it.\n *\n * C) When using \"any\" type. TypeScript will emit the type \"Object\" when using this so it is not\n *    known and the user must supply it.\n *\n * D): When the type T in an Array of T, TypeScript will emit the type Array without the array\n *     element type. https://github.com/Microsoft/TypeScript/issues/7169\n *\n * A type definition supports 2 type of references to a type:\n *   1. Forward reference\n *   2. Direct reference\n *\n * Forward reference is simple a function that returns the type, a simple getter. It comes to solve\n * the problem described in A.\n *\n * Direct reference is for all other use cases, the type definition points to the type directly.\n *\n * ```ts\n * class MyClass {}\n *\n * // Forward Reference:\n * { ref: () => MyClass, forwardRef: true }\n *\n * // Direct Reference:\n * { ref: MyClass }\n * ```\n *\n * Since `() => MyClass` and `MyClass` are both functions it is required to specify `forwardRef: true`,\n * if not the library will treat `ref` as the type.\n *\n * Since using `forwardRef` is common a shortcut can be used, instead of defining an object, just provide\n * a function, the library will convert it into a forward reference type definition.\n *\n * ```ts\n * class MyClassA {\n *   @Prop({ type: () => MyClassB }) myClassB: MyClassB;\n * }\n *\n * class MyClassB {}\n * ```\n * In the example above, `{ type: () => MyClassB }` is equivalent to `{ ref: () => MyClassB, forwardRef: true }`\n *\n *\n * ### Arrays\n * In TS arrays are used with type parameters (generic) that define the type used within an array.\n * Currently, TS will not emit the type parameter and will only emit the Array type.\n *\n * ```ts\n * class MyClass {\n *   myArray: string[];\n * }\n * ```\n * In the example above the reflected type is `Array` and not `String`.\n *\n * To workaround this issue you can specify if the type is an array in the type definition.\n * If `isArray` is not explicitly specified the value is taken from the type system. i.e. if the\n * reflected type is `Array` then `isArray` is considered true. This is also true when using the forward reference shortcut.\n *\n * If no type definition is set and the reflected type is `Array` then the final defined type will be Array<Object>.\n *\n *\n * ```ts\n * class MyClassA {\n *   @Prop({ type: () => MyClassB }) myClassB: MyClassB[];\n *   @Prop() myClassB_1: MyClassB[];\n *\n *   @Type({ type: {ref: String} }) @Prop() myString: string[];\n *   @Prop({ type: {ref: String, isArray: true} }) myString_1: string;\n *   @Prop() myString_2: string[];\n * }\n *\n * class MyClassB {}\n * ```\n *  myClassB: `{ ref: () => MyClassB, forwardRef: true, isArray: true }`\n *  myClassB_1: `{ ref: Object, isArray: true }`\n *  myString: `{ ref: String, isArray: true }`\n *  myString_1: `{ ref: String, isArray: true }`\n *  myString_2: `{ ref: Object, isArray: true }`\n *\n *  Note that explicitly set type definitions override reflected type definitions.\n */\nexport type TypeMetadataArgs = { (): Constructor<any> } | TypeDefinition;\n\n@MetaClass<TypeMetadataArgs, TypeMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\nexport class TypeMetadata extends BaseMetadata {\n\n  readonly ref: Constructor<any>;\n  readonly isArray?: boolean;\n  readonly isGetter?: boolean;\n\n  constructor(metaArgs: TypeMetadataArgs, info: DecoratorInfo, target?: Constructor<any>) {\n    super(info);\n\n    const type = target ? reflection.designType(target.prototype, this.name as any) : Object;\n\n    let def: TypeDefinition;\n    if (isFunction(metaArgs)) {\n      def = { ref: metaArgs, forwardRef: true, isArray: type === Array };\n    } else if (metaArgs) {\n      def = metaArgs;\n      if (!def.hasOwnProperty('isArray')) {\n        def.isArray = type === Array;\n      }\n      if (!def.ref) {\n        def.ref = def.forwardRef === true ? () => Object : Object;\n      }\n    } else {\n      def = { ref: type === Array ? Object : type, isArray: type === Array };\n    }\n\n    this.isArray = def.isArray;\n\n    if (def.forwardRef === true) {\n      // WHY configurable: true -> see @tdm/data -> meta-class extension\n      Object.defineProperty(this, 'ref', { configurable: true, get: <any> def.ref });\n      this.isGetter = true;\n    } else {\n      this.ref = <any> def.ref;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/metadata/type.ts","import {\n  LazyInit,\n  Constructor,\n  TransformFn,\n  propAliasConfig,\n  PropAliasConfig,\n  propTransformConfig,\n  PropTransformConfig,\n  BaseMetadata,\n  DecoratorInfo,\n  MetaClass,\n  MetaClassMetadata\n} from '../fw';\n\nimport { targetStore } from './target-store';\nimport { RelationMetadata } from './relation';\nimport { TypeMetadata, TypeMetadataArgs } from './type';\n\nexport interface PropMetadataArgs {\n  alias?: string | Partial<PropAliasConfig>;\n  transform?: TransformFn | Partial<PropTransformConfig>;\n\n  /**\n   * A Getter function that returns the type of the property.\n   * In most cases, the framework will identify the type using the metadata supplied by TypeScript.\n   * However, in some scenarios it is not possible to detect the type, the most common are:\n   *\n   * A) Circular module dependency, i.e. where A import B and B import A. Especially common in related types.\n   *    From 2 circular dependencies, the first one to load will not know the type of the 2nd.\n   *\n   * B) When using \"this\" type. TypeScript will emit the type \"Object\" when using this so it is not\n   *    known and the user must supply it.\n   *\n   * C) When using \"any\" type. TypeScript will emit the type \"Object\" when using this so it is not\n   *    known and the user must supply it.\n   *\n   * D): When the type T in an Array of T, TypeScript will emit the type Array without the array\n   *     element type. https://github.com/Microsoft/TypeScript/issues/7169\n   */\n  type?: TypeMetadataArgs;\n}\n\n@MetaClass<PropMetadataArgs, PropMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\nexport class PropMetadata extends BaseMetadata {\n  alias: PropAliasConfig;\n  transform?: Partial<PropTransformConfig>;\n\n  @LazyInit(function(this: PropMetadata) {\n    // get the type information.\n    // 3 options:\n    // 1. User set the @Type decorator, so we will find it in the metadata store\n    // 2. User the the 'type' property in PropMetadataArgs which will mimic @Type in the PropMetadata constructor\n    // 3. Auto resolve, we will create a new instance with no getter.\n    return targetStore.getMetaFor(this.target, TypeMetadata, this.name)\n      || new TypeMetadata(this.typeArgs, this.decoratorInfo, this.target);\n  })\n  type: TypeMetadata;\n\n  relation: RelationMetadata | undefined;\n  foreignKeyOf?: PropMetadata;\n\n  private typeArgs?: TypeMetadataArgs;\n\n  constructor(obj: PropMetadataArgs | undefined, info: DecoratorInfo, private target: Constructor<any>)  {\n    super(info);\n\n    if (!obj) {\n      obj = {};\n    }\n\n    // TODO: throw if name is not a string (can be symbol)\n    this.alias = propAliasConfig(obj.alias, info.name as any);\n\n    if (obj.transform) {\n      this.transform = propTransformConfig(obj.transform);\n    }\n\n    if (obj.type) {\n      this.typeArgs = obj.type;\n    }\n  }\n\n  setRelationship(rel: RelationMetadata): void {\n    if (!this.type.isGetter) {\n      if (!this.type.ref || this.type.ref === Object || this.type.ref === Array) {\n        throw new Error(`Property ${this.decoratorInfo.name} with relation but without a type, please set a type.`);\n      }\n    }\n\n    this.relation = rel;\n  }\n\n}\n\n// to make it easy on generics later\ndeclare module '../fw/metadata-framework/meta-class' {\n  module MetaClass {\n    function get(target: typeof PropMetadata): MetaClassMetadata<PropMetadataArgs, PropMetadata>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/metadata/prop.ts","import { isString, isFunction } from './utils';\nimport { PropAliasConfig, PropTransformConfig, TransformFn } from './interfaces'\n\nexport function propAliasConfig(from: string | Partial<PropAliasConfig>, fallback: string): PropAliasConfig {\n  let incoming: string, outgoing: string;\n\n  if (!from) {\n    incoming = outgoing = fallback;\n  } else if (isString(from) ) {\n    incoming = outgoing = from;\n  } else {\n    incoming = from.incoming || fallback;\n    outgoing = from.outgoing || fallback;\n  }\n\n  return { incoming, outgoing };\n}\n\nexport function propTransformConfig(from: TransformFn | Partial<PropTransformConfig>): PropTransformConfig {\n  let incoming: TransformFn, outgoing: TransformFn;\n\n  if (isFunction(from) ) {\n    incoming = outgoing = from;\n  } else if (from) {\n    if (isFunction(from.incoming)) {\n      incoming = from.incoming;\n    }\n    if (isFunction(from.outgoing)) {\n      outgoing = from.outgoing;\n    }\n  }\n\n  return { incoming, outgoing };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/fw/normalize.ts","import {\n  BaseMetadata,\n  DecoratorInfo,\n  MetaClass\n} from '../fw';\n\nexport interface RelationMetadataArgs {\n  /**\n   * The foreign key (property name) that points to the id of the resource belonged to.\n   * If not set, the current property name is used.\n   *\n   * For example, on a Customer object, if the foreign key is customerId and you would like to use\n   * the \"customer\" property, set the foreignKey to \"customerId\"\n   */\n  foreignKey?: string;\n}\n\n@MetaClass<RelationMetadataArgs, RelationMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\nexport class RelationMetadata extends BaseMetadata {\n\n  foreignKey: string;\n\n  constructor(obj: RelationMetadataArgs | undefined, info: DecoratorInfo)  {\n    super(info);\n\n    this.foreignKey = (obj && obj.foreignKey) || info.name as any;\n  }\n\n}\n\n// to make it easy on generics later\n// declare module '../fw/metadata-framework/meta-class' {\n//   module MetaClass {\n//     function get(target: typeof RelationMetadata): MetaClassMetadata<RelationMetadataArgs, RelationMetadata>;\n//   }\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/metadata/relation.ts","import { TixinFree } from '@tdm/tixin';\nimport { Constructor } from '../fw';\nimport { MapperFactory } from '../mapping/mapper';\n\nconst TDMModelMark = Symbol('TDMModel instance mark');\n\nexport interface TDMModel<T> {\n\n}\n\nexport class TDMModelBase<T> implements TDMModel<T> {\n\n  toString(): string {\n    return this.constructor.name;\n  }\n\n  // SEE IMPLEMENTATION IN src/@tdm/core/src/core.ts\n  /**\n   * Clone's (deep) the resource.\n   * This is a deep clone done using serialization -> deserialization, which means that all rules apply (i.e @Exclude)\n   *\n   * @param resource the resource (instance) to clone\n   * @param mapperFactory Optional, The [[MapperFactory]] to use, defaults to [[directMapper]].\n   */\n  static clone: <T>(resource: T, mapperFactory?: MapperFactory) => T;\n\n  static instanceOf(instance: any): instance is TDMModelBase<any> {\n    return instance[TDMModelMark] === true;\n  }\n\n  static factory<T, Z>(model: Z & Constructor<T>): Z & Constructor<TDMModelBase<T>> {\n    class TDModel extends (model as Constructor<{}>) { }\n\n    Object.defineProperty(TDModel, 'name', { configurable: true, value: model.name });\n    Object.defineProperty(TDModel, Symbol.hasInstance, { value: TDMModelBase.instanceOf });\n\n    TixinFree(TDModel, TDMModelBase, 'proto');\n\n    // TODO: copy other TS reflection info\n    const paramTypes = (Reflect as any).getOwnMetadata('design:paramtypes', model);\n    (Reflect as any).defineMetadata('design:paramtypes', paramTypes, TDModel);\n\n    return TDModel as any;\n  }\n}\n\nObject.defineProperty(TDMModelBase.prototype, TDMModelMark, { value: true });\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/model/tdm-model.ts","import {\n  Constructor,\n  DualKeyMap,\n  BaseMetadata,\n  isString,\n  GLOBAL_KEY,\n  MetadataClassStatic\n} from '../fw';\n\nimport { targetStore } from './target-store';\n// import { PropMetadata } from './prop';\nimport { TDMCollection } from '../model';\n\n/**\n * The metadata store for a target.\n *\n * Each target in the {@link TargetStore} has a matching TargetMetadata instance.\n * Each instance holds all the metadata data registered under that target.\n *\n * @pluginApi\n */\nexport class TargetMetadata<T = any, Z = any> {\n\n  protected config: DualKeyMap<Constructor<any>, TdmPropertyKey, any>;\n\n  constructor(public readonly target: Z & Constructor<T>, config: DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>) {\n    this.config = config;\n  }\n\n  /**\n   * Returns an array of values represented by the key.\n   * If the key has no values returns an empty array.\n   *\n   * This is a safe metadata collection extractor.\n   * @param type\n   * @returns\n   */\n  getValues<T, Z>(type: T & Constructor<Z>): Array<Z> {\n    const values = this.config.get(type);\n    return values ? Array.from(values.values()) : [];\n  }\n\n  /**\n   * Get the whole map of non-single metadata class\n   */\n  getMetaFor<T extends MetadataClassStatic, Z extends BaseMetadata>(metaClass: T & Constructor<Z>): Map<TdmPropertyKey, Z> | undefined;\n  /**\n   * Get metadata for a single value metadata class\n   */\n  getMetaFor<T extends MetadataClassStatic, Z extends BaseMetadata>(metaClass: T & Constructor<Z>, single: true): Z | undefined;\n  /**\n   * Get metadata for a non-single value metadata class\n   */\n  getMetaFor<T extends MetadataClassStatic, Z extends BaseMetadata>(metaClass: T & Constructor<Z>, name: string): Z | undefined;\n  getMetaFor<T extends MetadataClassStatic, Z extends BaseMetadata>(metaClass: T & Constructor<Z>, name?: string | true): Z | undefined {\n    if (isString(name)) {\n      const meta = this.config.get(metaClass);\n      if (meta) {\n        return meta.get(name);\n      }\n    } else if (name === true) {\n      const meta = this.config.get(GLOBAL_KEY);\n      if (meta) {\n        return meta.get(<any>metaClass);\n      }\n    } else {\n      return this.config.get(metaClass) as any;\n    }\n  }\n\n  /**\n   * Set metadata for a single metadata class\n   */\n  setMetaFor<T, ZValue = T>(metaClass: MetadataClassStatic<T>, value: ZValue): void;\n  /**\n   * Set metadata for a non-single metadata class\n   */\n  setMetaFor<T, ZValue = T>(metaClass: MetadataClassStatic<T>, name: string, value: ZValue): void;\n  setMetaFor<T, ZValue = T>(metaClass: MetadataClassStatic<T>, name: string | ZValue, value?: ZValue): void {\n    // TODO: don't go to target-store for this, implement here\n    if (isString(name)) {\n      targetStore.setMetaFor(this.target, metaClass, name, value);\n    } else {\n      targetStore.setMetaFor(this.target, metaClass, true, name);\n    }\n  }\n\n  /**\n   * Create a new instance of the TDMCollection for this type.\n   * @returns\n   */\n  createCollection(): TDMCollection<T> {\n    return new TDMCollection<T>();\n  }\n\n  // protected get<T, Z, P extends keyof T>(type: T & Constructor<Z>, key: P): Z {\n  //   return this.config.get(PropMetadata, key);\n  // }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/metadata/target-metadata.ts","export class TransformationError extends Error {\n  constructor(message?: string) {\n    super(message)\n  }\n\n  static coll_obj(expectedCol: boolean): TransformationError {\n    return new TransformationError(expectedCol\n      ? `Expected a collection but got an object`\n      : `Expected an object but got a collection`\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/mapping/errors.ts","const PRIMITIVES = ['boolean', 'string', 'number', 'symbol'];\n\n/**\n * A plain object (POJO/POCO) serializer/deserializer.\n * Extend for custom behaviour.\n */\nexport class PlainObjectMapper {\n  deserialize(obj: any): any {\n    return this._deserialize(obj);\n  }\n\n  serialize(obj: any): any {\n    return this._serialize(obj, new Map<any, any>());\n  }\n\n  protected _deserialize(obj: any): any {\n    return obj;\n  }\n\n  protected _serialize(obj: any, cache: Map<any, any>): any {\n    if (obj === null || obj === undefined) {\n      return null;\n    }\n\n    // we can be passive about resolving primitives, let them fallback if nothing hits...\n    // however, since primitive are used often, it likely that we save checks if we use an active approach.\n    if (PRIMITIVES.indexOf(typeof obj) > -1) {\n      return obj;\n    }\n\n    let cachedVal: any = cache.get(obj);\n\n    if (cachedVal) {\n      return cachedVal;\n    }\n\n    if (Array.isArray(obj)) {\n      cache.set(obj, cachedVal = []);\n\n      for (let i=0, len=obj.length; i<len; i++) {\n        cachedVal.push(this._serialize(obj[i], cache));\n      }\n    } else if (obj instanceof Date) {\n      cache.set(obj, cachedVal = obj.toISOString());\n    } else if (obj instanceof RegExp) {\n      cache.set(obj, cachedVal = obj.toString());\n    } else if (typeof obj === 'object' || typeof obj === 'function') {\n      cache.set(obj, cachedVal = {});\n\n      const keys = Object.keys(obj);\n      for (let i=0, len=keys.length; i<len; i++) {\n        cachedVal[keys[i]] = this._serialize(obj[keys[i]], cache);\n      }\n    } else { // throw here? don't think there's a way to get here\n      cache.set(obj, cachedVal = obj.toString());\n    }\n\n    return cachedVal;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/mapping/plain-object-mapper.ts","import { isPrimitive, DualKeyMap } from '../../fw';\nimport { PropMetadata, targetStore } from '../../metadata';\nimport { MapperFactory, DeserializeMapper, SerializeMapper } from '../mapper';\nimport { PropertyContainer, PoClassPropertyMap, transformValueOut } from '../prop-container';\nimport { PlainObjectMapper } from '../plain-object-mapper';\n\n/**\n * A mapper that has no mapping effect.\n * Maps every property on the source to the same property on the target.\n * This mapper does not support non primitive id's\n */\nexport class DirectDeserializeMapper extends DeserializeMapper {\n\n  setRef(value: any): void {\n    if (this.current) {\n      this.existing.set(this.sourceType, this.getIdentity(), value);\n    }\n  }\n\n  readonly isCollection: boolean;\n\n  protected existing: DualKeyMap<any, string, any>;\n  protected get ref(): any | undefined {\n    if (this.current) {\n      return this.existing.get(this.sourceType, this.getIdentity());\n    }\n  }\n\n  protected current: any;\n  protected identity: string;\n  private idx: number = -1;\n\n  constructor(source: any, sourceType: any, plainMapper?: PlainObjectMapper) {\n    super(source, sourceType, plainMapper);\n\n    if (! (this instanceof DirectChildDeserializeMapper)) {\n      this.existing = new DualKeyMap<any, string, any>();\n    }\n\n    this.identity = targetStore.getIdentityKey(this.sourceType, 'outgoing');\n\n    this.isCollection = Array.isArray(source);\n    if (!this.isCollection) {\n      this.current = this.source;\n    }\n  }\n\n  getIdentity(): string {\n    // TODO: Move to the global store, so logic can change without bugs.\n    return this.current[this.identity];\n  }\n\n  next(): boolean {\n    if (this.isCollection) {\n      this.current = this.source[++this.idx];\n      return !!this.current;\n    } else {\n      return false;\n    }\n  }\n\n  getKeys(): string[] {\n    return Object.keys(this.current);\n  }\n\n  getValue(key: string, prop?: PropMetadata): any {\n    let value = this.current[key];\n\n    if (prop) {\n      // The adapter has the responsibility to manage relationships.\n      // It doesn't care about key matching (e.g. key in property customer_id but property is customer)\n      // it get's a value and the property to assign to, the adapter should check if the value it got\n      // was an id or an object.\n\n      // this relationship handling logic makes this whole adapter support only primitive ID properties.\n      // if we have primitives we treat them as id's and create an object.\n      // later we wil check if this value is in cache, if not create it.\n      // if its not a primitive, it will process as a full object included in the payload.\n      const rel = this.getRelationQuery(prop, value);\n      if (rel) {\n        value = rel;\n      }\n\n      if (targetStore.hasTarget(prop.type.ref)) {\n        return this.getCache(prop.type.ref, value) || this.deserialize(value, prop);\n      }\n    }\n\n    return typeof value === 'object'\n      ? this.plainMapper.deserialize(value)\n      : value\n    ;\n  }\n\n  protected deserialize(value: any, prop: PropMetadata): any {\n\n    const mapper = this.ref\n        ? new DirectChildDeserializeMapper(value, prop.type.ref, this.existing, this.plainMapper)\n        : directMapper.deserializer(value, prop.type.ref, this.plainMapper) // tslint:disable-line\n      ;\n\n    return targetStore.deserialize(mapper);\n  }\n\n  /**\n   *  Returns a relationship object with the identity property set.\n   *  This object can then be used by the cache to identify if a value is cached or not (using the type & identity comb)\n   */\n  protected getRelationQuery(prop: PropMetadata, value: any): any {\n    if (prop.relation && isPrimitive(value)) {\n     return { [targetStore.getIdentityKey(prop.type.ref as any, 'outgoing')]: value };\n    }\n  }\n\n  protected getCache(type: any, value: any): any | undefined {\n    const idKey = targetStore.getIdentityKey(type, 'outgoing');\n    const idVal = idKey && value[idKey];\n    if (idVal) {\n      return this.existing.get(type, idVal);\n    }\n  }\n\n}\n\n// tslint:disable-next-line\nexport class DirectChildDeserializeMapper extends DirectDeserializeMapper {\n  constructor(source: any,\n              sourceType: any,\n              protected existing: DualKeyMap<any, string, any>,\n              plainMapper: PlainObjectMapper) {\n    super(source, sourceType, plainMapper);\n  }\n}\n\n// tslint:disable-next-line\nexport class DirectSerializeMapper extends SerializeMapper {\n  protected cache: Map<any, any>;\n\n  serialize(container: PropertyContainer): any {\n    if (!this.cache) {\n      this.cache = new Map<any, any>();\n    }\n\n    if (Array.isArray(this.source)) {\n      return this.serializeCollection(this.source, container);\n    } else {\n      return this.serializeObject(this.source, container);\n    }\n  }\n\n  private serializeObject(obj: any, container: PropertyContainer): any {\n    const data: any = {};\n\n    const cb = (pMap: PoClassPropertyMap) => {\n      const p = pMap.prop;\n      if (p && targetStore.hasTarget(p.type.ref)) {\n        const type: any = p.type.ref;\n        if (p.relation && !p.type.isArray) {\n          const idKey = targetStore.getIdentityKey(type);\n          // if the rel points to a different fk property name, @tdm will make sure prop.obj is that fk.\n          data[pMap.obj] = obj[pMap.cls][idKey];\n        } else {\n          data[pMap.obj] = targetStore\n            .serialize(type, new DirectChildSerializeMapper(obj[pMap.cls], this.cache, this.plainMapper));\n        }\n      } else {\n        const newVal = this.plainMapper.serialize(transformValueOut(obj[pMap.cls], p));\n        data[pMap.obj] = newVal;\n      }\n    };\n\n    container.forEach(Object.keys(obj), cb);\n\n    const idKey = targetStore.getIdentityKey(container.target);\n    if (idKey !== targetStore.getIdentityKey(container.target, 'outgoing')) {\n      delete data[idKey];\n    }\n\n    return data;\n  }\n\n  private serializeCollection(arr: any[], container: PropertyContainer): any[] {\n    return arr.map( s => this.serializeObject(s, container));\n  }\n}\n\n// tslint:disable-next-line\nexport class DirectChildSerializeMapper extends DirectSerializeMapper {\n  constructor(source: any, protected cache: Map<any, any>, plainMapper: PlainObjectMapper) {\n    super(source, plainMapper);\n  }\n}\n\nexport const directMapper: MapperFactory = {\n  serializer(source: any, plainMapper?: PlainObjectMapper): DirectSerializeMapper {\n    return new DirectSerializeMapper(source, plainMapper);\n  },\n  deserializer(source: any, sourceType: any, plainMapper?: PlainObjectMapper): DirectDeserializeMapper {\n    return new DirectDeserializeMapper(source, sourceType, plainMapper);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/mapping/direct-mapper/direct-mapper.ts","import { PropertyContainer } from './prop-container';\nimport { PropMetadata } from '../metadata';\nimport { PlainObjectMapper } from './plain-object-mapper';\n\nexport interface MapperFactory {\n  serializer(source: any, plainMapper?: PlainObjectMapper): SerializeMapper;\n  deserializer(source: any, sourceType: any, plainMapper?: PlainObjectMapper): DeserializeMapper;\n}\n\n/**\n * Represents the contract a Serializer needs to implements.\n * A Serializer should handle both a collection and a single item and should be able to identify them.\n *\n * Since Serialization transforms a KNOWN document to an UNKNOWN document the serializer is gets\n * free control over the output.\n * The library provides the instance and a container of property metadata for the instance and the\n * serializer should do the rest.\n *\n * Since the output schema is now known to the library the whole process is managed by the serializer.\n * The library helps with metadata.\n */\nexport abstract class SerializeMapper {\n  protected plainMapper: PlainObjectMapper;\n\n  constructor(public source: any | any[], plainMapper?: PlainObjectMapper) {\n    this.plainMapper = plainMapper || new PlainObjectMapper();\n  }\n\n  abstract serialize(container: PropertyContainer): any;\n}\n\n/**\n * Represents the contract a Deserializer needs to implements.\n * A Deserializer should handle both a collection and a single item and should be able to identify them.\n *\n * Since deserialization transforms UNKNOWN document to a KNOWN document the deserializer must implement\n * a specific interface so the library can normalize an unknown document into a known one.\n *\n * If a collection is found the deserializer move to an iteration mode via the next() method.\n * In a collection, the cursor must not point on an item until the first call to next().\n * In a single item next() is never used so the cursor must point to the item provided.\n *\n * The deserialization process:\n *   - Initialize the item (constructor) and identify the type (collection/single)\n *   - Find and return the keys for the current item (getKeys() done for each item)\n *   - Get the value for a given key\n *\n *\n * The Deserializer is responsible for deserializing the whole document, including nested items and\n * related items. It is therefor recommended to keep a cache of generated items if the document is expected to have nested resources.\n * Caching logic can be implemented by implementing the `setRef()` and `getIdentity()` methods and\n * using a child deserializer class or a count flag.\n *\n * > See `directMapper` and `@tdm/json-api-mapper` for implementation example.\n *\n */\nexport abstract class DeserializeMapper {\n  /**\n   * Optional, if set will be used to get the identity value.\n   * If the identity is part of the properties it will be sent through getValue(), but if not this\n   * function should be implemented. e.g. JSON API has an ID that is not part of the object attributes.\n   */\n  getIdentity?(): any;\n\n  /**\n   * Optional, if set will be used to inject a reference object to identify resources.\n   * If a mapper handles a cyclic document where resources reference other resources within the same\n   * document (e.g. JSONAPI) the mapper can use this reference along with identifiers on the document/resource\n   * to return objects that it already created.\n   * @param value\n   */\n  setRef?(value: any): void;\n\n  /**\n   * If true will iterate excluded items when calling getValue.\n   * See PropertyContainer.forEachRaw\n   */\n  raw?: boolean;\n\n  protected plainMapper: PlainObjectMapper;\n\n  constructor(public source: any, public sourceType: any, plainMapper?: PlainObjectMapper) {\n    this.plainMapper = plainMapper || new PlainObjectMapper();\n  }\n\n  /**\n   * A value stating if the input is a collection or not.\n   * The Deserializer is responsible to identify it from the document\n   */\n  abstract readonly isCollection: boolean;\n\n  /**\n   * If a collection, Moves the current item to the next item in the collection and returns true.\n   * If not a collection or if the enumerator is at the end of the collection or the collection is empty, returns false.\n   */\n  abstract next(): boolean;\n\n  /**\n   * Return the keys for the current item, this call is guaranteed to execute once per item.\n   * In the event of a collection and if you are certain that each item in the collection has the same properties\n   * you can implement a cache.\n   *\n   * It is not recommended to alter the keys, key transformation is governed by the library and set\n   * by the definition on the models, i.e. Naming transformation strategy and PropMetadata#alias.\n   */\n  abstract  getKeys(): string[];\n\n  /**\n   * Return the value for a given key.\n   *\n   * The keys sent to `getValue()` are not guaranteed to match the keys returned from `getKeys()`.\n   * Some keys might get omitted, some might change and the order might differ.\n   *\n   * A `PropMetadata` object is supplied, if exists.\n   * If the transformation strategy is exclusive a PropMetadata is always supplied otherwise, only for properties that have a @Prop decorator.\n   *\n   * Use the supplied `PropMetadata` to identify relationships, foreign keys, etc...\n   *\n   * @param key\n   * @param prop\n   */\n  abstract getValue(key: string, prop?: PropMetadata): any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/mapping/mapper.ts","import { TargetMetadata } from '../../metadata';\nimport { ModelMetadata, MODEL_PH } from './model';\n\ndeclare module '@tdm/core/tdm/src/metadata/target-metadata' {\n  interface TargetMetadata<T = any, Z = any> {\n    /**\n     * Indicates if the model returned from model() is a placeholder or a {@link ModelMetadata} instance.\n     */\n    hasModel: boolean;\n\n    /**\n     * Returns a placeholder or the {@link ModelMetadata} instance (or a derived class instance) for the target.\n     *\n     * If a {@link ModelMetadata} instance is not yet created, a plain object is returned.\n     * The plain object is used a a placeholder for storing model metadata before the instance get's created.\n     *\n     * Use the `hasModel` property to check if it is a plain object or a {@link ModelMetadata} instance\n     */\n    model<T extends ModelMetadata>(): T | undefined;\n  }\n}\n\nObject.defineProperty(TargetMetadata.prototype, 'model', {\n  value: function(this: TargetMetadata) {\n    // this[MODEL_PH] is set from ModelMetadata constructor\n    // if not set, create one to act as temporary placeholder until set.\n    // ModelMetadata will grab the data on the placeholder and take it into account\n    return this[MODEL_PH] || (this[MODEL_PH] = {});\n  }\n});\n\nObject.defineProperty(TargetMetadata.prototype, 'hasModel', {\n  get: function(this: TargetMetadata) {\n    return this[MODEL_PH] instanceof ModelMetadata;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/add/model/target-metadata.ts","import { Constructor, isFunction } from '../../fw/utils';\nimport { TransformDir } from '../../fw/interfaces';\nimport { targetEvents } from '../../fw/events';\nimport { TargetStore, TargetMetadata, PropMetadata, targetStore } from '../../metadata';\nimport { ModelMetadata } from '../../add/model';\n\ndeclare module '../../metadata/target-metadata' {\n  interface TargetMetadata<T, Z> {\n    /**\n     * Returns the target's identity key without initiating a target build.\n     * @param target\n     * @param direction\n     * @returns\n     */\n    getIdentityKey(direction?: TransformDir): string | undefined;\n  }\n}\n\ndeclare module '../../metadata/target-store' {\n  interface TargetStore {\n    /**\n     * Returns the target's identity key without initiating a target build.\n     * @param target\n     * @param direction\n     * @returns\n     */\n    getIdentityKey(target: Constructor<any>, direction?: TransformDir): string | undefined;\n\n    /**\n     * Returns metadata, if not built, builds it\n     * @param target\n     * @param register when true will also register if not exists\n     * @returns\n     */\n    getTargetMeta<T, Z>(target: Z & Constructor<T>): TargetMetadata<T, Z> | undefined;\n\n    /**\n     * Returns the target's name key without initiating a target build.\n     * @param target\n     * @returns\n     */\n    getTargetName(target: Constructor<any>): string | undefined;\n  }\n}\n\n// set the name for name lookup\ntargetStore.on.processType( target => {\n  const model = targetStore.getTargetMeta(target).model();\n  if (model) {\n    // TODO: make this type safe\n    targetStore['namedTargets'].set(model.resName, target);\n  }\n});\n\nTargetMetadata.prototype.getIdentityKey = function getIdentityKey(this: TargetMetadata,\n                                                                  direction?: TransformDir): string | undefined {\n  return targetStore.getIdentityKey(this.target, direction);\n};\n\nTargetStore.prototype.getTargetName = function getTargetName(this: TargetStore,\n                                                             target: Constructor<any>): string | undefined {\n  return targetStore.getMetaFor(target, ModelMetadata, true, 'resName');\n};\n\nTargetStore.prototype.getTargetMeta = function getTargetMeta(target: Constructor<any>): TargetMetadata | undefined {\n  let meta = this.builtTargets.get(target);\n  if (!meta) {\n    const metaArgs = this.targets.get(target);\n\n    if (!metaArgs) {\n      this.registerTarget(target);\n      return this.getTargetMeta(target);\n    }\n\n    meta = new TargetMetadata(target, metaArgs);\n    this.builtTargets.set(target, meta);\n    targetEvents.FIRE.createMetadata(target);\n  }\n  return meta;\n};\n\nTargetStore.prototype.getIdentityKey = function getIdentityKey(this: TargetStore,\n                                                               target: Constructor<any>,\n                                                               direction?: TransformDir): string | undefined {\n\n  const meta = this.getTargetMeta(target);\n  const model = meta.model();\n  const identity = <any> model.identity;\n\n  if (identity) {\n      if (!direction) {\n        return identity;\n      }\n\n      const propMeta = meta.getMetaFor(PropMetadata, identity);\n\n      // apply naming strategy when DONT HAVE ALIAS!\n      if (propMeta.name === propMeta.alias[direction]) {\n        const transformNameStrategy = model.transformNameStrategy;\n\n        if (transformNameStrategy && isFunction(transformNameStrategy[direction])) {\n\n          // in exclusive mode there is no point in have 2 transformation strategies.\n          // incoming is never there since incoming keys are not calculated, only defined Props.\n          if (model.transformStrategy === 'exclusive') {\n            direction = 'outgoing';\n          }\n\n          return transformNameStrategy[direction](propMeta.name);\n        }\n      }\n\n      return direction === 'outgoing'\n        ? propMeta.alias.outgoing\n        : propMeta.alias.incoming\n      ;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/add/target-store/index.ts","import { Tixin } from '@tdm/tixin';\nimport { TargetMetadata } from '../../metadata/target-metadata';\nimport { TargetStore, targetStore } from '../../metadata/target-store';\nimport { Model } from '../model';\nimport { SerializeMapper, DeserializeMapper, TransformationError } from '../../mapping';\nimport { TargetTransformer } from '../../mapping/target-transformer';\nimport { Constructor, isFunction, array, LazyInit } from '../../fw';\n\ndeclare module '@tdm/core/tdm/src/metadata/target-store' {\n  interface TargetStore {\n    serialize(target: Constructor<any>, mapper: SerializeMapper): any;\n\n    /**\n     * Deserialize a known target.\n     * @param mapper\n     * @param instance Optional, if not set a new instance of the type will be created.\n     */\n    deserialize(mapper: DeserializeMapper, instance?: any): any | any[] | undefined;\n\n    /**\n     * Plain deserializer, deserialize with no metadata.\n     * @param mapper\n     * @param instance Optional, if not set a new instance of will be created.\n     */\n    deserializePlain(mapper: DeserializeMapper, instance?: any): any;\n  }\n}\n\ndeclare module '@tdm/core/tdm/src/metadata/target-metadata' {\n  interface TargetMetadata<T = any, Z = any> {\n    transformer: TargetTransformer<T, Z>;\n    serialize(mapper: SerializeMapper): any;\n    deserialize(mapper: DeserializeMapper, target: any | any[], plain?: boolean): void;\n  }\n}\n\nexport function initMapping(): void {\n  @Model({ resName: 'InternalPlainObject' })\n  class PlainObject {}\n\n  TargetStore.prototype.serialize = function serialize(target: Constructor<any>, mapper: SerializeMapper): any {\n    const meta = this.getTargetMeta(target);\n    if (meta) {\n      return meta.serialize(mapper);\n    }\n  };\n\n  /**\n   * Deserialize and instance of \"DeserializeMapper\" into an instance of tge target supplied\n   * @param target\n   * @param mapper\n   * @returns\n   */\n  TargetStore.prototype.deserialize = function deserialize(mapper: DeserializeMapper, instance?: any): any | any[] | undefined {\n    if (this.hasTarget(mapper.sourceType)) {\n      const meta = this.getTargetMeta(mapper.sourceType);\n      const result: any = instance || meta.model().factory(mapper.isCollection);\n\n      meta.deserialize(mapper, result);\n      return result;\n    } else {\n      return this.deserializePlain(mapper, instance);\n    }\n  };\n\n  /**\n   * Deserialize and instance of \"DeserializeMapper\" into a plain object (object literal)\n   * @param mapper\n   * @param instance Optional, if not set a new instance of will be created.\n   */\n  TargetStore.prototype.deserializePlain = function deserializePlain(mapper: DeserializeMapper, instance?: any): any {\n    const meta = this.getTargetMeta(PlainObject);\n    const result: any = instance || mapper.isCollection ? [] : {};\n    meta.deserialize(mapper, result, true);\n    return result;\n  };\n\n  class MappingTargetMetadata<T, Z> extends TargetMetadata<T, Z> {\n    @LazyInit(function (this: TargetMetadata<T, Z>): TargetTransformer<T, Z> {\n      return new TargetTransformer<T, Z>(this);\n    })    transformer: TargetTransformer<T, Z>;\n\n    serialize(mapper: SerializeMapper): any {\n      return this.transformer.serialize(mapper);\n    }\n\n    deserialize(mapper: DeserializeMapper, target: any | any[], plain: boolean = false): void {\n      if (mapper.isCollection) {\n\n        if (!Array.isArray(target)) {\n          throw TransformationError.coll_obj(true);\n        }\n\n        const refItems = target.splice(0, target.length);\n        const identKey = targetStore.getIdentityKey(this.target, 'incoming');\n\n        while (mapper.next()) {\n          let t: any;\n\n          // compare current item to map with a list of items that if we, if we got.\n          // if match use that instance.\n          // TODO: Move compare to the global store, so logic can change without bugs.\n          if (refItems.length > 0 && isFunction(mapper.getIdentity)) {\n            const incomingIdent = mapper.getIdentity();\n            t = array.findRemove(refItems, (item) => item[identKey] === incomingIdent);\n          }\n\n          if (!t) {\n            t = plain ? {} : this.model().factory(false);\n          }\n\n          this.transformer.deserialize(mapper, t);\n          target.push(t);\n        }\n      } else {\n\n        if (Array.isArray(target)) {\n          throw TransformationError.coll_obj(false);\n        }\n\n        this.transformer.deserialize(mapper, target);\n      }\n    }\n  }\n\n  Tixin(TargetMetadata, MappingTargetMetadata);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/add/mapping/index.ts","export * from './type-helpers';\n\nexport {\n  errors,\n  Errors,\n  Constructor,\n  TransformDir,\n  TransformFn,\n  TransformStrategy,\n  NamingStrategyConfig,\n\n  stringify,\n  isNumber,\n  isString,\n  isFunction,\n  isUndefined,\n  isJsObject,\n  isPrimitive,\n  LazyInit,\n  DualKeyMap,\n  SetExt,\n  KeySet,\n  MapExt,\n  ensureTargetIsType,\n\n  MetadataAllowOn,\n\n  setMetaHelper,\n  MetaClassRegisterHelpers,\n  MetaClassExtendHelpers,\n\n  BaseMetadata,\n  BaseParamMetadata,\n  DecoratorInfo,\n  TargetEvents,\n  lazyRef,\n  getBaseClass,\n  getProtoChain,\n  reflection,\n\n  ProxyHostMetadataArgs,\n  MetaClassMetadataArgs,\n  MetaClassMetadata,\n  MetaClass,\n  MetadataClassStatic,\n  MetadataCurriedCreate,\n  MetaClassInstanceDetails\n} from './fw/index';\n\nexport {\n  ModelMetadataArgs,\n  TypeDefinition,\n  TypeMetadataArgs,\n  PropMetadataArgs,\n  RelationMetadataArgs,\n  ExcludeMetadataArgs,\n\n  TypeMetadata,\n  PropMetadata,\n  ExcludeMetadata,\n  RelationMetadata,\n  TargetStore,\n  TargetMetadata,\n  targetStore\n} from './metadata/index';\n\nexport {\n  directMapper,\n  TransformationError,\n  DirectSerializeMapper,\n  DirectDeserializeMapper,\n\n  MapperFactory,\n  DeserializeMapper,\n  SerializeMapper,\n  PropertyContainer,\n  PoClassPropertyMap,\n  transformValueOut,\n  PlainObjectMapper,\n} from './mapping/index';\n\nexport { TDMCollection, TDMModel, TDMModelBase } from './model/index';\n\nexport { Model, ModelMetadata, processModel } from './add/model/index';\n\nimport './add/target-store';\nimport { initMapping } from './add/mapping';\ninitMapping();\nimport './add/mapping'; // we need this for d.ts export, the 2 rows above are not set in d.ts)\n\n// tslint:disable-next-line:no-namespace\ndeclare global {\n  type TdmPropertyKey = string | symbol;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/tdm/src/tdm.ts","import {\n  TargetMetadata,\n  DecoratorInfo,\n  PropMetadata,\n  isString\n} from '@tdm/core/tdm';\nimport { Prop } from '../decorators';\n\ndeclare module '@tdm/core/tdm/src/metadata/target-metadata' {\n  interface TargetMetadata<T, Z> {\n    getCreateProp(info: DecoratorInfo | string): PropMetadata;\n  }\n}\n\nTargetMetadata.prototype.getCreateProp = function getCreateProp(info: DecoratorInfo | string): PropMetadata {\n  const name = isString(info) ? info : info.name;\n\n  if (!this.config.has(PropMetadata, name)) {\n    Prop()(this.target.prototype, name);\n  }\n\n  return this.config.get(PropMetadata, name);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/src/add/target-metadata.ts","import { directMapper, TDMModelBase } from '@tdm/core/tdm';\n\nexport {\n  // fw\n  errors,\n  Errors,\n  Constructor,\n  TransformDir,\n  TransformFn,\n  TransformStrategy,\n  NamingStrategyConfig,\n\n  // metadata\n  ModelMetadataArgs,\n  TypeDefinition,\n  TypeMetadataArgs,\n  PropMetadataArgs,\n  RelationMetadataArgs,\n  ExcludeMetadataArgs,\n\n  // here was tdm\n  TDMCollection,\n  TDMModel,\n  TDMModelBase,\n\n  // add/model\n  Model,\n\n  // mapping\n  directMapper,\n  TransformationError,\n  DirectSerializeMapper,\n  DirectDeserializeMapper,\n\n} from '@tdm/core/tdm';\n\nexport { Type, Prop, Exclude, Relation, Identity } from './decorators';\n\nimport './add/target-metadata';\n\n// public serialize / deserialize functions\nimport {\n  Constructor,\n  MapperFactory,\n  targetStore\n} from '@tdm/core/tdm';\n\n/**\n * Serialize a class instance into a plain object.\n * @param mapper\n * @param instance\n * @param type optional, if not set taken from instance.constructor\n * @returns\n */\nexport function serialize<T, Z>(mapper: MapperFactory, instance: T, type?: Z & Constructor<T>): any {\n  return targetStore.serialize(type || instance.constructor as any, mapper.serializer(instance));\n}\n\n/**\n * Automatically serialize an instance.\n * This method will serialize an instance by first trying to locate the target using the `constructor` function.\n * If a target is found and if it's a model target (i.e. ModelMetadata) it will try to get the mapper assign for that\n * model.\n *\n * If no target, model or mapper was found it will use the fallbackMapper mapper provided, or `directMapper`\n * if no fallback is provided provided.\n *\n * Note that when provided a fallback mapper, make sure it is able to serialize unknown targets. (plain objects)\n */\nexport function autoSerialize(instance: any, fallbackMapper: MapperFactory = directMapper): any {\n  const tMeta = targetStore.getTargetMeta(<any> instance.constructor);\n  const mapper = (tMeta && tMeta.hasModel && tMeta.model().mapper) || fallbackMapper;\n  return serialize(mapper, instance);\n}\n\n/**\n * De-serialize a plain object into a the provided instance or, when no instance is provided, to a new instance.\n */\nexport function deserialize<T, Z>(mapper: MapperFactory,\n                                  plainObject: any,\n                                  type: Z & Constructor<T>,\n                                  instance?: any): T {\n  return targetStore.deserialize(mapper.deserializer(plainObject, type), instance);\n}\n\n/**\n * Automatically de-serialize an object to/into an instance.\n * This method will de-serialize an object by first trying to locate a model (i.e. ModelMetadata) for the target.\n * If a model is found it will try to get the mapper assign for that model.\n *\n * If no model or mapper was found it will use the fallbackMapper mapper provided, or `directMapper`\n * if no fallback is provided provided.\n *\n */\nexport function autoDeserialize<T, Z>(plainObject: any,\n                                      type: Z & Constructor<T>,\n                                      instance: any = null,\n                                      fallbackMapper: MapperFactory = directMapper): T {\n  const tMeta = targetStore.getTargetMeta(type);\n  const mapper = (tMeta && tMeta.hasModel && tMeta.model().mapper) || fallbackMapper;\n  return deserialize(mapper, plainObject, type, instance);\n}\n\nTDMModelBase.clone = function(resource: any, mapperFactory: MapperFactory = directMapper) {\n  return autoDeserialize(autoSerialize(resource, mapperFactory), <any> resource.constructor, null, mapperFactory);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/core/src/core.ts","import {\n  isFunction,\n  isString,\n  DecoratorInfo,\n  BaseMetadata\n} from '@tdm/core/tdm';\n\nimport { ExecuteResponse, ActionOptions, ValidationSchedule, AdapterStatic } from '../../fw';\nimport { ExecuteContext } from '../../core';\n\nexport enum ActionMethodType {\n  /**\n   * Used to mark a method as local to the implementing adapter.\n   */\n  LOCAL,\n  READ,\n  CREATE,\n  REPLACE,\n  UPDATE,\n  DELETE\n}\n\nexport type PreActionHandler = (ctx: ExecuteContext<any>, ...args: any[] ) => any;\n\n/**\n * The\n */\nexport type PostActionHandler = (response: ExecuteResponse, options: ActionOptions) => void;\nexport type PostActionMetadata = {\n  handler: PostActionHandler;\n  /**\n   * Override mode.\n   *\n   * When set to true the action, when invoked, will not return the instance of the model, instead it will return a\n   * promise to the return value of the handler.\n   *\n   * When setting returns to true the incoming data is not managed by the library (no deserialization).\n   * When called on an ActiveRecord instance the instance is cloned and the action will work on the clone and not the\n   * original instance this is why you SHOULD NOT return the instance when setting returns to true.\n   *\n   * This mode is useful for custom methods that does not return the instance itself but a different value, for example\n   * an action operation with an indicator (true/false)\n   *\n   * @default false\n   */\n  returns?: boolean;\n};\n\nexport interface ActionMetadataArgs<T = any> {\n  method: T;\n  /**\n   * Specify if the response is an array.\n   * A collection can only be set on static level actions.\n   * @optional\n   * @default false\n   */\n  isCollection?: boolean;\n\n  /**\n   * If set to true, the action is also set on the ActiveRecordCollection instance.\n   * Valid on if isCollection is true;\n   */\n  collInstance?: boolean;\n\n  /**\n   * A hook to update data and return the options.\n   * If not set the options is taken from the 1st arg.\n   */\n  pre?: PreActionHandler;\n\n  /**\n   * A hook that allow control over the response.\n   *\n   * The hook's handler signature is [[PostActionHandler]].\n   *\n   * > Note that the context (this) of the handler is the instance of the model.\n   *\n   * The hook has 2 modes: PASSIVE and ACTIVE\n   *\n   * >The default mode is PASSIVE.\n   *\n   * PASSIVE MODE:\n   * Hook used to manipulate values in the response but does not control the structure.\n   * This mode allows updating the instance of the model before it is sent back to the user.\n   *\n   * The instance is created by the library which (optionally) deserialize the response and then the hooks can update\n   * the instance before it is serialized and sent to the user.\n   *\n   * > Optionally deserialize because the action might instruct not to, use ExecuteResponse.skipDeserialize to detect\n   * this.\n   *\n   * ACTIVE MODE:\n   * Hook used to change the response returned from the execution of the action.\n   *\n   * An execution returns one of 2: The instance of the model it \"executes on\" OR a promise of...\n   *\n   * When using ACTIVE mode, the execution will (always) return a promise of the value returned by the post handler.\n   *\n   * ACTIVE mode allows execution of operations/actions that does not return a response matching the structure of\n   * the model attached to it.\n   *\n   * For example, In a virtual machines ,management application we have a `VirtualMachine` record which we store in a\n   * database but we can also use to invoke operations (RPC). The `stop()` method is an operation/action we want to\n   * define but it returns an object with some keys that is not related to the `VirtualMachine` and used to keep track\n   * of the shutdown. For that we need to use an ACTIVE post action handler so we return this object instead of the\n   * library thinking this object represents the `VierualMachine` model.\n   */\n  post?: PostActionHandler | PostActionMetadata;\n\n  validation?: ValidationSchedule;\n\n  /**\n   * An alias (or alias list) for methods names that reference this action.\n   *\n   * > The library will create a reference to the action methods for each alias in the list.\n   */\n  alias?: string | string[];\n\n  /**\n   * Declare the number of parameters that the action accepts.\n   * When set, if the number of params is less then the hint an empty option object is added at the\n   * hint location.\n   *\n   * The library assumes that the last parameter in an action method signature is the option object.\n   *\n   * > The value is the length, not last index.\n   *\n   *\n   * > This will eliminate the need to validate the options object on actions where options object is optional.\n   *\n   * If you are using other optional parameters or union types you will need to verify the options manually and do not\n   * define a hint. In such cases it is probably better to reconsider the implementation, remove parameters from the\n   * signature and put them in the options object.\n   */\n  paramHint?: number;\n}\n\nexport abstract class ActionMetadata extends BaseMetadata {\n  method: ActionMethodType;\n  isCollection: boolean | undefined;\n  collInstance: boolean | undefined;\n  pre?: PreActionHandler;\n  post?: PostActionMetadata;\n  validation: ValidationSchedule;\n  alias?: string[];\n  paramHint: number;\n\n  constructor(public readonly metaArgs: ActionMetadataArgs<any>, info: DecoratorInfo) {\n    super(info);\n\n    Object.assign(this, metaArgs);\n    if (metaArgs.post) {\n      if (isFunction(metaArgs.post)) {\n        this.post = { handler: metaArgs.post };\n      } else if (metaArgs.post && isFunction(metaArgs.post.handler)) {\n        this.post = metaArgs.post;\n      }\n    }\n    if (isString(metaArgs.alias)) {\n      this.alias = [metaArgs.alias];\n    }\n    this.paramHint = metaArgs.paramHint || 0;\n  }\n\n  /**\n   * The adapter class this action represents\n   */\n  static adapterClass: AdapterStatic<any, any>;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/metadata/meta-types/action.ts","import { MetaClass, DecoratorInfo } from '@tdm/core/tdm';\nimport { ActionMetadata, ActionMetadataArgs } from './action';\n\n@MetaClass<ActionMetadataArgs<any>, ExtendActionMetadata>({\n  allowOn: ['staticMember', 'member'],\n  extend: 'mergeMapArray',\n  register: 'array'\n})\nexport class ExtendActionMetadata extends ActionMetadata {\n  constructor(metaArgs: Partial<ActionMetadataArgs<any>>, info: DecoratorInfo)  {\n    super(metaArgs as any, info);\n    Object.assign(this, metaArgs);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/metadata/meta-types/extend-action.ts","import { isString, isNumber } from '@tdm/core/tdm';\nexport * from './type-utils';\n\n/**\n * Search search each object in \"objects\", right to left, for a key and returns the value.\n * Fallback object must have the key.\n * @param key\n * @param fallback\n * @param objects\n * @returns\n */\nexport function findProp<T, P extends keyof T>(key: P, fallback: T, ...objects: any[]): T[P] {\n  for (let i = objects.length - 1; i >= 0; i--) {\n    if (objects[i] && objects[i].hasOwnProperty(key)) {\n      return objects[i][key];\n    }\n  }\n  return fallback[key];\n}\n\n\nexport function isSymbol(obj: any): obj is symbol {\n  return typeof obj === 'symbol';\n}\n\nexport function isTdmPropertyKey(obj: any): obj is TdmPropertyKey {\n  return isString(obj) || isSymbol(obj) || isNumber(obj);\n}\n\nexport function noop(...args: any[]): void { };\n\n/**\n * returns an object with a promise, resolver and rejector.\n * @returns\n */\nexport function promiser<T>(): { resolve: (result?: T) => void, reject: (error: any) => void, promise: Promise<T> }  {\n  let resolve: (result?: T) => void;\n  let reject: (error: any) => void;\n  let promise: Promise<T> = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { resolve, reject, promise };\n}\n\nexport const array = function() {\n  const scalar = v => !Array.isArray(v);\n\n  const flatten = (deep: any[][], flat: any[] = []) => {\n    if (deep.length === 0) return flat;\n    let [head, ...tail] = deep;\n    if (scalar(head)) {\n      return flatten(tail, flat.concat(head));\n    } else {\n      return flatten(tail, flat.concat(flatten(head)));\n    }\n  };\n\n  const findRemove = <T>(arr: Array<T>, predicate: (value: T) => boolean, thisArg?: any): T | undefined => {\n    const idx = arr.findIndex(predicate, thisArg);\n    if (idx > -1) {\n      return arr.splice(idx, 1)[0];\n    }\n  };\n\n  return {\n    findRemove,\n    flatten<T>(array: Array<Array<T>>): Array<T> {\n      return flatten(array);\n    }\n  }\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/utils/index.ts","import { Constructor } from '@tdm/core';\nimport { AdapterStatic } from '../fw';\n\n/**\n * @internal\n */\nexport const DAOContextSymbol = Symbol('DAO context prop');\n\nexport interface DAOContext<T = any> {\n  /**\n   * The target (resource) to use.\n   */\n  target: Constructor<any>;\n  /**\n   * The adapter to use.\n   */\n  adapter: AdapterStatic<any, any>;\n  /**\n   * Additional data to pass to the DAO.\n   */\n  factoryArgs?: T;\n}\n\nexport interface DAOMethodType {\n  findById: any;\n\n  find: any;\n  findOne: any;\n\n  query: any;\n  findAll: any;\n\n  create: any;\n  update: any;\n  replace: any;\n  remove: any;\n\n  /**\n   * Clear the whole table representing a resource.\n   */\n  clear: any;\n}\n\nexport type DAOMethods = {\n  [P in keyof DAOMethodType]: any\n};\n\nexport const DAOMethods: DAOMethods = <any> { // Keep this any, or 3rd party extending of DAOMethodType will fail\n  findById: 'findById',\n\n  find: 'find',\n  findOne: 'findOne',\n\n  query: 'query',\n  findAll: 'findAll',\n\n  create: 'create',\n  update: 'update',\n  replace: 'replace',\n  remove: 'remove',\n\n  /**\n   * Clear the whole table representing a resource.\n   */\n  clear: 'clear',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/dao/symbols.ts","import {\n  isFunction,\n  targetStore,\n  errors,\n  Constructor\n} from '@tdm/core/tdm';\n\nimport { AdapterStatic, ActionOptions, IdentityValueType } from '../fw';\nimport { DAOMethods, DAOContextSymbol, DAOContext } from './symbols';\n\nexport interface TargetDAO<T, Options extends ActionOptions> {\n  findById(id: IdentityValueType, options?: Options): Promise<T>;\n\n  find(options: Options): Promise<T>;\n  findOne(options: Options): Promise<T>;\n\n  query(options?: Options): Promise<T[]>;\n  findAll(options?: Options): Promise<T[]>;\n\n  create(instance: T, options?: Options): Promise<T | void>;\n  create(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  update(instance: T, options?: Options): Promise<T | void>;\n  update<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  replace(instance: T, options?: Options): Promise<T | void>;\n  replace<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  remove(instance: T, options?: Options): Promise<void>;\n  remove(id: IdentityValueType, options?: Options): Promise<void>;\n}\n\nexport interface AdapterDAO<Options extends ActionOptions> {\n  findById<T>(id: IdentityValueType, options?: Options): Promise<T>;\n\n  find<T>(options: Options): Promise<T>;\n  findOne<T>(options: Options): Promise<T>;\n\n  query<T>(options?: Options): Promise<T[]>;\n  findAll<T>(options?: Options): Promise<T[]>;\n\n  create<T>(instance: T, options?: Options): Promise<T | void>;\n  create<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  update<T>(instance: T, options?: Options): Promise<T | void>;\n  update<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  replace<T>(instance: T, options?: Options): Promise<T | void>;\n  replace<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  remove<T>(instance: T, options?: Options): Promise<void>;\n  remove(id: IdentityValueType, options?: Options): Promise<void>;\n}\n\nexport class DAO {\n  findById<T>(target: Constructor<T>, id: IdentityValueType, options?: ActionOptions): Promise<T> {\n    return this.run(target, 'findById', id, options);\n  }\n\n  find<T>(target: Constructor<T>, options: ActionOptions): Promise<T> {\n    return this.run(target, 'find', options);\n  }\n  findOne<T>(target: Constructor<T>, options: ActionOptions): Promise<T> {\n    return this.find(target, options);\n  }\n\n  query<T>(target: Constructor<T>, options?: ActionOptions): Promise<T[]> {\n    return this.run(target, 'query', options);\n  }\n  findAll<T>(target: Constructor<T>, options?: ActionOptions): Promise<T[]> {\n    return this.query(target, options);\n  }\n\n  create<T>(instance: T, options?: ActionOptions): Promise<T | void>;\n  create<T>(target: Constructor<T>, obj: Partial<T>, options?: ActionOptions): Promise<T | void>;\n  create<T>(target: Constructor<T> | T, obj?: Partial<T> | ActionOptions, options?: ActionOptions): Promise<T | void> {\n    return this.runTargetOrInstance(target, 'create', obj, options);\n  }\n\n  update<T>(instance: T, options?: ActionOptions): Promise<T | void>;\n  update<T>(target: Constructor<T>, obj: Partial<T>, options?: ActionOptions): Promise<T | void>;\n  update<T>(target: Constructor<T> | T, obj?: Partial<T> | ActionOptions, options?: ActionOptions): Promise<T | void> {\n    return this.runTargetOrInstance(target, 'update', obj, options);\n  }\n\n  replace<T>(instance: T, options?: ActionOptions): Promise<T | void>;\n  replace<T>(target: Constructor<T>, obj: Partial<T>, options?: ActionOptions): Promise<T | void>;\n  replace<T>(target: Constructor<T> | T, obj?: Partial<T> | ActionOptions, options?: ActionOptions): Promise<T | void> {\n    return this.runTargetOrInstance(target, 'replace', obj, options);\n  }\n\n  remove<T>(instance: T, options?: ActionOptions): Promise<void>;\n  remove<T>(target: Constructor<T>, id: IdentityValueType, options?: ActionOptions): Promise<void>;\n  remove<T>(target: Constructor<T> | T,\n            id?: IdentityValueType | ActionOptions,\n            options?: ActionOptions): Promise<void> {\n    return this.runTargetOrInstance(target, 'remove', id, options);\n  }\n\n  /**\n   * Clear the whole table representing a resource.\n   */\n  clear<T>(target: Constructor<T>): Promise<void> {\n    return this.run(target, 'clear');\n  }\n\n  private runTargetOrInstance(target: Constructor<any> | any,\n                              cmd: keyof typeof DAOMethods,\n                              ...args: any[]): Promise<void>  {\n    if (isFunction(target)) {\n      return this.run(target, cmd, ...args);\n    } else {\n      if (targetStore.hasTarget(target.constructor)) {\n        return this.run(<any> target.constructor, cmd, ...args);\n      }\n      // TODO: got down proto chain and search for target.\n    }\n\n    // TODO: normalize error.\n    return Promise.reject(new Error('Invalid input'));\n  }\n\n  private run(target: Constructor<any>, cmd: keyof typeof DAOMethods, ...args: any[]): any {\n    if (!targetStore.hasTarget(target)) {\n      // TODO: normalize error.\n      return Promise.reject(new Error('Target does not exist'));\n    }\n\n    const meta = targetStore.getTargetMeta(target);\n    if (!meta.activeAdapter) {\n      return Promise.reject(errors.modelNoAdapter(target));\n    }\n\n    const action = targetStore.getAdapter(meta.activeAdapter).getDAOAction(cmd);\n\n    if (!action) {\n      return Promise.reject(errors.adapterNoAction(meta.activeAdapter, cmd));\n    }\n    return targetStore.getAC(target, meta.activeAdapter)\n      .createExecFactory(action, 'promise')(undefined, { args });\n  }\n\n  /**\n   * Returns the DAO of an adapter, attached to a target.\n   * @param adapterClass\n   * @param target\n   * @param factoryArgs\n   * @returns\n   */\n  static of<T, Z, Options>(adapterClass: AdapterStatic<any, Options>,\n                           target: Z &  Constructor<T>,\n                           factoryArgs?: any): TargetDAO<T, Options> {\n    const clz = targetStore.getAdapter(adapterClass).DAOClass;\n    const daoCtx: DAOContext = {\n      target,\n      adapter: adapterClass,\n      factoryArgs\n    };\n    return Object\n      .create(clz.prototype, { [DAOContextSymbol]: { value: daoCtx } });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/dao/dao.ts","import { RelationMetadataArgs, MetaClass, RelationMetadata } from '@tdm/core/tdm';\n\nexport type BelongsToMetadataArgs = RelationMetadataArgs;\n\nexport interface OwnsMetadataArgs<T> {\n  foreignKey: keyof T;\n}\n\n@MetaClass<BelongsToMetadataArgs, BelongsToMetadata>({\n  inherit: RelationMetadata\n})\nexport class BelongsToMetadata extends RelationMetadata { }\n\n@MetaClass<OwnsMetadataArgs<any>, OwnsMetadata>({\n  inherit: RelationMetadata\n})\nexport class OwnsMetadata extends RelationMetadata { }\n\nexport type Relationship = BelongsToMetadata | OwnsMetadata;\nexport type RelationshipType = 'belongsTo' | 'hasMany' | 'hasOne';\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/metadata/meta-types/relations.ts","import { Errors, stringify } from '@tdm/core/tdm';\nimport { AdapterStatic, ValidationError } from './interfaces';\n\nconst pt = Errors.prototype;\n\ndeclare module '@tdm/core/tdm/src/fw/errors' {\n  interface Errors {\n    validation(model: any, errors: ValidationError[]): Error & { errors: ValidationError[] };\n    validationConfig(validationName: string, message: string): Error;\n    modelNoAdapter(model: any): Error;\n    adapterNoAction(adapterClass: AdapterStatic<any, any>, action: string): Error;\n    plugin(pluginName: string, message: string): Error;\n    pluginMissing(pluginName: string): Error;\n    adapter(adapterClass: AdapterStatic<any, any>, message: string): Error;\n    adapterRegistered(adapterClass: AdapterStatic<any, any>, registeredIn?: any): Error;\n    adapterNotRegistered(adapterClass: AdapterStatic<any, any>, model?: any): Error;\n  }\n}\n\npt.modelNoAdapter = function modelNoAdapterError(this: Errors, model: any): Error {\n  return this.model(model, `No active adapter registered.`);\n};\n\npt.adapterNoAction = function adapterNoActionError(this: Errors, adapterClass: AdapterStatic<any, any>, action: string): Error {\n  return this.adapter(adapterClass, `Action \"${action}\" is not registered.`);\n};\n\npt.validation = function validationError(this: Errors, model: any, errors: ValidationError[]): Error & { errors: ValidationError[] } {\n  // TODO: print validation errors\n  return this.ERROR(`Validation Error [${stringify(model)}]`, { errors });\n};\n\npt.validationConfig = function validationConfigError(this: Errors, validationName: string, message: string): Error {\n  return this.ERROR(`Invalid validation configuration params for \"${validationName}\": ${message}`);\n};\n\npt.plugin = function plugin(this: Errors, pluginName: string, message: string): Error {\n  return this.ERROR(`Plugin Error [${pluginName}]: ${message}`);\n};\n\npt.pluginMissing = function plugin(this: Errors, pluginName: string): Error {\n  return this.plugin(pluginName, `Unknown or missing plugin`);\n};\n\npt.adapter = function adapter(adapterClass: AdapterStatic<any, any>, message: string): Error {\n  return this.ERROR(`Adapter Error [${stringify(adapterClass)}]: ${message}`);\n};\n\npt.adapterRegistered = function adapterRegistered(adapterClass: AdapterStatic<any, any>, registeredIn?: any): Error {\n  return this.adapter(adapterClass, `Adapter already registered${ registeredIn ? ` (in ${stringify(registeredIn)})` : '' }`);\n};\n\npt.adapterNotRegistered = function adapterNotRegistered(adapterClass: AdapterStatic<any, any>, model?: any): Error {\n  return this.adapter(adapterClass, `Adapter not registered${ model ? ` (in ${stringify(model)})` : '' }`);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/fw/errors.ts","import { TDMModel } from '@tdm/core';\nimport { DAOMethodType } from '../dao/index';\nimport { ResourceControl } from '../resource-control';\n\nexport interface ARMethodType {\n  $create: any;\n  $update: any;\n  $replace: any;\n  $remove: any;\n  $get: any;\n}\n\nexport type ARMethods = {\n  [P in keyof ARMethodType]: any\n};\n\n/**\n * String enumeration of active record object methods\n */\nexport const ARMethods: ARMethodType = <any> { // Keep this any, or 3rd party extending of ARMethodType will fail\n  $create: '$create',\n  $update: '$update',\n  $replace: '$replace',\n  $remove: '$remove',\n  $get: '$get'\n};\n\nexport type ARHookableMethods = keyof ARMethodType | keyof DAOMethodType;\n\nexport interface ARHookRule {\n  type: 'both' | 'static' | 'instance';\n}\n\nexport const ARHooks: { [P in ARHookableMethods]: ARHookRule } = {\n  $create: { type: 'instance'},\n  $update: { type: 'instance'},\n  $replace: { type: 'instance'},\n  $remove: { type: 'instance'},\n  $get: { type: 'instance'},\n\n  findById: { type: 'static'},\n\n  find: { type: 'static'},\n  findOne: { type: 'static'},\n\n  query: { type: 'static'},\n  findAll: { type: 'static'},\n\n  create: { type: 'static'},\n  update: { type: 'static'},\n  replace: { type: 'static'},\n  remove: { type: 'static'},\n\n  /**\n   * Clear the whole table representing a resource.\n   */\n  clear: { type: 'static'}\n};\n\nexport type ARInterface<T, Z> = TDMModel<T> & {\n  [P in keyof typeof ARMethods]: (options?: Z) => ResourceControl<T>;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/active-record/interfaces.ts","import { Constructor, errors } from '@tdm/core';\n\nexport interface PluginStatic extends Constructor<Plugin> {\n  prototype: Plugin;\n}\n\nexport interface Plugin {\n\n  init(options?: any): void;\n}\n\nexport class PluginStore {\n  private constructor() {}\n\n  assertPlugin(name: string) {\n    if (!this[name]) {\n      errors.throw.pluginMissing(name);\n    }\n  }\n\n  /**\n   * Register's a plugin in the store.\n   * The plugin is not initialized until the user invokes the init() method.\n   * @param name\n   * @param type\n   */\n  static register(name: string, type: PluginStatic): void {\n    if (PluginStore.prototype.hasOwnProperty(name)) {\n      throw new Error(`Plugin conflict \"${name}\"`);\n    }\n    Object.defineProperty(PluginStore.prototype, name, { value: new type() });\n  }\n\n}\n\nexport const plugins: PluginStore = Object.create(PluginStore.prototype);\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/fw/plugin.ts","import {\n  targetStore,\n  stringify,\n  isFunction,\n  PropMetadata,\n  MetaClassMetadata,\n  ModelMetadataArgs,\n  ModelMetadata,\n  TDMModelBase\n} from '@tdm/core/tdm';\nimport { AdapterStatic } from '../fw';\n\ndeclare module '@tdm/core/tdm/src/fw/metadata-framework/meta-class' {\n  interface MetaClassMetadata<TMetaArgs = any, TMetaClass = any, Z = any> {\n    createResourceDecorator(adapterClass: AdapterStatic<any, any>): (def: TMetaArgs) => (target: Function) => any;\n  }\n}\n\nconst ADAPTER_REF = Symbol('Adapter Ref');\n\n/**\n * A Factory for Resource class decorators, the returned decorator will automatically register the\n * target & adapterType with the resource.\n * @param adapterClass\n */\nexport function resource<TMetaArgs extends ModelMetadataArgs>(\n  this: MetaClassMetadata<ModelMetadataArgs, ModelMetadata>,\n  adapterClass: AdapterStatic<any, any>): (metaArgs: TMetaArgs) => ClassDecorator {\n\n  const metaClass = this;\n\n  return function ResourceDecorator(metaArgs: TMetaArgs) {\n    return (target: any) => {\n\n      if (targetStore.getAdapter(adapterClass).resourceMetaClass !== metaClass.target) {\n        throw new Error(`Adapter ${stringify(adapterClass)} resource metadata mismatch`);\n      }\n\n      if (metaArgs.factory) {\n        console.warn('Model#factory can not be set in @tdm/data');\n        delete metaArgs.factory;\n      }\n\n      const TDMModel = TDMModelBase.factory(target);\n      TDMModel[ADAPTER_REF] = adapterClass;\n\n      // Creating ModelMetadata instance (or a derived class of ModelMetadata)\n      const modelMeta = metaClass.create(metaArgs || {}, target);\n      // targetStore.registerTarget(target);\n      const meta = targetStore.getTargetMeta(target);\n\n\n      // check for properties that set the type to self (same class)\n      // the class will point to the base class (target) that TDModel extends.\n      // this is fine if the user didn't set `typeGetter`, if he did we get TDModel\n      meta\n        .getValues(PropMetadata)\n        .forEach( p => {\n          const desc = Object.getOwnPropertyDescriptor(p, 'type');\n\n          if (desc && desc.configurable && isFunction(desc.get) && desc.get() === target) {\n            Object.defineProperty(p, 'type', { configurable: true, value: TDMModel });\n          }\n        });\n\n      targetStore.registerTarget(TDMModel);\n      const tdmModelMeta = metaClass.extendSingle(modelMeta, undefined, { from: target, to: TDMModel });\n\n      if (modelMeta.skip !== true) {\n        tdmModelMeta.build();\n      }\n\n      return TDMModel;\n    };\n  };\n}\n\nMetaClassMetadata.prototype.createResourceDecorator = resource;\n\ntargetStore.on.beforeProcessType( target => {\n  const tMeta = targetStore.getTargetMeta(target);\n  // default behaviour, register the first adapter, if multiple...\n  if (target[ADAPTER_REF]) {\n    if (!tMeta.activeAdapter) {\n      tMeta.setActiveAdapter(target[ADAPTER_REF]);\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/transformation/meta-class.ts","import {\n  targetStore,\n  TDMModel,\n  TransformDir,\n  Constructor,\n  SerializeMapper,\n  DeserializeMapper\n} from '@tdm/core/tdm';\nimport { AdapterStatic } from '../fw';\n\nexport class Store {\n\n  protected constructor() {\n    // support for post instantiation mixins on the prototype (plugins) - don't use new.\n    Store.create(this);\n  }\n\n\n  getIdentityKey(target, direction?: TransformDir): string | undefined {\n    return targetStore.getIdentityKey(target, direction);\n  }\n\n  hasTarget(target: any): boolean {\n    return targetStore.hasTarget(target);\n  }\n\n  serialize(target: Constructor<any>, mapper: SerializeMapper): any {\n    return targetStore.serialize(target, mapper);\n  }\n\n  /**\n   * Deserialize and instance of \"DeserializeMapper\" into an instance of tge target supplied\n   * @param target\n   * @param mapper\n   * @returns\n   */\n  deserialize(mapper: DeserializeMapper): TDMModel<any> | TDMModel<any>[] | undefined {\n    return targetStore.deserialize(mapper);\n  }\n\n  /**\n   * Deserialize and instance of \"DeserializeMapper\" into a plain object (object literal)\n   * @param mapper\n   */\n  deserializePlain(mapper: DeserializeMapper): any {\n    return targetStore.deserializePlain(mapper);\n  }\n\n\n  /**\n   * Search for a target registered in the repository by it's name.\n   * @see ModelMetadataArgs#resName\n   * @param name\n   */\n  findModel(name: string): any | undefined {\n    return targetStore.findTarget(name);\n  }\n\n  getModelName(target: any): string | undefined {\n    return targetStore.getTargetName(target);\n  }\n\n  /**\n   * Marks mixins as part of the functionality of a target, in a specific adapter.\n   * This will not apply the mixin, it's just metadata about he relation.\n   * @param target\n   * @param adapterClass\n   * @param mixins\n   */\n  markMixins(target: any, adapterClass: AdapterStatic<any, any>, ...mixins: any[]): void {\n    targetStore.registerMixins(target, adapterClass, ...mixins);\n  }\n\n  /**\n   * Creates a new Store instance.\n   * @param instance optional, used internally\n   * @returns\n   */\n  static create(instance?: Store): Store {\n    const store: Store = instance || Object.create(Store.prototype);\n    return store;\n  }\n}\n\nexport const store = Store.create();\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/metadata/store.ts","import { Tixin } from '@tdm/tixin';\nimport {\n  Constructor,\n  MetaClass,\n  TargetStore\n} from '@tdm/core/tdm';\n\nimport { AdapterStatic } from '../fw';\nimport { ActionController } from '../core/action-controller';\nimport { AdapterMetadata, AdapterMetadataArgs } from '../metadata';\n\nclass CoreTargetStore extends TargetStore {\n\n  getAdapter(adapterClass: AdapterStatic<any, any>): AdapterMetadata {\n    return this.local<AdapterMetadata>(adapterClass)\n      || ( this.locals.add(adapterClass,  new AdapterMetadata()), this.getAdapter(adapterClass) );\n  }\n\n  hasAdapter(adapterClass: AdapterStatic<any, any>): boolean {\n    return this.locals.has(adapterClass);\n  }\n\n  registerAdapter(adapterClass: AdapterStatic<any, any>, metaArgs: AdapterMetadataArgs): void {\n    MetaClass.get(AdapterMetadata).create(metaArgs, adapterClass);\n  }\n\n  getAC(target: Constructor<any>): ActionController | undefined;\n  getAC<T extends AdapterStatic<any, any>>(target: Constructor<any>, adapterClass: T): ActionController | undefined;\n  getAC<T extends AdapterStatic<any, any>>(target: Constructor<any>, adapterClass?: T): ActionController | undefined {\n    if (this.hasTarget(target)) {\n      return adapterClass\n        ? this.getTargetMeta(target).getAC(adapterClass)\n        : this.getTargetMeta(target).getAC()\n      ;\n    }\n  }\n\n}\n\ndeclare module '@tdm/core/tdm/src/metadata/target-store' {\n  interface TargetStore {\n    getAdapter(adapterClass: AdapterStatic<any, any>): AdapterMetadata | undefined;\n    hasAdapter(adapterClass: AdapterStatic<any, any>): boolean;\n    registerAdapter(adapterClass: AdapterStatic<any, any>, metaArgs: AdapterMetadataArgs): void;\n\n    /**\n     * Returns the action controller of the current (active) adapter on this target.\n     */\n    getAC(target: Constructor<any>): ActionController | undefined;\n\n    /**\n     * Returns the  action controller of an adapter on this target.\n     */\n    getAC(target: Constructor<any>, adapterClass: AdapterStatic<any, any>): ActionController | undefined;\n  }\n}\nTixin(TargetStore as any, CoreTargetStore as any);\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/transformation/target-store.ts","import { ResourceEvent } from './events';\nimport {\n  ResourceEventDispatcher,\n  ResourceEventEmitter\n} from './interfaces';\n\n/**\n * A simple event dispatcher and emitter, used as the default events implementation.\n * The API is minimal and somewhat shared with the observables API for extensibility.\n */\nexport class SimpleEvents implements ResourceEventDispatcher, ResourceEventEmitter {\n  private listeners: Array<(value: ResourceEvent) => void> = [];\n\n  next(value: ResourceEvent): void {\n    const listeners = this.listeners.slice();\n    for ( let l of listeners ) {\n      l(value);\n    }\n  }\n\n  subscribe(next?: (value: ResourceEvent) => void): { unsubscribe(): void; } {\n    this.listeners.push(next);\n    const unsubscribe = () => {\n      const idx = this.listeners.indexOf(next);\n      if ( idx > -1 ) {\n        this.listeners.splice(idx, 1);\n      }\n    };\n\n    return { unsubscribe };\n  }\n\n  clear(): void {\n    this.listeners.splice(0, this.listeners.length);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/events/simple-events.ts","// tslint:disable:max-classes-per-file\nimport { ResourceEventType, ResourceEventTypes } from './interfaces';\n\ndeclare module './interfaces' {\n  interface ResourceEventType {\n    ActionStart: ResourceEvent;\n    ActionError: ActionErrorResourceEvent;\n    ActionSuccess: ResourceEvent;\n    ActionEnd: ActionEndResourceEvent;\n    ActionCancel: ResourceEvent;\n  }\n}\n\nexport class ResourceEvent<T extends ResourceEventTypes = ResourceEventTypes>{\n  constructor(public readonly resource: any,\n              public readonly type: T) {\n  }\n}\n\nexport class ActionErrorResourceEvent extends ResourceEvent {\n  constructor(public readonly resource: any,\n              public readonly error: Error,\n              public readonly request?: any,\n              public readonly response?: any) {\n    super(resource, 'ActionError');\n  }\n}\n\nexport class ActionEndResourceEvent extends ResourceEvent {\n  constructor(public readonly resource: any,\n              public readonly result: 'success' | 'cancel',\n              public readonly request?: any,\n              public readonly response?: any) {\n    super(resource, 'ActionEnd');\n  }\n}\n\nexport const eventFactory = {\n  actionStart(resource: any) { return new ResourceEvent(resource, 'ActionStart'); },\n  error(resource: any,\n        err: Error,\n        request?: any,\n        response?: any) { return new ActionErrorResourceEvent(resource, err, request, response); },\n  cancel(resource: any) { return new ResourceEvent(resource, 'ActionCancel'); },\n  success(resource: any) { return new ResourceEvent(resource, 'ActionSuccess'); },\n  actionEnd(resource: any,\n            result: 'success' | 'cancel',\n            request?: any,\n            response?: any) {\n    return new ActionEndResourceEvent(resource, result, request, response);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/events/events.ts","// tslint:disable:max-classes-per-file\nimport { InternalResourceEventType } from './interfaces';\nimport { ResourceEvent } from './events';\nimport { ActionController } from '../core';\nimport { ExecuteParams } from '../core/execute-context';\nimport { ActionMetadata } from '../metadata';\n\ndeclare module './interfaces' {\n  interface InternalResourceEventType {\n    $CancellationToken: CancellationTokenResourceEvent;\n    $ExecuteInit: ExecuteInitResourceEvent;\n    $StateChange: StateChangeResourceEvent;\n  }\n}\n\nconst internalError = Symbol('Internal Resource Error');\n\nexport function isInternalError(event: ResourceEvent): boolean {\n  return event[internalError] === true;\n}\n\n/**\n * Sends the cancellation token (function) so the listener (resource control) can cancel.\n *\n * @internal\n */\nexport class CancellationTokenResourceEvent extends ResourceEvent {\n  constructor(public readonly resource: any, public readonly cancel: () => void) {\n    super(resource, '$CancellationToken');\n    this[internalError] = true;\n  }\n}\n\n/**\n *\n * @internal\n */\nexport interface ExecuteInitResourceEventArgs {\n  ac: ActionController;\n  action: ActionMetadata;\n  params: ExecuteParams;\n}\n\n/**\n * @internal\n */\nexport class ExecuteInitResourceEvent extends ResourceEvent {\n\n  /**\n   * The promise that is used by the execution.\n   *\n   * A promise is always used, it is returned to the user when the execution run's in promise mode, otherwise it is\n   * instance mode and the instance is returned, yet the promise always exist.\n   *\n   * When working with DAO the returned value is the promise, which makes it impossible to track the resource control\n   * because the user does not get it back, the promise can be used to track the instance.\n   */\n  promise: Promise<any>;\n\n  /**\n   * True instructs the resource control to stay alive when the promise resolves.\n   * False will cause the resource control to destroy itself once the promise resolve.\n   */\n  keepAlive: boolean;\n  constructor(public readonly resource: any,\n              public readonly data: ExecuteInitResourceEventArgs,\n              public readonly mode: 'promise' | 'instance',\n              promise: Promise<any>,\n              keepAlive: boolean) {\n    super(resource, '$ExecuteInit');\n    this[internalError] = true;\n    this.promise = promise;\n    this.keepAlive = keepAlive;\n  }\n}\n\n/**\n * @internal\n */\nexport class StateChangeResourceEvent extends ResourceEvent {\n  constructor(public readonly resource: any,\n              public readonly key: string,\n              public readonly oldVal: any,\n              public readonly newVal: any) {\n    super(resource, '$StateChange');\n    this[internalError] = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/events/internal.ts","import { TDMModel, TDMModelBase, TDMCollection, errors } from '@tdm/core';\n\nimport {\n  events$,\n  ResourceEventDispatcher,\n  ResourceEventEmitter,\n  CancellationTokenResourceEvent,\n  ExecuteInitResourceEvent,\n  ExecuteInitResourceEventArgs,\n  StateChangeResourceEvent,\n  SimpleEvents,\n  ResourceEvent,\n  isResourceEvent,\n  isInternalError\n} from './events';\n\n// Weak map for private emitter\n// TODO: check perf, maybe symbols are \"less\" private but more performant\nconst privateDict = new WeakMap<any, ResourceControl<any>>();\n\nexport interface RecordControlState<T = any> {\n  busy: boolean;\n}\n\nexport type ResourceControlToken<T = any> = Promise<T> | T;\nexport type ResourceEventListener = (this: ResourceControl<any>, event: ResourceEvent) => void;\n\nconst handlers: ResourceEventListener[] = [];\n\n/**\n * An controller, state and notification interface for instances of TDM models.\n * Each model instance has a corresponding ResourceControl instance.\n *\n * To get the ResourceControl instance for a specific model instance call ResourceControl#get(modelInstance)\n *\n * > If you are using the `ActiveRecord` plugin you can also opt in to have a property on each model instance\n * that reference the ResourceControl instance.\n *\n * Notifications are stream of resource related events, derived from {@link ResourceEvent}.\n * Each event is bound to a resource instance, hence every event fired in a ResourceControl instance\n * is an event bound to the resource.\n *\n * The notification are passive lifecycle event, intended to be used by the consumer of a resource.\n * Passive hooks does not effect actions, they are used for state (UI) representation.\n *\n * For active lifecycle hooks, being able to effect an action, use metadata life cycle hooks (`ActiveRecordHooks`)\n *\n */\nexport class ResourceControl<T> implements RecordControlState<T> {\n\n  /**\n   * A stream of `ResourceEvent` see `ResourceEventType` for possible events.\n   */\n  events$: ResourceEventEmitter;\n\n  /**\n   * Indicates if the active record is busy performing an action.\n   */\n  get busy(): boolean {\n    return this.state.busy;\n  }\n\n  protected dispatcher: ResourceEventDispatcher;\n  protected actionCancel: () => void;\n  protected lastExecute: ExecuteInitResourceEventArgs;\n  protected state: RecordControlState<T> = { busy: false };\n  protected _next: Promise<TDMModel<T> & T>;\n  protected _mode: 'promise' | 'instance';\n\n  protected constructor(public parent: TDMModel<T> & T) {\n    const eventSys = this.initEventSys();\n    this.dispatcher = eventSys.dispatcher;\n    this.events$ = eventSys.emitter;\n  }\n\n  /**\n   * Set a new state value\n   * @param key\n   * @param value\n   */\n  set<P extends keyof RecordControlState<T>>(key: P, value: RecordControlState<T>[P]): void {\n    if ( this.state[ key ] !== value ) {\n      const event = new StateChangeResourceEvent(this.parent, key, this.state[ key ], this.state[ key ] = value);\n      ResourceControl.emitEvent(event);\n    }\n  }\n\n  /**\n   * Returns a promise, resolving on the next response from the current resource.\n   * Will throw is there is no active action for this resource (i.e. not busy)\n   * @returns\n   */\n  next(silent?: boolean): Promise<TDMModel<T> & T> {\n    if (this._mode === 'promise' && this._next) {\n      return this._next;\n    }\n    return Promise.resolve()\n      .then( () => {\n        if ( !this.busy ) {\n          return Promise.reject(errors.model(this.parent, 'Call to next() while not in an active action.'));\n        } else {\n          return new Promise<TDMModel<T> & T>((resolve, reject) => {\n            const subs = this.events$.subscribe(event => {\n              if ( isResourceEvent('ActionError', event) ) {\n                reject(event.error);\n                subs.unsubscribe();\n              } else if ( isResourceEvent('ActionEnd', event) ) {\n                // TODO: ActionEnd is fired for both ActionSuccess and ActionCancel\n                // since promises does not cancel this is a design hole...\n                resolve(this._next || this.parent);\n                subs.unsubscribe();\n              }\n            });\n          });\n        }\n      });\n  }\n\n  /**\n   * Cancel the current action.\n   * Does not throw if no action is running.\n   */\n  cancel(): void {\n    if ( this.busy && this.actionCancel ) {\n      this.actionCancel();\n      this.actionCancel = undefined;\n    }\n  }\n\n  /**\n   * Initialize the event system, return the dispatcher and emitter\n   *\n   * Derived implementations can implement different mechanisms\n   */\n  protected initEventSys(): { dispatcher: ResourceEventDispatcher, emitter: ResourceEventEmitter } {\n    const simpleEvents = new SimpleEvents();\n    return { dispatcher: simpleEvents, emitter: simpleEvents };\n  }\n\n  static addEventListener(handler: ResourceEventListener): void {\n    handlers.push(handler);\n  }\n\n  static removeEventListener(handler: ResourceEventListener): boolean {\n    const idx = handlers.indexOf(handler);\n    if (idx > -1) {\n      handlers.splice(idx, 1);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Returns a resource control for an instance of a resource.\n   * If it's an instance and a resource control does not exist it will create it.\n   * If it's a promise for a resource, will return it only if a resource was already created.\n   */\n  static get<T>(instance: ResourceControlToken<T>): ResourceControl<T> | undefined {\n    let rc = privateDict.get(instance);\n    if ( !rc && (TDMModelBase.instanceOf(instance) || TDMCollection.instanceOf(instance))) {\n      privateDict.set(instance, rc = new ResourceControl<any>(instance as any));\n    }\n    return rc;\n  }\n\n  /**\n   * Emits an `ResourceEvent` in the `ActiveRecordState#.$events` of a `BaseResource`\n   * @internal\n   * @param event\n   */\n  protected static emitEvent(event: ResourceEvent): void {\n    const rc = ResourceControl.get(event.resource);\n\n    for ( let i = 0, len = handlers.length; i < len; i++ ) {\n      handlers[ i ].call(rc, event);\n    }\n\n    if (!isInternalError(event)) {\n      rc.dispatcher.next(event);\n    }\n  }\n\n  /* An IFFE that returns undefined. Workaround for https://github.com/Microsoft/TypeScript/issues/15892\n  It acts as a type initializer (not instance initializer), running after the type is created.\n  We run it inside the class because we need access to private/protected member.\n  it has a slight runtime impact as it set's a property on the class, a function invocation.\n  Although forcing runtime changes due to design time type restrictions is a bad practice it was still preferred because\n  the impact is minimal and type safety is extremely important in such low level constructs, I like to think of this as\n  a virtual runtime assertion.\n  */\n  private static _ = (() => {\n    events$.subscribe(ResourceControl.emitEvent);\n    ResourceControl\n      .addEventListener(function rootHandler(this: ResourceControl<any>, event: ResourceEvent): void {\n        if ( event instanceof CancellationTokenResourceEvent ) {\n          this.actionCancel = event.cancel;\n        } else if ( event instanceof ExecuteInitResourceEvent ) {\n          mapPromiseAndKeepAlive(this, event);\n          this.lastExecute = event.data;\n          this._next = event.promise;\n          this._mode = event.mode;\n        } else {\n          switch ( event.type ) { // tslint:disable-line\n            case 'ActionError':\n            case 'ActionEnd':\n              this.actionCancel = undefined;\n              this._next = undefined;\n              break;\n          }\n        }\n      });\n  })();\n}\n\nfunction mapPromiseAndKeepAlive(resourceControl: ResourceControl<any>, event: ExecuteInitResourceEvent): void {\n  privateDict.set(event.promise, resourceControl);\n  const doFinally = function x(this: ExecuteInitResourceEvent) {\n    privateDict.delete(event.promise);\n    if ( !event.keepAlive ) {\n      privateDict.delete(event.resource);\n    }\n  }.bind(event);\n  event.promise.then(doFinally, doFinally);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/resource-control.ts","import { TransformStrategy, NamingStrategyConfig, directMapper, MapperFactory } from '@tdm/core/tdm';\n\nexport interface DefaultConfig {\n  mapper: MapperFactory;\n\n  /**\n   * How to treat an object when transforming it.\n   *\n   * inclusive - include all except explicitly excluded properties.\n   * exclusive - exclude all except explicitly included properties.\n   *\n   * Note that every member decorated with @Prop is included by default, so `exclusive` requires\n   * every member that you want to include to be decorated with @Prop\n   *\n   * ## exclusive vs inclusive:\n   * An exclusive strategy is strict hence predictable, this means:\n   *   - Reduce the change for error\n   *   - Better performance\n   *\n   * The cost is boilerplate, writing additional code.\n   *\n   *\n   * @optional\n   * @default 'inclusive'\n   */\n  transformStrategy: TransformStrategy | undefined;\n\n  /**\n   * A Default strategy for name conversion.\n   * Applied on all properties except those with explicit alias defined.\n   *\n   *\n   * ###EXAMPLE\n   * ```ts\n   * {\n   *  transformNameStrategy: {\n   *    incoming: (propertyName: string) => camelCase(propertyName),\n   *    outgoing: (propertyName: string) => snakeCase(propertyName)\n   *  }\n   * }\n   * ```ts\n   *\n   * The example above converts incoming server object properties to camel case (myProperty)\n   * and all outgoing client object properties to snake case (my_property)\n   *\n   * @optional\n   * @default undefined\n   */\n  transformNameStrategy: NamingStrategyConfig | undefined;\n}\n\nexport const defaultConfig: DefaultConfig = {\n  mapper: directMapper,\n  transformStrategy: 'inclusive',\n  transformNameStrategy: undefined\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/default-config.ts","import { TDMModel, TDMCollection, errors, TargetMetadata, MapperFactory } from '@tdm/core/tdm';\n\nimport { findProp } from '../utils';\nimport { defaultConfig } from '../default-config';\nimport { ActionMetadata } from '../metadata';\nimport { IdentityValueType } from '../fw';\n\n/**\n *\n */\nexport interface ExecuteParams<T = any> {\n  /**\n   * Data object supplied by the creator of this execution.\n   * This is a placeholder for an object that the creator of the execution can pass.\n   *\n   * For example, in:\n   * ```ts\n   * DAO.of(SomeAdapter, SomeTarget, { a: 'b' }).findById(12, 'abc');\n   * ```\n   *\n   * `factoryArgs` will be { a: 'b' }\n   *\n   */\n  factoryArgs?: T;\n\n  /**\n   * Arguments used when calling the action.\n   * These are the arguments that the user passed in runtime.\n   *\n   * For example, in:\n   * ```ts\n   * DAO.of(SomeAdapter, SomeTarget).findById(12, 'abc');\n   * ```\n   *\n   * `args` will be [12, 'abc']\n   */\n  args?: any[];\n}\n\n// TODO: TS 2.3 (set the instance type)\n// export class ExecuteContext<T = any, Z extends ActionMetadata = ActionMetadata> {\nexport class ExecuteContext<T extends ActionMetadata> {\n  /**\n   * Optional data, usually an action pre hook will use this to pass information to the adapter.\n   */\n  data?: any;\n\n  get targetMeta(): TargetMetadata {\n    return this.meta;\n  }\n\n  /**\n   * The instance representing this execution context.\n   *\n   * The instance not set, to set the instance use the setInstance() method.\n   * Note that calling any method in ExecuteContext that requires the instance (setIdentity, deserialize,\n   * serialize  etc...) will automatically init a new instance.\n   *\n   * This also mean that the instance can be set from an action's \"pre\" handler.\n   * An instance set must be an instance of the target or an instance of ActiveRecordCollection.\n   * (i.e. return true from the call to ExecuteContext#instanceOf)\n   */\n  get instance(): any { // TODO: TS 2.3 TDMModel<T> | TDMCollection<T> {\n    return this._instance;\n  }\n\n  private get safeInstance(): TDMModel<any> | TDMCollection<any> {\n    return this._instance || (this.setInstance(), this._instance);\n  }\n\n  private _instance: TDMModel<any> | TDMCollection<any>;\n  private mapper: MapperFactory;\n\n  constructor(private readonly meta: TargetMetadata, public readonly action: T, mapper?: MapperFactory) {\n    this.mapper = this.mapper || findProp('mapper', defaultConfig, meta.model());\n  }\n\n  /**\n   * The the instance for this execution context.\n   * If no value supplied the instance set is a new instance or a new TDMCollection (based on the action)\n   * @param value\n   */\n  setInstance(value?: TDMModel<any> | TDMCollection<any>): void {\n    if (this._instance) {\n      throw new Error('Instance exists');\n    }\n\n    if (!value) {\n      value = this.meta.model().factory(this.action.isCollection);\n    } else if (!this.instanceOf(value)) {\n      throw new Error('Instance does not match type');\n    }\n\n    this._instance = value;\n  }\n\n  /**\n   * Returns true if an object is an instance of the target type of this execution context.\n   * The target type is ActionRecordCollection when the action of this execution context\n   * is true (ActionMetadata#isCollection) otherwise it is the target.\n   * @param obj\n   */\n  instanceOf(obj: any): boolean {\n    return this.action.isCollection\n      ? TDMCollection.instanceOf(obj)\n      : obj instanceof this.meta.target\n    ;\n  }\n\n  getIdentity(): IdentityValueType {\n    return this.safeInstance[this.meta.getIdentityKey()];\n  }\n\n  setIdentity(identity: IdentityValueType): void {\n    this.safeInstance[this.meta.getIdentityKey()] = identity;\n  }\n\n  /**\n   * Serialize the instance in this execution context.\n   */\n  serialize(): any {\n    return this.meta.serialize(this.mapper.serializer(this.safeInstance));\n  }\n\n  /**\n   * Deserialize an object into the instance of the current execution context.\n   * If an instance does not exist, it will be created on the fly.\n   * @param data\n   */\n  deserialize(data: any): void {\n    if (data) { // only if exists (false, 0, '' and all falsy's === not exists)\n      const mapper = this.mapper.deserializer(data, this.meta.target);\n      const isColl = !!this.action.isCollection;\n\n      if (mapper.isCollection !== isColl) {\n        errors.throw.modelSingleCol(<any> this.safeInstance, isColl);\n      }\n\n      this.meta.deserialize(mapper, this.safeInstance);\n    }\n  }\n\n  /**\n   * Returns a context-free copy of the current execution context.\n   * The returned execution context does not contain the instance and/or data that existed in the source execution\n   * context.\n   */\n  clone(instance?: TDMModel<any> | TDMCollection<any>): ExecuteContext<T> {\n    const ctx = new ExecuteContext(this.meta, this.action, this.mapper);\n    if (instance) {\n      ctx.setInstance(instance);\n    }\n    return ctx;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/core/execute-context.ts","import {\n  targetStore,\n  isFunction,\n  isJsObject,\n  errors,\n  TDMCollection,\n  TargetMetadata,\n  TDMModelBase\n} from '@tdm/core/tdm';\n\nimport { dispatchEvent, eventFactory, CancellationTokenResourceEvent, ExecuteInitResourceEvent } from '../events';\nimport { noop } from '../utils';\nimport { AdapterMetadata, ActionMetadata, ValidationSchedule } from '../metadata';\nimport {\n  AdapterStatic,\n  ActionOptions,\n  Adapter,\n  ExecuteResponse,\n  ARHookableMethods\n} from '../fw';\n\nimport { ResourceControl } from '../resource-control';\nimport { ExecuteContext, ExecuteParams } from './execute-context';\n\ninterface ExecuteState {\n  id?: any;\n  rc?: ResourceControl<any>;\n  wasBusy?: boolean;\n  cancelled?: boolean;\n  request?: any;\n  postReturnsResult?: any;\n}\n\nexport class ActionController<T = any, Z = any> {\n  public target: Z;\n  public adapter: Adapter<ActionMetadata, ActionOptions>;\n  readonly adapterMeta: AdapterMetadata;\n\n  constructor(public targetMetadata: TargetMetadata<T, Z>, public adapterClass: AdapterStatic<any, any>) {\n    this.target = targetMetadata.target;\n    // TODO: adapter can be shared for all targets\n    this.adapter = new adapterClass();\n\n    this.adapterMeta = targetStore.getAdapter(adapterClass);\n  }\n\n  createExecFactory<T>(action: ActionMetadata, ret: 'promise'): (self: T, params: ExecuteParams) => Promise<T>;\n  createExecFactory<T>(action: ActionMetadata, ret?: 'instance'): (self: T, params: ExecuteParams) => T;\n  createExecFactory<T>(action: ActionMetadata,\n                       ret?: 'instance' | 'promise'): (self: T, params: ExecuteParams) => T | Promise<T> {\n    const ac = this;\n    return function (self: T, params: ExecuteParams) {\n      return ac.execute(this.clone(self), params, <any> ret);\n    }.bind(new ExecuteContext(this.targetMetadata, action));\n  }\n\n  execute(ctx: ExecuteContext<any>, params: ExecuteParams, ret: 'promise'): Promise<any>;\n  execute(ctx: ExecuteContext<any>, params: ExecuteParams, ret?: 'instance'): any;\n  execute(ctx: ExecuteContext<any>, params: ExecuteParams, ret?: 'instance' | 'promise'): any {\n    const action = ctx.action;\n    const args = params.args || [];\n\n    if (args.length < action.paramHint) {\n      args[action.paramHint - 1] = {};\n    }\n\n    // we keep alive any resource that returns an instance, which is AR.\n    const keepAliveResourceControl = ret !== 'promise';\n\n    // if the user opt in to force promise response, mark it\n    if (action.post && action.post.returns && ret !== 'promise') {\n      ret = 'promise';\n      // 'instance' is ActiveRecord but post process that also controls the return value is not longer 'instance'\n      // We must clone the instance otherwise it will create strange behaviour in `ResourceControl` (busy, _next, etc..)\n      ctx = ctx.clone();\n      if (ctx.instance) {\n        // TODO: instead of clone we can do Object.create(ctx.instance), should be b\n        ctx.setInstance(TDMModelBase.clone(ctx.instance));\n      }\n    }\n\n    const options = isFunction(action.pre) ? action.pre(ctx, ...args) : args[0];\n\n    if (!ctx.instance) {\n      ctx.setInstance();\n    }\n\n    // finally set the mode after the initial setup.\n    const promiseMode = ret === 'promise';\n\n    let eState: ExecuteState;\n\n    // TODO: move this to be part of the promise flow\n    const doFinally = () => {\n      eState.rc.set('busy', false);\n    };\n\n    // TODO:  fireEvent uses member name as Hook matcher, this requires member name to be one of\n    //        \"ARHookableMethods\", let user set the action method in ActionMetadata or something\n    //        - Also applied to fireEvent \"after\" below.\n    const promise = new Promise( resolve => setTimeout(resolve, 0) )\n      .then( () => {\n        if (!!action.isCollection !== TDMCollection.instanceOf(ctx.instance)) {\n          throw errors.modelSingleCol(ctx.instance, action.isCollection);\n        } else if (eState.wasBusy) {\n          throw new Error('An action is already running');\n        }\n\n        dispatchEvent(eventFactory.actionStart(ctx.instance));\n\n        if (this.adapter.supports.cancel) {\n          dispatchEvent(new CancellationTokenResourceEvent(ctx.instance, () => this.cancel(eState, ctx)));\n        }\n      })\n      .then( () => this.fireHook(action.name as any, 'before', ctx.instance, options) )\n      .then( () => this.validate('outgoing', action.validation, ctx) )\n      .then(() => {\n        if (eState.cancelled === true) {\n          // this error will be omitted, its here to skip all the then's.\n          throw new Error('Cancelled');\n        }\n\n        const adapterResponse = this.adapter.execute(ctx, options,  params);\n\n        eState.id = adapterResponse.id;\n        eState.request = adapterResponse.request;\n\n        // TODO: If user cancelled and the adapter does not throw an error on cancellation\n        //       this means that the promise chain will continue, need to fix it.\n        //       Need to create a promise flow where steps can be skipped\n        //       this also applies on the first 2 steps\n        return adapterResponse.response\n          .then((response: ExecuteResponse) => {\n            if (isJsObject(response.data)) {\n              if (response.skipDeserialize !== true || !action.post || !action.post.returns) {\n                ctx.deserialize(response.data);\n              }\n            }\n            if (action.post) {\n              eState.postReturnsResult = action.post.handler.apply(ctx.instance, [response, options]);\n            }\n\n            return (action.isCollection ? Promise.resolve() : this.validate('incoming', action.validation, ctx))\n              .then( () => this.fireHook(action.name as any, 'after', ctx.instance, options, response) )\n              .then( () => response );\n          });\n      })\n      .then( (response: ExecuteResponse) => {\n        dispatchEvent(eventFactory.success(ctx.instance));\n        doFinally();\n        dispatchEvent(eventFactory.actionEnd(ctx.instance, 'success', eState.request, response.response));\n        return action.post && action.post.returns\n          ? eState.postReturnsResult\n          : promiseMode && !isJsObject(response.data) ? response.data : ctx.instance\n        ;\n      })\n      .catch(error => {\n        if (eState.cancelled !== true) {\n          dispatchEvent(eventFactory.error(ctx.instance, error, eState.request));\n          if (promiseMode) { // rethrow if the user handles the promise\n            doFinally();\n            throw error;\n          }\n        }\n        doFinally();\n      });\n\n    // fired before the promise is returned to the user (the last param, async, is not set)\n    // this is important, because we must register the instance/promise for lookup's before the user can\n    // do ResourceControl.get(...)\n    dispatchEvent(new ExecuteInitResourceEvent(\n      ctx.instance,\n      {ac: this, action, params},\n      ret,\n      promise,\n      keepAliveResourceControl\n    ));\n\n    eState = {\n      rc: ResourceControl.get(ctx.instance)\n    };\n\n    // we only care about busy mode when working on an instance to prevent race conditions.\n    if (!promiseMode) {\n      eState.wasBusy = eState.rc.busy;\n    }\n    eState.rc.set('busy', true);\n\n    // TODO: implement timeout to protect from stale promises?\n    return promiseMode ? promise : ctx.instance;\n  }\n\n  private cancel(eState: ExecuteState, ctx: ExecuteContext<any>): void {\n    if (!eState.cancelled) {\n      eState.cancelled = true;\n      dispatchEvent(eventFactory.cancel(ctx.instance));\n      eState.rc.set('busy', false);\n      if (eState.id) {\n        this.adapter.cancel(eState.id);\n      }\n      dispatchEvent(eventFactory.actionEnd(ctx.instance, 'cancel', eState.request));\n    }\n  }\n\n  private validate(type: 'incoming' | 'outgoing',\n                   validation: ValidationSchedule,\n                   ctx: ExecuteContext<any>): Promise<void> {\n    if (type === validation || validation === 'both') {\n      return this.targetMetadata.validate(ctx.instance)\n        .then((validationErrors: any) => {\n          if (validationErrors.length > 0) {\n            errors.throw.validation(ctx.instance, validationErrors);\n          }\n        });\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  private fireHook(action: ARHookableMethods, event: 'before' | 'after',\n                   self: any, options: ActionOptions,\n                   ...args: any[]): Promise<void> {\n    const hookMetadata = this.targetMetadata.findHookEvent(action, event);\n\n    const fn = hookMetadata\n      ? hookMetadata.decoratorInfo.isStatic ? this.target[hookMetadata.name] : self[hookMetadata.name]\n      : noop;\n\n    return Promise.resolve(fn.apply(self, [options, ...args]));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/core/action-controller.ts","import {\n  targetStore,\n  LazyInit,\n  PropMetadata,\n} from '@tdm/core/tdm';\nimport { Validator, ValidationError, ValidationContext } from '../fw';\n\n/**\n * @internal\n */\nexport interface CompiledValidation {\n  validators: Validator[],\n  prop: PropMetadata;\n}\n\n/**\n * @internal\n */\nexport function getInstructions(targetType: any): CompiledValidation[] {\n  // TODO: once @Validators are allowed (along with PropMetadata#Validators) aggregate here.\n  return targetStore.getTargetMeta(targetType).getValues(PropMetadata)\n    .map( prop => ({\n        validators: prop.validation,\n        prop\n      }));\n}\n\nexport class TargetValidator {\n\n  /**\n   * @internal\n   */\n  @LazyInit(function (this: TargetValidator): CompiledValidation[] {\n    return getInstructions(this.targetType);\n  })\n  meta: CompiledValidation[];\n\n  constructor(private targetType: any) {\n  }\n\n  validate(instance: any): Promise<ValidationError[]> {\n    const promises: Array<Promise<{ context: ValidationContext; validators: Validator[]}>> = [];\n    const meta = this.meta;\n\n    meta.forEach( p => {\n      const context = {\n        member: p.prop.name,\n        target: instance,\n        value: instance[p.prop.name],\n        type: p.prop.type.ref\n      };\n      const propValidations = p.validators.map( validator => {\n        return Promise.resolve(validator.validate(context))\n          .then( result => !result ? validator : undefined );\n      });\n\n      const promise = Promise.all(propValidations)\n        .then( results => {\n          return {\n            context,\n            validators: results.filter( v => !!v )\n          }\n        });\n\n      promises.push(promise)\n    });\n\n    return Promise.all(promises)\n      .then( results => results\n        .filter( r => r.validators.length > 0 )\n        .map( r => {\n          return {\n            context: r.context,\n            errors: r.validators.reduce( (prev, v) => {\n              prev[v.name] = v.errorMessage(r.context);\n              return prev;\n            }, {})\n          }\n        }));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/core/target-validator.ts","import { Tixin } from '@tdm/tixin';\nimport {\n  errors,\n  getProtoChain,\n  LazyInit,\n  SetExt,\n  targetStore,\n  DecoratorInfo,\n  TargetMetadata,\n  TDMCollection,\n  Constructor\n} from '@tdm/core/tdm';\n\nimport { AdapterStatic, ARHookableMethods } from '../fw';\nimport {\n  ExtendActionMetadata,\n  HookMetadata,\n  ValidationError\n} from '../metadata';\nimport { ActionController } from '../core/action-controller';\nimport { TargetValidator } from '../core/target-validator';\n\nclass CoreTargetMetadata<T = any, Z = any>extends TargetMetadata<T, Z> {\n\n  collectionClass: typeof TDMCollection & Constructor<TDMCollection<T>>;\n\n  get activeAdapter(): AdapterStatic<any, any> | undefined {\n    return this._activeAdapter;\n  }\n\n  @LazyInit(function (this: CoreTargetMetadata): TargetValidator {\n    return new TargetValidator(this.target);\n  })\n  protected validator: TargetValidator;\n\n  @LazyInit(function (this: CoreTargetMetadata): Map<AdapterStatic<any, any>, ActionController> {\n    return new Map<AdapterStatic<any, any>, ActionController>();\n  })\n  protected adapters: Map<AdapterStatic<any, any>, ActionController>;\n\n  private _activeAdapter: AdapterStatic<any, any>;\n\n  validate(instance: any): Promise<ValidationError[]> {\n    return this.validator.validate(instance);\n  }\n\n  findHook(action: ARHookableMethods): { before: HookMetadata, after: HookMetadata } | undefined {\n    return this.config.get(HookMetadata, action);\n  }\n\n  findHookEvent(action: ARHookableMethods, event: 'before' | 'after'): HookMetadata | undefined {\n    const hook = this.getMetaFor(HookMetadata, action);\n    if (hook) {\n      return hook[event];\n    }\n  }\n\n  hasAdapter(adapterClass: AdapterStatic<any, any>): boolean {\n    return this.adapters.has(adapterClass);\n  }\n\n  isActive(adapterClass: AdapterStatic<any, any>): boolean {\n    return this._activeAdapter === adapterClass;\n  }\n\n  getAC(): ActionController | undefined;\n  getAC(adapterClass: AdapterStatic<any, any>, create?: boolean): ActionController | undefined;\n  getAC(adapterClass?: AdapterStatic<any, any>, create: boolean = true): ActionController | undefined {\n    if (!adapterClass) {\n      adapterClass = this.activeAdapter;\n    }\n    return this.adapters.get(adapterClass) || (create ? this.registerAdapter(adapterClass) : undefined);\n  }\n\n  getExtendingAction(info: DecoratorInfo): ExtendActionMetadata | undefined {\n    const arr = this.config.get(ExtendActionMetadata, info.name);\n    if (arr) {\n      return arr.find(a => a.name === info.name && a.decoratorInfo.isStatic === info.isStatic);\n    }\n  }\n\n  setActiveAdapter(adapter: AdapterStatic<any, any>): void {\n    this._activeAdapter = adapter;\n\n    this.getProtoChainWithMixins(this.target, adapter)\n      .forEach(proto => {\n        if (this.target !== proto && targetStore.hasTarget(proto)) {\n          targetStore.extend(proto, this.target);\n        }\n      });\n\n  }\n\n  private getProtoChainWithMixins(target: Constructor<any>,\n                                  adapterClass: AdapterStatic<any, any>): Set<Constructor<any>> {\n    return getProtoChain(target)\n      .reduce((protoSet, proto) => {\n        protoSet.add(proto);\n        SetExt.combine(protoSet, targetStore.getMixins(proto, adapterClass));\n        return protoSet;\n      }, new Set<Constructor<any>>());\n  }\n\n  private registerAdapter(adapterClass: AdapterStatic<any, any>): ActionController {\n    if (!targetStore.hasAdapter(adapterClass)) {\n      errors.throw.adapterNotRegistered(adapterClass, this.target);\n    } else if (this.adapters.has(adapterClass)) {\n      errors.throw.adapterRegistered(adapterClass, this.target);\n    } else {\n      return this.adapters.set(adapterClass, new ActionController(this, adapterClass)).get(adapterClass);\n    }\n  }\n}\n\ndeclare module '@tdm/core/tdm/src/metadata/target-metadata' {\n  interface TargetMetadata {\n    collectionClass: typeof TDMCollection & Constructor<TDMCollection<any>>;\n\n    validate(instance: any): Promise<ValidationError[]>;\n\n    findHook(action: ARHookableMethods): { before: HookMetadata, after: HookMetadata } | undefined;\n    findHookEvent(action: ARHookableMethods, event: 'before' | 'after'): HookMetadata | undefined;\n\n    hasAdapter(adapterClass: AdapterStatic<any, any>): boolean;\n\n    /**\n     * Checks if the adapter is the current adapter for this target\n     * @param adapterClass\n     */\n    isActive(adapterClass: AdapterStatic<any, any>): boolean;\n\n    /**\n     * Returns the action controller of the current (active) adapter on this target.\n     */\n    getAC(): ActionController | undefined;\n    /**\n     * Returns the  action controller of an adapter on this target.\n     */\n    getAC(adapterClass: AdapterStatic<any, any>, create?: boolean): ActionController | undefined;\n\n    getExtendingAction(info: DecoratorInfo): ExtendActionMetadata | undefined;\n\n    readonly activeAdapter: AdapterStatic<any, any>;\n    setActiveAdapter(adapter: AdapterStatic<any, any>): void;\n\n    extendFrom(store: this): void;\n  }\n}\n\nTixin(TargetMetadata, CoreTargetMetadata);\n\n// override core implementation to support type specific collection class\nTargetMetadata.prototype.createCollection = function(): TDMCollection<any> {\n  return this.collectionClass ? new this.collectionClass() : new TDMCollection();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/transformation/target-metadata.ts","import {\n  isFunction,\n  PropMetadataArgs,\n  Constructor,\n  PropMetadata,\n  RelationMetadata,\n  targetStore\n} from '@tdm/core/tdm';\n\nimport { BelongsToMetadata, OwnsMetadata, RelationshipType } from '../metadata';\nimport { Validator } from '../fw';\n\ndeclare module '@tdm/core/tdm/src/metadata/prop' {\n  interface PropMetadataArgs {\n    validation?: Validator | Validator[];\n  }\n\n  interface PropMetadata {\n    rel: RelationshipType;\n    validation: Validator[];\n    setCoreRelationship(rel: BelongsToMetadata | OwnsMetadata): void;\n  }\n}\n\nPropMetadata.prototype.setCoreRelationship = function(rel: BelongsToMetadata | OwnsMetadata): void {\n  this.setRelationship(new RelationMetadata({foreignKey: rel.foreignKey}, rel.decoratorInfo));\n\n  if (rel instanceof BelongsToMetadata) {\n    this.rel = 'belongsTo';\n  } else {\n    this.rel = this.type.isArray ? 'hasMany' : 'hasOne';\n  }\n};\n\ntargetStore.on\n  .metaInit(PropMetadata)\n  .run((target: Constructor<any>, prop: PropMetadata, metaArgs?: PropMetadataArgs) => {\n    if (!metaArgs) {\n      metaArgs = {};\n    }\n\n    prop.validation = Array.isArray(metaArgs.validation)\n      ? metaArgs.validation.slice()\n      : metaArgs.validation && isFunction(metaArgs.validation.validate) ? [metaArgs.validation] : []\n    ;\n  });\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/transformation/prop.ts","import { Constructor, targetStore } from '@tdm/core/tdm';\n\nimport { BelongsToMetadata, OwnsMetadata } from '../metadata';\n\ntargetStore.on\n  .processType((target: Constructor<any>) => {\n    const meta = targetStore.getTargetMeta(target);\n\n    const identity = meta.getIdentityKey();\n    if (identity) {\n      meta.getCreateProp(identity);\n    }\n\n    [BelongsToMetadata, OwnsMetadata].forEach( relClass => {\n      meta.getValues(relClass).forEach(relation => {\n        // Its possible to set @Relation() without @Prop(), so make sure to create one if not set by the user.\n        const prop = meta.getCreateProp(relation.decoratorInfo);\n        prop.setCoreRelationship(relation);\n\n        // if the fk is a different key, attach a reference to the foreign key PropMetadata (and create one if not there)\n        if (relation.name !== relation.foreignKey) {\n          meta.getCreateProp(relation.foreignKey).foreignKeyOf = prop;\n        }\n      });\n    });\n  });\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/transformation/relations.ts","import { ModelMetadata, TargetStore, SetExt, KeySet } from '@tdm/core/tdm';\nimport { AdapterStatic } from '../fw';\n\ndeclare module '@tdm/core/tdm/src/add/model/model' {\n  interface ModelMetadata {\n    mixins: KeySet<AdapterStatic<any, any>, any>;\n  }\n}\n\ndeclare module '@tdm/core/tdm/src/metadata/target-store' {\n  interface TargetStore {\n    /**\n     * Registers mixins to a target, under a specific adapter type.\n     * @param target\n     * @param adapterClass\n     * @param mixins\n     */\n    registerMixins(target: any, adapterClass: AdapterStatic<any, any>, ...mixins: any[]): void;\n    getMixins(target: any, adapterClass: AdapterStatic<any, any>): Set<any>;\n    hasMixins(target: any, adapterClass: AdapterStatic<any, any>): boolean;\n  }\n}\n\n// const mixinCache = new Set<any>();\n//\n//\n// /**\n//  * For every mixins, go down the proto chain and extend the metadata.\n//  * @param mixin\n//  */\n// function extendMixin(mixin: any): void {\n//   if (!mixinCache.has(mixin)) {\n//     const chain = getProtoChain(mixin);\n//     if (chain[0] === mixin) chain.shift();\n//\n//     if (chain.length > 0) {\n//       for (let i=chain.length-1; i>0; i--) {\n//         if (!mixinCache.has(chain[i+1]) && targetStore.hasTarget(chain[i])) {\n//           targetStore.registerTarget(chain[i+1]);\n//           targetStore.extend(chain[i], chain[i+1]);\n//         }\n//       }\n//       targetStore.registerTarget(chain[0]);\n//       targetStore.registerTarget(mixin);\n//       targetStore.extend(chain[0], mixin);\n//     }\n//   }\n// }\n\nTargetStore.prototype.registerMixins = function registerMixins(target: any, adapterClass: AdapterStatic<any, any>, ...mixins: any[]): void {\n  if (mixins.length > 0) {\n    const model = this.getTargetMeta(target).model();\n\n    let registered: KeySet<AdapterStatic<any, any>, any> = model.mixins;\n    if (!registered) {\n      model.mixins = registered = new KeySet<AdapterStatic<any, any>, any>();\n    }\n\n    const set = registered.has(adapterClass) ? registered.get(adapterClass) : registered.set(adapterClass);\n    SetExt.combine(set, mixins);\n\n    // seems to much, maybe a decorator will be better...\n    // mixins.forEach( m => extendMixin(m) );\n  }\n};\n\nTargetStore.prototype.getMixins = function getMixins(target: any, adapterClass: AdapterStatic<any, any>): Set<any> {\n  const model = this.getTargetMeta(target).model();\n  return (model.mixins && model.mixins.get(adapterClass)) || new Set<any>();\n};\n\nTargetStore.prototype.hasMixins = function hasMixins(target: any, adapterClass: AdapterStatic<any, any>): boolean {\n  const mixins = this.getTargetMeta(target).model().mixins;\n  const registered = mixins && mixins.get(adapterClass);\n  return registered && registered.size > 0;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/transformation/mixins.ts","import {\n  MapExt,\n  MetaClassInstanceDetails,\n  MetaClassMetadata,\n  isFunction,\n  setMetaHelper,\n  stringify,\n  targetStore,\n} from '@tdm/core/tdm';\n\nimport { ActionMetadataArgs, ActionMetadata } from './meta-types';\n\nfunction register(this: MetaClassMetadata<ActionMetadataArgs, ActionMetadata>,\n                  meta: MetaClassInstanceDetails<ActionMetadataArgs<any>, ActionMetadata>): void {\n  if ( !this.target.adapterClass ) {\n    throw new Error(\n      `Class ${stringify(this)} must implement a static property 'adapterClass' that points to the Adapter it uses`\n    );\n  } else if ( !isFunction(this.target.adapterClass.prototype.execute) ) {\n    throw new Error(`Class ${stringify(this)} points to an invalid Adapter class`);\n  }\n  targetStore.setMetaFormFactory(meta);\n  targetStore.getAdapter(this.target.adapterClass).addAction(meta);\n}\n\nfunction extend(from: Map<TdmPropertyKey, ActionMetadata>,\n                to: Map<TdmPropertyKey, ActionMetadata> | undefined, meta): Map<TdmPropertyKey, ActionMetadata> {\n  MapExt.asValArray(from)\n    .forEach(v => targetStore.getAdapter(this.adapterClass).addAction(v, meta.to));\n\n  return to\n      // TODO: on mixins we override, on \"extends\" class we don't...\n      // this overrides at all times (wrong behaviour for class extends)\n    ? MapExt.mergeInto(to, from)\n    : new Map<TdmPropertyKey, ActionMetadata>(from.entries())\n  ;\n}\n\nsetMetaHelper('register', 'actionMetadata', register);\nsetMetaHelper('extend', 'actionMetadata', extend);\n\ndeclare module '@tdm/core/tdm/src//fw/metadata-framework/types' {\n  interface MetaClassRegisterHelpers {\n    actionMetadata(this: MetaClassMetadata<ActionMetadataArgs, ActionMetadata>,\n                   meta: MetaClassInstanceDetails<ActionMetadataArgs<any>, ActionMetadata>): void;\n  }\n\n  interface MetaClassExtendHelpers {\n    actionMetadata(from: Map<TdmPropertyKey, ActionMetadata>,\n                   to: Map<TdmPropertyKey, ActionMetadata> | undefined, meta): Map<TdmPropertyKey, ActionMetadata>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/metadata/set-action-metadata-helpers.ts","import { isNumber, errors } from '@tdm/core/tdm';\nimport { ValidationContext } from './fw';\n\nconst undef = undefined;\n\nfunction isTypeof(value, type: any): boolean {\n  switch (type) {\n    case Boolean:\n      return typeof value === 'boolean';\n    case String:\n      return typeof value === 'string';\n    case Number:\n      return typeof value === 'number';\n    default:\n      return false;\n  }\n}\n\n\n/**\n * Validates that the value is declared on the object, i.e. hasOwnProperty\n * The value can be undefined, null or any other falsy expression.\n *\n */\nexport const declared = {\n  name: 'declared',\n  validate(ctx: ValidationContext): boolean {\n    return ctx.target.hasOwnProperty(ctx.member);\n  },\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} is not declared`\n  }\n};\n\n/**\n * Validates that the value is present, i.e. the value is not undefined and not null.\n */\nexport const required = {\n  name: 'required',\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value !== undef && ctx.value !== null;\n  },\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} is required`\n  }\n};\n\n\n\n/**\n * Checks if the value is an instance of it's type.\n * If instanceOf check fails and the type is Boolean, String or Number and additional check is done\n * using the typeof operator.\n */\nexport const instanceOf = {\n  name: 'instanceOf',\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value instanceof ctx.type || isTypeof(ctx.value, ctx.type);\n  },\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} is not an instance of ${ctx.type.name}`;\n  }\n};\n\n/**\n * Validates that the value is greater than or equal to the minimum.\n * Does not validate that value is a number.\n */\nexport class Min {\n  readonly name = 'minimum';\n\n  constructor(private min: number) {\n    if (!isNumber(min)) {\n      errors.throw.validationConfig(this.name, 'input \"min\" is not a number');\n    }\n  }\n\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value >= this.min;\n  }\n\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} must be greater than or equal to ${this.min}`;\n  }\n}\n\n/**\n * Validates that the value is less than or equal to the maximum.\n * Does not validate that value is a number.\n */\nexport class Max {\n  readonly name = 'maximum';\n\n  constructor(private max: number) {\n    if (!isNumber(max)) {\n      errors.throw.validationConfig(this.name, 'input \"max\" is not a number');\n    }\n  }\n\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value <= this.max;\n  }\n\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} must be less than or equal to ${this.max}`;\n  }\n}\n\n/**\n * Validates that the value is between (but not equal to) the minimum and maximum.\n * Does not validate that value is a number.\n */\nexport class Between {\n  readonly name = 'between';\n\n  constructor(private min: number, private max: number) {\n    if (!isNumber(min)) {\n      errors.throw.validationConfig(this.name, 'input \"min\" is not a number');\n    }\n    if (!isNumber(max)) {\n      errors.throw.validationConfig(this.name, 'input \"max\" is not a number');\n    }\n  }\n\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value > this.min && ctx.value < this.max;\n  }\n\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} must be between ${this.min} and ${this.max}`;\n  }\n}\n\nexport const validators = {\n  declared, required, instanceOf, Min, Max, Between\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/data/src/core-validators.ts","import {\n  ModelMetadataArgs,\n  ModelMetadata,\n  MetaClass\n} from '@tdm/core/tdm';\nimport { BaseLocalForageConfig } from '../core/interfaces';\n\nexport interface LocalForageResourceMetadataArgs extends ModelMetadataArgs, BaseLocalForageConfig {\n\n}\n\n@MetaClass<LocalForageResourceMetadataArgs, LocalForageResourceMetadata>({\n  inherit: ModelMetadata\n})\nexport class LocalForageResourceMetadata extends ModelMetadata implements LocalForageResourceMetadataArgs {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/local-forage/src/metadata/resource.ts","import { DecoratorInfo, MetaClass } from '@tdm/core/tdm';\n\nimport { ActionMetadata, ActionMetadataArgs } from '@tdm/data';\nimport { BaseLocalForageConfig } from '../core/interfaces';\n\nexport interface LocalForageActionMetadataArgs extends ActionMetadataArgs, BaseLocalForageConfig {\n\n}\n\n@MetaClass<LocalForageActionMetadataArgs, LocalForageActionMetadata>({\n  allowOn: ['staticMember', 'member'],\n  extend: 'actionMetadata',\n  register: 'actionMetadata'\n})\nexport class LocalForageActionMetadata extends ActionMetadata {\n  constructor(obj: LocalForageActionMetadataArgs, info: DecoratorInfo) {\n    super(obj, info);\n\n  }\n\n  static adapterClass: any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/local-forage/src/metadata/action.ts","import * as localForage from 'localforage';\nimport * as uuid_ from 'uuid/v4';\nimport { ModelMetadata, SetExt } from '@tdm/core/tdm';\n\nconst uuid = uuid_;\n\nimport {\n  Adapter,\n  DAOMethodType,\n  ExecuteContext,\n  ExecuteParams,\n  AdapterResponse,\n  ExecuteResponse, ActionMethodType\n} from '@tdm/data';\n\nimport { LocalForageResourceMetadata, LocalForageActionMetadata } from '../metadata';\nimport { LocalForageActionOptions } from './interfaces';\n\nconst KEY_PREFIX = 'tdm';\nconst METADATA_TABLE = '__METADATA_TABLE__';\n\nfunction isValidString (value: string): boolean {\n  return (value != null && value !== '');\n}\nfunction makePath (...args: string[]): string {\n  return args.filter(isValidString).join('/').replace(/([^:\\/]|^)\\/{2,}/g, '$1/');\n}\n\nconst promiseQueue = {\n  queue: [] as Array<{ task: () => Promise<any>, resolve: (value?: any) => void, reject: (err: Error) => void}>,\n  running: null as Promise<any[]>,\n  runPending: false as boolean,\n  get length(): number {\n    return this.queue.length + (this.running ? 1 : 0);\n  },\n  enqueue<T = any>(task: () => Promise<T>, run?: boolean): Promise<T> {\n    if (run === true && !this.running) {\n      this.runAsMacroTask();\n    }\n    return new Promise<T>( (resolve, reject) => this.queue.push({ resolve, reject, task }) );\n  },\n  dequeue(): Promise<any> {\n    if (this.queue.length > 0) {\n      const t = this.queue.shift();\n      return t.task()\n        .then((value) => {\n          t.resolve(value);\n          return value;\n        })\n        .catch( err => {\n          t.reject(err);\n          return err;\n        });\n    } else {\n      return Promise.reject(new Error('Queue is empty'));\n    }\n  },\n  runAsMacroTask(): void {\n    if (!this.runPending && !this.running) {\n      this.runPending = true;\n      setTimeout(() => this.run(), 0);\n    }\n  },\n  run(): typeof promiseQueue {\n    if (!this.running && this.queue.length > 0) {\n      let resolve: (value: any) => void;\n      const result: any = [];\n      const drain = value => {\n        result.push(value);\n        if (this.queue.length === 0) {\n          this.running = null;\n          this.runPending = false;\n          resolve(result);\n        } else {\n          this.dequeue().then(drain);\n        }\n      };\n      this.running = new Promise<any[]>( r => resolve = r);\n      this.dequeue().then(drain);\n    }\n    return this;\n  }\n};\n\nexport class LocalForageAdapter implements Adapter<LocalForageActionMetadata, LocalForageActionOptions> {\n  readonly supports = { cancel: false };\n\n  private idCount = 1;\n\n  execute(ctx: ExecuteContext<LocalForageActionMetadata>,\n          options: LocalForageActionOptions,\n          params: ExecuteParams): AdapterResponse {\n    const id = this.idCount++;\n    return {\n      id,\n      response: promiseQueue.enqueue(() => this._execute(ctx, options, params), true)\n    };\n  }\n\n  cancel(id: number): void { } // tslint:disable-line:no-empty\n\n  protected _execute(ctx: ExecuteContext<LocalForageActionMetadata>,\n                     options: LocalForageActionOptions,\n                     params: ExecuteParams): Promise<ExecuteResponse> {\n    try {\n      options = options || <any> {};\n      const {action} = ctx;\n      const resource = ctx.targetMeta.model<LocalForageResourceMetadata>();\n\n      if (!resource) {\n        return Promise.reject(new Error('LocalForage resource not set.'));\n      }\n\n      const resourceKey = this.getResourceKey(resource);\n      const executeResponse: ExecuteResponse = { data: undefined };\n      let response: Promise<any>;\n      switch (action.method) {\n        case ActionMethodType.READ:\n          response = action.isCollection\n            ? this.getAll(resource)\n            : this.getById(resource, ctx.instance || ctx.data)\n          ;\n          break;\n        case ActionMethodType.DELETE:\n          const actionName: keyof DAOMethodType = <any> action.name;\n          executeResponse.skipDeserialize = true;\n          if (actionName === 'remove') {\n            const idToRemove = ctx.data[resource.identity];\n            response = this.removeId(resourceKey, idToRemove)\n              .then( () => localForage.removeItem(this.appendKey(resourceKey, idToRemove)) );\n          } else if (actionName === 'clear') {\n            response = this.removeTable(resourceKey);\n          } else {\n            response = Promise.reject(`Unknown DELETE command \"${actionName}\"`);\n          }\n          break;\n        case ActionMethodType.CREATE:\n          if (action.name === 'create') {\n            response = this.getById(resource, ctx.data)\n              .then( item => {\n                if ( item ) {\n                  return Promise\n                    .reject(new Error(`${resource.resName} with identity ${item[resource.identity]} exists`));\n                } else {\n                  if (resource.autoGenIdentity === true) {\n                    ctx.data[resource.identity] = uuid();\n                  }\n                  const idToCreate = ctx.data[resource.identity];\n                  ctx.deserialize(ctx.data);\n                  return this.ensureId(resourceKey, idToCreate)\n                    .then( () => localForage.setItem(this.appendKey(resourceKey, idToCreate), ctx.serialize()));\n                }\n              });\n          } else if (action.name === 'createBulk') {\n            response = this.getKeys(this.getResourceKey(resource))\n              .then( keys => {\n                  const promises: Array<Promise<any>> = [];\n                  const ids: any[] = [];\n                  const singleCtx = new ExecuteContext(\n                    ctx.targetMeta,\n                    Object.create(ctx.action, {isCollection: { value: false } })\n                  );\n                  for (let d of ctx.data) {\n                    if (resource.autoGenIdentity === true) {\n                      d[resource.identity] = uuid();\n                    }\n                    let currId = d[resource.identity];\n\n                    if (keys.has(currId)) {\n                      promises.push(Promise.reject(new Error(`${resource.resName} with identity ${currId} exists`)));\n                    } else {\n                      ids.push(currId);\n                      let c = singleCtx.clone();\n                      c.deserialize(d);\n                      promises.push(\n                        localForage.setItem(this.appendKey(resourceKey, currId), c.serialize())\n                      );\n                    }\n                  }\n                  return this.ensureId(resourceKey, ...ids).then( () => Promise.all(promises) );\n              });\n          }\n          break;\n        case ActionMethodType.REPLACE:\n        case ActionMethodType.UPDATE:\n          response = this.getById(resource, ctx.data)\n            .then( item => {\n              if (!item) {\n                return Promise.reject(new Error('Not Found'));\n              } else {\n                const idToUpdate = ctx.data[resource.identity];\n                let newCtx: ExecuteContext<any>;\n\n                if (action.method === ActionMethodType.UPDATE) {\n                  newCtx = ctx.clone();\n                  newCtx.deserialize(item);\n                } else {\n                  newCtx = ctx;\n                }\n                newCtx.deserialize(ctx.data);\n                return localForage.setItem(this.appendKey(resourceKey, idToUpdate), newCtx.serialize());\n              }\n            });\n          break;\n        default:\n          response = Promise.resolve();\n          break;\n      }\n      return response.then( value => {\n        executeResponse.data = value;\n        return executeResponse;\n      });\n\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  }\n\n  private getAll(resource: ModelMetadata): Promise<any[]> {\n    const resourceKey = this.getResourceKey(resource);\n    return this.getKeys(resourceKey, true)\n      .then( keys => {\n        return Promise.all(\n          keys.map( k => localForage.getItem(this.appendKey(resourceKey, k)) )\n        );\n      });\n  }\n\n  private getById(resource: ModelMetadata, instance: any): Promise<any> {\n    return localForage.getItem(this.getInstanceKey(resource, instance));\n  }\n\n  private appendKey(resourceKey: string, instanceKey: string): string {\n    return `${resourceKey}.${instanceKey}`;\n  }\n\n  private getResourceKey(resource: ModelMetadata): string {\n    return `${KEY_PREFIX}.${resource.resName}`;\n  }\n\n  private getInstanceKey(resource: ModelMetadata, instance: any): string {\n    const identValue = instance[resource.identity];\n    return `${this.getResourceKey(resource)}.${identValue}`;\n  }\n\n  private getKeys(resourceKey: string, asArray: true): Promise<string[]>;\n  private getKeys(resourceKey: string): Promise<Set<string>>;\n  private getKeys(resourceKey: string, asArray?: true): Promise<Set<string> | string[]> {\n    return localForage.getItem(resourceKey)\n      .then( (ids: string[]) => {\n        if (asArray === true) {\n          return ids || [];\n        } else {\n          return new Set<string>(ids || []);\n        }\n      });\n  }\n\n  private saveKeys (resourceKey: string, keys?: Set<string>): Promise<Set<string> | undefined> {\n    return localForage.getItem(resourceKey)\n      .then( resourceTable => {\n        const isRemove = !(keys && keys.size);\n        if (isRemove) {\n          if (resourceTable) {\n            return this.removeTable(resourceKey);\n          }\n        } else {\n          if (!resourceTable) {\n            return this.addTable(resourceKey,  SetExt.asArray(keys));\n          } else {\n            return <any> localForage.setItem(resourceKey, SetExt.asArray(keys));\n          }\n        }\n      })\n      .then(() => keys);\n  }\n\n  private ensureId (resourceKey: string, ...ids: string[]): Promise<Set<string>> {\n    return this.getKeys(resourceKey)\n      .then(foundIds => {\n        for (let id of ids) {\n          foundIds.add(id);\n        }\n        return this.saveKeys(resourceKey, foundIds);\n      });\n  }\n\n  private removeId (resourceKey: string, ...ids: string[]): Promise<Set<string>> {\n    return this.getKeys(resourceKey)\n      .then(foundIds => {\n        for (let id of ids) {\n          foundIds.delete(id);\n        }\n        return this.saveKeys(resourceKey, foundIds);\n      });\n  }\n\n  private removeTable(key: string): Promise<void> {\n    const metaKey = `${KEY_PREFIX}.${METADATA_TABLE}`;\n    return localForage.getItem(metaKey)\n      .then( (metaTableArray: string[]) => {\n        const metaTable = new Set<string>(metaTableArray || []);\n        metaTable.delete(key);\n        return <any> localForage.setItem(metaKey, SetExt.asArray(metaTable)) // update tables map\n          .then( () => this.getKeys(key, true) ) // get all rows\n          .then( keys => Promise.all( // remove each row\n            keys.map( k => localForage.removeItem(this.appendKey(key, k)) )\n          ))\n          .then(() => localForage.removeItem(key) ); // remove table\n      });\n  }\n\n  private addTable(key: string, content: any): Promise<void> {\n    const metaKey = `${KEY_PREFIX}.${METADATA_TABLE}`;\n    return localForage.getItem(metaKey)\n      .then( (metaTableArray: string[]) => {\n        const metaTable = new Set<string>(metaTableArray || []);\n        metaTable.add(key);\n        return <any> localForage.setItem(metaKey, SetExt.asArray(metaTable))\n          .then( () => {\n            if (content) {\n              return localForage.setItem(key, content);\n            }\n          });\n      });\n  }\n}\n\nLocalForageActionMetadata.adapterClass = LocalForageAdapter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/local-forage/src/core/local-forage-adapter.ts","import { isPrimitive } from '@tdm/core/tdm';\nimport {\n  TDMCollection as ARecordColl,\n  ActionMethodType,\n  TargetDAO,\n  IdentityValueType,\n  ExecuteContext\n} from '@tdm/data';\n\nimport { LocalForageActionOptions } from './core';\nimport { LocalForageActionMetadata } from './metadata';\nimport { LocalForageAction } from './decorators';\n\nexport const LocalForageDaoActions = {\n  query: LocalForageAction({\n    method: ActionMethodType.READ,\n    isCollection: true,\n    collInstance: true,\n    validation: 'incoming' as 'incoming',\n    alias: 'findAll'\n  }),\n\n  findById: LocalForageAction({\n    method: ActionMethodType.READ,\n    validation: 'incoming' as 'incoming',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>,\n          id: IdentityValueType,\n          options?: LocalForageActionOptions) => {\n      ctx.setIdentity(id);\n      return options;\n    }\n  }),\n\n  find: LocalForageAction({\n    method: ActionMethodType.READ,\n    validation: 'incoming' as 'incoming',\n    alias: 'findOne'\n  }),\n\n  create: LocalForageAction({\n    method: ActionMethodType.CREATE,\n    validation: 'both' as 'both',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>, data: any, options?: LocalForageActionOptions) => {\n      ctx.data = data;\n      return options;\n    }\n  }),\n\n  createBulk: LocalForageAction({\n    method: ActionMethodType.CREATE,\n    isCollection: true,\n    validation: 'both' as 'both',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>, data: any, options?: LocalForageActionOptions) => {\n      ctx.data = data;\n      return options;\n    }\n  }),\n\n  update: LocalForageAction({\n    method: ActionMethodType.UPDATE,\n    validation: 'both' as 'both',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>, data: any, options?: LocalForageActionOptions) => {\n      ctx.data = data;\n      return options;\n    }\n  }),\n\n  replace: LocalForageAction({\n    method: ActionMethodType.REPLACE,\n    validation: 'both' as 'both',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>, data: any, options?: LocalForageActionOptions) => {\n      ctx.data = data;\n      return options;\n    }\n  }),\n\n  remove: LocalForageAction({\n    method: ActionMethodType.DELETE,\n    validation: 'skip' as 'skip',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>,\n          id: IdentityValueType | any,\n          options?: LocalForageActionOptions) => {\n\n      if ( isPrimitive(id) ) {\n        ctx.setIdentity(id);\n      } else if ( ctx.instanceOf(id) ) {\n        ctx.setInstance(id);\n      } else {\n        ctx.deserialize(id);\n      }\n\n      return options;\n    }\n  }),\n\n  clear: LocalForageAction({\n    method: ActionMethodType.DELETE,\n    validation: 'skip' as 'skip'\n  })\n};\n\nexport class LocalForageDao<T> implements TargetDAO<T, LocalForageActionOptions> {\n  @LocalForageDaoActions.query\n  query: (options?: LocalForageActionOptions) => Promise<ARecordColl<T>>;\n  findAll: (options?: LocalForageActionOptions) => Promise<ARecordColl<T>>;\n\n  @LocalForageDaoActions.findById\n  findById: (id: IdentityValueType, options?: LocalForageActionOptions) => Promise<T>;\n\n  @LocalForageDaoActions.find\n  find: (options: LocalForageActionOptions) => Promise<T>;\n  findOne: (options: LocalForageActionOptions) => Promise<T>;\n\n  @LocalForageDaoActions.create\n  create: (data: T | Partial<T>, options?: LocalForageActionOptions) => Promise<T | void>;\n\n  @LocalForageDaoActions.createBulk\n  createBulk: (data: T[] | Partial<T[]>, options?: LocalForageActionOptions) => Promise<T[] | void>;\n\n  @LocalForageDaoActions.update\n  update: (data: T | Partial<T>, options?: LocalForageActionOptions) => Promise<T | void>;\n\n  @LocalForageDaoActions.replace\n  replace: (data: T | Partial<T>, options?: LocalForageActionOptions) => Promise<T | void>;\n\n  @LocalForageDaoActions.remove\n  remove: ( (id: IdentityValueType | T, options?: LocalForageActionOptions) => Promise<void> );\n\n  @LocalForageDaoActions.clear\n  clear: ( () => Promise<void> );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/local-forage/src/local-forage-dao.ts","import { targetStore, Constructor } from '@tdm/core/tdm';\nimport { DAO } from '@tdm/data';\nimport { LocalForageActionMetadata, LocalForageResourceMetadata } from './metadata';\nimport { LocalForageAdapter } from './core';\nimport { LocalForageDao } from './local-forage-dao';\n\ntargetStore.registerAdapter(LocalForageAdapter, {\n  actionMetaClass: LocalForageActionMetadata,\n  DAOClass: LocalForageDao,\n  resourceMetaClass: LocalForageResourceMetadata\n});\n\n/**\n * An HttpDAO factory based for a target.\n */\nexport class LocalForageDaoFactory {\n  get<T, Z>(target: Z & Constructor<T>): LocalForageDao<T> {\n    return <any> DAO.of(LocalForageAdapter, target);\n  }\n}\n\nDAO.localForage = LocalForageDaoFactory.prototype.get;\n\ndeclare module '@tdm/data/src/dao/dao' {\n  module DAO { // tslint:disable-line:no-internal-module\n    /**\n     * Data Access Object for the localForage adapter.\n     */\n    function localForage<T>(target: Constructor<T>): LocalForageDao<T>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/local-forage/src/register.ts","\nexport interface ClientProtocol { }\n\nexport interface ServerProtocol { }\n\nexport interface MessageResponse<Req = any, Res = any> {\n  request: Req;\n  data: Res;\n}\n\nexport type ClientRequest<T extends keyof ClientProtocol = keyof ClientProtocol> = ClientProtocol[T]['request'];\nexport type ServerResponse<T extends keyof ClientProtocol = keyof ClientProtocol> = ClientProtocol[T]['response']; // tslint:disable-line\n\nexport type ServerRequest<T extends keyof ServerProtocol = keyof ServerProtocol> = ServerProtocol[T]['request'];\nexport type ClientResponse<T extends keyof ServerProtocol = keyof ServerProtocol> = ServerProtocol[T]['response']; // tslint:disable-line\n\nexport type ClientPostMessageEvent<T extends keyof ClientProtocol = keyof ClientProtocol>\n  = MessageResponse<ClientProtocol[T]['request'], ClientProtocol[T]['response']>;\n\nexport type ServerPostMessageEvent<T extends keyof ServerProtocol = keyof ServerProtocol>\n  = MessageResponse<ServerProtocol[T]['request'], ServerProtocol[T]['response']>;\n\nexport class ServiceWorkerMessageError<T> extends Error {\n  name = 'ServiceWorkerMessageError';\n  remoteError?: ServiceWorkerRemoteError;\n  request: T;\n\n  private constructor() {\n    super();\n  }\n\n  static create<T>(request: T, message: string, remoteError?: any): ServiceWorkerMessageError<T> {\n    // tslint:disable-next-line:no-use-before-declare\n    const err = new ServiceWorkerMessageError<T>();\n    Object.setPrototypeOf(err, ServiceWorkerMessageError.prototype);\n    err.request = request;\n    if (remoteError) {\n      err.remoteError = remoteError;\n      err.message = `${err.name}: ${message}\\n${remoteError.name}: ${remoteError.message}`;\n      if (remoteError.stack) {\n        err.stack = remoteError.stack;\n      }\n    } else {\n      err.message = message;\n    }\n    return err;\n  }\n}\n\nexport interface ServiceWorkerRemoteError {\n  name: string;\n  message: string;\n  stack?: any;\n}\n\nexport function postError(error: Error, withStack: boolean = true): { error: ServiceWorkerRemoteError } {\n  const e = {\n    error: {\n      name: error.name,\n      message: error.message\n    } as ServiceWorkerRemoteError\n  };\n  if (withStack) {\n    e.error.stack = error.stack;\n  }\n  return e;\n}\n\nexport function sendMessageRequest<T extends keyof ServerProtocol>(\n  target: Window | ServiceWorker | Client,\n  message: { action: T, data: ServerRequest<T> },\n  timeout?: number\n): Promise<ServerPostMessageEvent<T>>;\nexport function sendMessageRequest<T extends keyof ClientProtocol>(\n  target: Window | ServiceWorker | Client,\n  message: { action: T, data: ClientRequest<T> },\n  timeout?: number\n): Promise<ClientPostMessageEvent<T>>;\nexport function sendMessageRequest<T extends keyof (ServerProtocol | ClientProtocol)>(\n  target: Window | ServiceWorker | Client,\n  message: { action: T, data: ClientRequest<T> | ServerRequest<T> },\n  timeout = 3 * 1e3\n): Promise<ClientPostMessageEvent<T> | ServerPostMessageEvent<T>> {\n\n  const { port1, port2 } = new MessageChannel();\n\n  return new Promise((resolve, reject) => {\n    const timer = isFinite(timeout) && setTimeout(() => {\n      reject(ServiceWorkerMessageError.create(message.data, `Service worker message timeout.`));\n    }, timeout);\n\n    port1.onmessage = ({ data }) => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n\n      // avoid high transient memory usage, see\n      // https://html.spec.whatwg.org/multipage/comms.html#ports-and-garbage-collection\n      port1.close();\n      port2.close();\n\n      if (data && data.error) {\n        reject(ServiceWorkerMessageError.create(message, `Service worker remote error.`, data.error));\n      } else {\n        resolve({ data, request: <any> message.data });\n      }\n    };\n\n    if (target === self.window) {\n      // posting message to self => legacy mode\n      // add `origin` param to `window.postMessage(message, targetOrigin, [transfer])`\n      target.postMessage(message, '*', [ port2 ]);\n    } else {\n      (target as ServiceWorker).postMessage(message, [ port2 ]);\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/shared/src/messaging.ts","import { isNumber } from '@tdm/core/tdm';\nimport { ServerProtocol, ServerRequest, ServerPostMessageEvent } from '../../shared/src/index';\nimport { ServiceMockerServer } from './service-mocker-server';\n\nexport abstract class ServerBase {\n  private _smServer: ServiceMockerServer;\n\n  init?(): void;\n\n  dispose(): void {\n    this._smServer.dispose();\n  }\n\n  /**\n   * Send an action to a specific client.\n   */\n  send<T extends keyof ServerProtocol>(action: T,\n                                       data: ServerRequest<T>,\n                                       client: Client,\n                                       timeout?: number): Promise<ServerPostMessageEvent<T>>;\n  /**\n   * Send an action to all connected clients.\n   */\n  send<T extends keyof ServerProtocol>(action: T,\n                                       data: ServerRequest<T>,\n                                       timeout?: number): Promise<ServerPostMessageEvent<T>>;\n  send<T extends keyof ServerProtocol>(action: T,\n                                       data: ServerRequest<T>,\n                                       client?: Client | number,\n                                       timeout?: number): Promise<Array<ServerPostMessageEvent<T>> | ServerPostMessageEvent<T>> { // tslint:disable:max-line-length\n    if (isNumber(client)) {\n      timeout = client;\n      client = undefined;\n    }\n\n    if (!client) {\n      return this._smServer.sendActionAll(action, data, timeout);\n    } else {\n      return this._smServer.sendAction(client as Client, action, data, timeout);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/service-mocker-server/server-base.ts","import { BaseMetadata, MetaClass, DecoratorInfo } from '@tdm/core/tdm';\nimport { ClientProtocol } from '../../../shared/src/index';\n\n@MetaClass<string, OnMessageMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\nexport class OnMessageMetadata extends BaseMetadata {\n  constructor(public eventName: keyof ClientProtocol, info: DecoratorInfo) {\n    super(info);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/on-message.ts","import {\n  stringify,\n  isFunction,\n  targetStore,\n  DecoratorInfo,\n  MapExt,\n  ModelMetadata,\n  MetaClass,\n  BaseMetadata,\n  Constructor,\n  TargetMetadata\n} from '@tdm/core/tdm';\n\nimport { ServiceMockerServer } from '../../service-mocker-server';\nimport { ServiceMockControllerMetadata } from '../metadata';\nimport { OnMessageMetadata } from './on-message';\n\nexport interface ServerMetadataArgs {\n  /**\n   * The controllers to register.\n   * Valid values:\n   *  - An array of all the classes (controllers).\n   *  - A function returning an array of all the classes (controllers).\n   *    The context (this) the function is invoked with is the instance of the server.\n   *  - Literal string 'all' which means all controllers found will register.\n   */\n  controllers: ( Array<Constructor<any>> ) | ( () => Array<Constructor<any>> ) | ( 'all' );\n\n  baseUrl?: string;\n}\n\n@MetaClass<ServerMetadataArgs, ServerMetadata>({\n  single: true,\n  inherit: ModelMetadata,\n  allowOn: [ 'class' ]\n})\nexport class ServerMetadata extends BaseMetadata {\n  baseUrl: string;\n  messageHandlers = new Map<string, string>();\n\n  controllers: Array<Constructor<any>> | ( () => Array<Constructor<any>> ) | 'all';\n\n  constructor(metaArgs: ServerMetadataArgs, info: DecoratorInfo, public target: Constructor<any>) {\n    super(info);\n    this.baseUrl = metaArgs.baseUrl || '/';\n    this.controllers = metaArgs.controllers;\n    const clientMessage = targetStore.getMetaFor(target, OnMessageMetadata);\n    if ( clientMessage ) {\n      for ( let [ k, v ] of MapExt.asKeyValArray(clientMessage) ) {\n        this.messageHandlers.set(v.eventName, <any> k);\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/server.ts","import { BaseMetadata, MetaClass, DecoratorInfo, TargetMetadata, PropMetadata, targetStore } from '@tdm/core/tdm';\nimport { getExtensions, MethodExtensionsHost } from './method-extensions/method-extensions';\n\nexport interface ServiceMockMethodType {\n  get: any;\n  post: any;\n  put: any;\n  patch: any;\n  delete: any;\n  head: any;\n  options: any;\n}\n\nexport interface ServiceMockMethodMetadataArgs {\n  method: keyof ServiceMockMethodType;\n\n  /**\n   * Additional path (to the controller path) for this endpoint.\n   */\n  path?: string;\n}\n\n@MetaClass<ServiceMockMethodMetadataArgs, ServiceMockMethodMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\n@MethodExtensionsHost()\nexport class ServiceMockMethodMetadata extends BaseMetadata\n                                       implements ServiceMockMethodMetadataArgs {\n  method: keyof ServiceMockMethodType;\n\n  /**\n   * Additional path (to the controller path) for this endpoint.\n   */\n  path?: string;\n\n  constructor(obj: ServiceMockMethodMetadataArgs | undefined, info: DecoratorInfo, t: any) {\n    super(info);\n    this.path = obj.path || '/';\n    this.method = obj.method;\n  }\n\n  initExtensions(tMeta: TargetMetadata, prop: PropMetadata): void {\n    for (let [key, metaClass] of getExtensions()) {\n      if (!this[key]) {\n        const metaClassInstance: any = tMeta.getMetaFor(metaClass, prop.name as any);\n        // we set 'any' because `getMetaFor returns a type which is the instance of the metaClass however,\n        // this is not a rule, the type can be for example and array of the metaClass (we use getValues) for that\n        if (metaClassInstance) {\n          this[key] = metaClassInstance;\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/service-mock-method.ts","import { BaseMetadata, MetaClass, TargetMetadata, PropMetadata, DecoratorInfo } from '@tdm/core/tdm';\nimport { getExtensions, MethodExtensionsHost } from './method-extensions/method-extensions';\n\n@MetaClass<never, FallbackRouteMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\n@MethodExtensionsHost()\nexport class FallbackRouteMetadata extends BaseMetadata {\n  constructor(metaArgs: undefined, info: DecoratorInfo) {\n    super(info);\n  }\n\n  initExtensions(tMeta: TargetMetadata, prop: PropMetadata): void {\n    for (let [key, metaClass] of getExtensions()) {\n      if (!this[key]) {\n        const metaClassInstance: any = tMeta.getMetaFor(metaClass, prop.name as any);\n        // we set 'any' because `getMetaFor returns a type which is the instance of the metaClass however,\n        // this is not a rule, the type can be for example and array of the metaClass (we use getValues) for that\n        if (metaClassInstance) {\n          this[key] = metaClassInstance;\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/fallback-route.ts","import { BaseMetadata, DecoratorInfo, MetaClass } from '@tdm/core/tdm';\n\nimport { ServiceMockMethodMetadata } from '../service-mock-method';\n\n@MetaClass<number, HttpCodeMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap',\n  proxy: {\n    host: ServiceMockMethodMetadata,\n    containerKey: 'httpCode'\n  }\n})\nexport class HttpCodeMetadata extends BaseMetadata {\n  public code: number;\n\n  constructor(code: number, info: DecoratorInfo) {\n    super(info);\n    this.code = code;\n  }\n}\n\ndeclare module '../service-mock-method' {\n  interface ServiceMockMethodMetadataArgs {\n    httpCode?: number;\n  }\n}\n\ndeclare module './method-extensions' {\n  interface ServiceMockMethodExtensionsHost {\n    httpCodeMeta?: HttpCodeMetadata;\n  }\n  interface ServiceMockMethodExtensions {\n    httpCodeMeta: HttpCodeMetadata;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/method-extensions/http-code.ts","import { BaseMetadata, DecoratorInfo, MetaClass } from '@tdm/core/tdm';\n\nimport { ServiceMockMethodMetadata } from '../service-mock-method';\n\n@MetaClass<number, ForwardMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap',\n  proxy: {\n    host: ServiceMockMethodMetadata,\n    containerKey: 'forward'\n  }\n})\nexport class ForwardMetadata extends BaseMetadata {\n  public forward: string | true;\n\n  constructor(forward: string | true, info: DecoratorInfo) {\n    super(info);\n    this.forward = forward;\n  }\n}\n\ndeclare module '../service-mock-method' {\n  interface ServiceMockMethodMetadataArgs {\n    /**\n     * A string value that will be used to forward the request\n     */\n    forward?: string | true;\n  }\n}\n\ndeclare module './method-extensions' {\n  interface ServiceMockMethodExtensionsHost {\n    forwardMeta?: ForwardMetadata;\n  }\n  interface ServiceMockMethodExtensions {\n    forwardMeta: ForwardMetadata;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/method-extensions/forward.ts","import { BaseMetadata, DecoratorInfo, MetaClass } from '@tdm/core/tdm';\n\nimport { ServiceMockMethodMetadata } from '../service-mock-method';\n\n@MetaClass<number, DelayMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap',\n  proxy: {\n    host: ServiceMockMethodMetadata,\n    containerKey: 'httpCode'\n  }\n})\nexport class DelayMetadata extends BaseMetadata {\n  public delay: number;\n\n  constructor(delay: number, info: DecoratorInfo) {\n    super(info);\n    this.delay = delay;\n  }\n}\n\ndeclare module '../service-mock-method' {\n  interface ServiceMockMethodMetadataArgs {\n    delay?: number;\n  }\n}\n\ndeclare module './method-extensions' {\n  interface ServiceMockMethodExtensionsHost {\n    delayMeta?: DelayMetadata;\n  }\n  interface ServiceMockMethodExtensions {\n    delayMeta: DelayMetadata;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/method-extensions/delay.ts","import { BaseParamMetadata, DecoratorInfo, MetaClass, Constructor } from '@tdm/core/tdm';\n\nexport interface RouteHandleParamType { }\n\nexport interface RouteHandlerParamMetadataArgs<T extends keyof RouteHandleParamType = keyof RouteHandleParamType> {\n  metaType: T;\n  metaArgs: RouteHandleParamType[T];\n}\n\n@MetaClass<any, RouteHandlerParamMetadata>({\n  allowOn: ['param'],\n  register: 'array',\n  extend: 'mergeMapArray'\n})\nexport class RouteHandlerParamMetadata extends BaseParamMetadata {\n  constructor(public metaArgs: RouteHandlerParamMetadataArgs, info: DecoratorInfo, target: Constructor<any>) {\n    super(info, target);\n  }\n}\n\ndeclare module './method-extensions' {\n  interface ServiceMockMethodExtensionsHost {\n    routeHandlerParams?: RouteHandlerParamMetadata[];\n  }\n  interface ServiceMockMethodExtensions {\n    routeHandlerParams: RouteHandlerParamMetadata;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/method-extensions/route-handler-param.ts","import {\n  LazyInit,\n  Constructor,\n  DecoratorInfo,\n  ModelMetadataArgs,\n  ModelMetadata,\n  MetaClass\n} from '@tdm/core/tdm';\n\nimport { ServiceMockMethodMetadata } from './service-mock-method';\n\nexport interface ServiceMockControllerMetadataArgs extends ModelMetadataArgs {\n  /**\n   * A parameterized URL template with parameters prefixed by : as in /user/:username.\n   */\n  path: string;\n}\n\n@MetaClass<ServiceMockControllerMetadataArgs, ServiceMockControllerMetadata>({\n  inherit: ModelMetadata\n})\nexport class ServiceMockControllerMetadata extends ModelMetadata implements ServiceMockControllerMetadataArgs {\n  /**\n   * The url for this resource.\n   * This property does not extend from a base type.\n   */\n  path: string;\n\n  @LazyInit(function(this: ServiceMockControllerMetadata) {\n    return this.tMeta.getMetaFor(ServiceMockMethodMetadata);\n  })\n  methods: Map<TdmPropertyKey, ServiceMockMethodMetadata>;\n\n  constructor(obj: ServiceMockControllerMetadataArgs | undefined, info: DecoratorInfo, t: Constructor<any>) {\n    super(obj, info, t);\n    if (obj) {\n      this.path = obj.path || '/';\n    }\n  }\n\n  setMethod(metaArgs: ServiceMockMethodMetadata): void {\n    this.methods.set(metaArgs.name, metaArgs);\n  }\n\n  getMethod(propertyKey: TdmPropertyKey): ServiceMockMethodMetadata | undefined {\n    return this.methods.get(propertyKey);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/metadata/service-mock-controller.ts","export interface HttpErrorConfig<T extends typeof HttpError = typeof HttpError> {\n  message?: string;\n  description?: string;\n  base?: T;\n}\n\nexport const KNOWN_HTTP_ERRORS = {\n  400: {\n    name: 'BadRequest',\n    message: 'Bad Request'\n  },\n  401: {\n    name: 'Unauthorized',\n    message: 'Unauthorized'\n  },\n  402: {\n    name: 'PaymentRequired',\n    message: 'Payment Required'\n  },\n  403: {\n    name: 'Forbidden',\n    message: 'Forbidden'\n  },\n  404: {\n    name: 'NotFound',\n    message: 'Not Found'\n  },\n  405: {\n    name: 'MethodNotAllowed',\n    message: 'Method Not Allowed'\n  },\n  406: {\n    name: 'NotAcceptable',\n    message: 'Not Acceptable'\n  },\n  /* ... */\n  500: {\n    name: 'InternalServerError',\n    message: 'Internal Server Error'\n  },\n  501: {\n    name: 'NotImplemented',\n    message: 'Not Implemented'\n  },\n  502: {\n    name: 'BadGateway',\n    message: 'Bad Gateway'\n  },\n  503: {\n    name: 'ServiceUnavailable',\n    message: 'Service Unavailable'\n  },\n  504: {\n    name: 'Gateway Timeout',\n    message: 'Gateway Timeout'\n  },\n  505: {\n    name: 'HTTP Version Not Supported',\n    message: 'HTTP Version Not Supported'\n  }\n};\n\nconst UNKNOWN_HTTP_ERROR = {\n  name: 'UnknownError',\n  message: 'Unknown Error'\n};\n\nexport class HttpError extends Error {\n\n  httpCode: number;\n  description?: string;\n\n  private constructor() {\n    super();\n  }\n\n  static create(httpCode: number, config: HttpErrorConfig = <any> {}): HttpError {\n    // tslint:disable-next-line:no-use-before-declare\n    const { message, description } = config;\n    const base = config.base || HttpError;\n\n    const httpError = new base();\n    Object.setPrototypeOf(httpError, base.prototype);\n\n    httpError.httpCode = httpCode || 500;\n    if ( message ) {\n      httpError.message = message;\n    }\n    if ( description ) {\n      httpError.description = description;\n    }\n\n    httpError.stack = new Error().stack;\n\n    return httpError;\n  }\n\n  static createKnown(httpCode: keyof typeof KNOWN_HTTP_ERRORS, description?: string): HttpError {\n    let knownError = KNOWN_HTTP_ERRORS[httpCode];\n    if (!knownError) {\n      knownError = UNKNOWN_HTTP_ERROR;\n    }\n\n    const httpError = HttpError.create(Number(httpCode), { message: knownError.message, description });\n    httpError.name = knownError.name;\n    return httpError;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/http-error.ts","import {\n  isFunction,\n  stringify,\n  getBaseClass,\n  MapExt,\n  MetaClass,\n  Constructor,\n  targetStore\n} from '@tdm/core/tdm';\nimport { MockerRequest, MockerResponse } from 'service-mocker/server';\n\nimport { ServerResponse, ClientProtocol, ClientRequest } from '../../../shared/src/index';\nimport { ServiceMockerServer, MessageHandler, ServerBase } from '../../service-mocker-server/index';\nimport { ServerMetadata, ServerMetadataArgs, FallbackRouteMetadata } from '../metadata';\nimport { initExtensions } from '../metadata/method-extensions';\nimport { createHandler, createGlobalMiddlewareHandler } from '../request-handler';\nimport { registerControllers } from '../register';\n\nconst server = MetaClass.decorator(ServerMetadata, true, 'class');\n\nclass ContextMessageHandler implements MessageHandler {\n\n  constructor(private instance: any, private handlersMap: Map<string, string>) {\n  }\n\n  canHandle(name: keyof ClientProtocol): boolean {\n    return this.handlersMap.has(name);\n  }\n\n  handle<T extends keyof ClientProtocol>(action: T, data: ClientRequest<T>): Promise<ServerResponse<T>> {\n    const methodName = this.handlersMap.get(action);\n    return this.instance[ methodName ](data);\n  }\n}\n\nfunction isExtendingServerBase(target: Constructor<any>): boolean {\n  while ( target ) {\n    if ( target === ServerBase ) {\n      return true;\n    }\n    target = <any> getBaseClass(target);\n  }\n  return false;\n}\n\nexport function Server(metaArgs: ServerMetadataArgs): <T extends Constructor<ServerBase>>(target: T) => T | void {\n  return <T extends Constructor<ServerBase>>(target: T) => {\n\n    if ( !isExtendingServerBase(target) ) {\n      throw new Error(`Class ${stringify(target)} decorated with \"@Server()\" must extend \"ServerBase\"`);\n    }\n\n    class WrappedServiceMockerServer extends (target as T) { // tslint:disable-line:max-classes-per-file\n      constructor(...args: any[]) {\n        super(...args);\n        const serverMeta = targetStore.getMetaFor(target, ServerMetadata, true);\n        const serviceMockerServer = ServiceMockerServer\n          .create(new ContextMessageHandler(this, serverMeta.messageHandlers), serverMeta.baseUrl);\n\n        registerControllers(serverMeta, serviceMockerServer);\n\n        if (isFunction(this.init)) {\n          this.init();\n        }\n\n        const fallback = targetStore.getMetaFor(target, FallbackRouteMetadata);\n        if (fallback) {\n          const fallbackMeta = MapExt.asValArray(fallback)[0];\n          if (fallbackMeta) {\n            serviceMockerServer.router.scope()\n              .all('/*', createGlobalMiddlewareHandler(\n                serverMeta.baseUrl,\n                createHandler(() => this, fallbackMeta),\n                (req: MockerRequest, res: MockerResponse) => res.forward(req.url)\n              ));\n          }\n        }\n      }\n    }\n\n    targetStore.registerTarget(WrappedServiceMockerServer);\n    targetStore.extend(target, WrappedServiceMockerServer);\n    target = <any> server(metaArgs)(WrappedServiceMockerServer) || WrappedServiceMockerServer;\n\n    initExtensions(target);\n\n    return target;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/decorators/server.ts","import { MetaClass } from '@tdm/core/tdm';\n\nimport { ClientProtocol, ClientRequest, ServerResponse } from '../../../shared/src/index';\nimport { OnMessageMetadata } from '../metadata';\n\nconst onMessage = MetaClass.decorator(OnMessageMetadata, 'method');\n\nexport type OnMessageHandler<T extends keyof ClientProtocol>\n  = (data: ClientRequest<T>) => Promise<ServerResponse<T>>;\n\nexport type OnMessageHandlerDecorator = <T extends keyof ClientProtocol>(\n  target: Object,\n  propertyKey: T,\n  descriptor: TypedPropertyDescriptor<OnMessageHandler<T>>\n) => any;\n\nexport type OnMessageHandlerDecoratorLoose = <T extends keyof ClientProtocol>(\n  target: Object,\n  propertyKey: any,\n  descriptor: TypedPropertyDescriptor<OnMessageHandler<T>>\n) => any;\n\n/**\n * Declares a handler for an incoming message from the client.\n */\nexport function OnMessage(): OnMessageHandlerDecorator;\nexport function OnMessage<T extends keyof ClientProtocol>(metaArgs: T): OnMessageHandlerDecoratorLoose;\nexport function OnMessage<T extends keyof ClientProtocol>(metaArgs?: T): OnMessageHandlerDecorator {\n  if (!metaArgs) {\n    return (...args: any[]) => (<any> onMessage)(args[1])(args[0], args[1], args[2]);\n  } else {\n    return onMessage(metaArgs);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/decorators/on-message.ts","import { MetaClass } from '@tdm/core/tdm';\n\nimport { FallbackRouteMetadata } from '../metadata';\n\nexport const FallbackRoute = MetaClass.decorator(FallbackRouteMetadata, true);\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/decorators/fallback-route.ts","import { MetaClass } from '@tdm/core/tdm';\n\nimport {\n  HttpCodeMetadata,\n  ForwardMetadata,\n  DelayMetadata\n} from '../metadata';\n\nexport const HttpCode = MetaClass.decorator(HttpCodeMetadata);\nexport const Forward = MetaClass.decorator(ForwardMetadata);\nexport const Delay = MetaClass.decorator(DelayMetadata);\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/decorators/method-extensions.ts","import { Constructor, targetStore } from '@tdm/core/tdm';\n\nimport { ServiceMockControllerMetadata } from '../metadata';\nimport { initExtensions } from '../metadata/method-extensions';\n\nexport { Server } from './server';\nexport { OnMessage, OnMessageHandler, OnMessageHandlerDecorator } from './on-message';\nexport * from './service-mock-method';\nexport * from './fallback-route';\nexport * from './method-extensions';\nexport {\n  createRouteHandlerParamDecorator,\n  MethodParamInjections,\n  ParameterMetadataInfo,\n  ParamInjectionHandler\n} from './route-handler-param';\nexport { ServiceMockController } from './service-mock-controller';\n\ntargetStore.on\n  .processType((target: Constructor<any>) => {\n    const controllerMeta = targetStore.getMetaFor(target, ServiceMockControllerMetadata, true);\n    if (controllerMeta) {\n      initExtensions(target);\n    }\n  });\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/decorators/index.ts","import { MockerRequest, MockerResponse } from 'service-mocker';\nimport { createRouteHandlerParamDecorator, ParameterMetadataInfo } from './decorators';\n\ndeclare module './metadata/method-extensions/route-handler-param' {\n  interface RouteHandleParamType {\n    request: undefined;\n    response: undefined;\n    header: string;\n    param: string;\n    query: string;\n    body: BodyParamInjectType;\n  }\n}\nexport type BodyParamInjectType = 'text' | 'blob' | 'json' | 'arrayBuffer' | 'formData';\n\nexport const Request = createRouteHandlerParamDecorator(\n  'request',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse) => req\n);\n\nexport const Response = createRouteHandlerParamDecorator(\n  'response',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse) => res\n);\n\nexport const Header = createRouteHandlerParamDecorator(\n  'header',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse, metaArgs?: string) => {\n    if (req.headers) {\n      return metaArgs ? req.headers.get(metaArgs) : req.headers;\n    }\n  }\n);\n\nexport const Param = createRouteHandlerParamDecorator(\n  'param',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse, metaArgs?: string) => {\n    if (req.params) {\n      return metaArgs ? req.params[metaArgs] : req.params;\n    }\n  }\n);\n\nexport const Query = createRouteHandlerParamDecorator(\n  'query',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse, metaArgs?: string) => {\n    if (req.query) {\n      return metaArgs ? req.query[metaArgs] : req.query;\n    }\n  }\n);\n\nexport const Body = createRouteHandlerParamDecorator(\n  'body',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse, metaArgs?: BodyParamInjectType) => {\n    switch (metaArgs) {\n      case 'json':\n        return req.json();\n      case 'text':\n        return req.text();\n      case 'blob':\n        return req.blob();\n      case 'arrayBuffer':\n        return req.arrayBuffer();\n      case 'formData':\n        return req.formData();\n      default:\n        return req.json();\n    }\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/core/builtin-route-handler-params.ts","import * as extensions from './core/metadata/method-extensions';\n\nexport function initMetadata(): void {\n  extensions.registerMethodExtensions('httpCodeMeta', extensions.HttpCodeMetadata);\n  extensions.registerMethodExtensions('forwardMeta', extensions.ForwardMetadata);\n  extensions.registerMethodExtensions('delayMeta', extensions.DelayMetadata);\n  extensions.registerMethodExtensions('routeHandlerParams', extensions.RouteHandlerParamMetadata);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/@tdm/service-mocker/src/init-metadata.ts","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'customers'\n})\nexport class Customer implements modelContract.Customer {\n  @Identity()\n  @Prop()\n  CustomerID: string;\n\n  @Prop()\n  CompanyName: string;\n\n  @Prop()\n  ContactName: string;\n\n  @Prop()\n  ContactTitle: string;\n\n  @Prop()\n  Address: string;\n\n  @Prop()\n  City: string;\n\n  @Prop()\n  Region: string;\n\n  @Prop()\n  PostalCode: string;\n\n  @Prop()\n  Country: string;\n\n  @Prop()\n  Phone: string;\n\n  @Prop()\n  Fax: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/customer.ts","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'categories'\n})\nexport class Category implements modelContract.Category {\n  @Identity()\n  @Prop()\n  CategoryID: number;\n  @Prop()\n  CategoryName: string;\n  @Prop()\n  Description: string;\n  @Prop()\n  Picture: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/category.ts","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'employees'\n})\nexport class Employee implements modelContract.Employee {\n  @Identity()\n  @Prop()\n  EmployeeID: number;\n\n  @Prop()\n  LastName: string;\n\n  @Prop()\n  FirstName: string;\n\n  @Prop()\n  Title: string;\n\n  @Prop()\n  TitleOfCourtesy: string;\n\n  @Prop()\n  BirthDate: string;\n\n  @Prop()\n  HireDate: string;\n\n  @Prop()\n  Address: string;\n\n  @Prop()\n  City: string;\n\n  @Prop()\n  Region: string;\n\n  @Prop()\n  PostalCode: string;\n\n  @Prop()\n  Country: string;\n\n  @Prop()\n  HomePhone: string;\n\n  @Prop()\n  Extension: number;\n\n  @Prop()\n  Photo: any;\n\n  @Prop()\n  Notes: string;\n\n  @Prop()\n  ReportsTo: number;\n\n  @Prop()\n  PhotoPath: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/employee.ts","import { AutoIdentity, Prop } from '@tdm/data';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'employeeTerritories'\n})\nexport class EmployeeTerritory implements modelContract.EmployeeTerritory {\n  @AutoIdentity()\n  @Prop()\n  EmployeeTerritory: number;\n\n  @Prop()\n  EmployeeID: number;\n\n  @Prop()\n  TerritoryID: number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/employee-territory.ts","import { Identity, Prop } from '@tdm/core';\nimport { BelongsTo } from '@tdm/data';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\nimport { Customer } from './customer';\nimport { Employee } from './employee';\n\n@LocalForageResource({\n  resName: 'orders'\n})\nexport class Order implements modelContract.Order {\n  @Identity()\n  @Prop()\n  OrderID: number;\n\n  @Prop()\n  CustomerID: string;\n\n  @Prop()\n  @BelongsTo({ foreignKey: 'CustomerID' })\n  Customer: Customer;\n\n  @Prop()\n  EmployeeID: number;\n\n  @Prop()\n  @BelongsTo({ foreignKey: 'EmployeeID' })\n  Employee: Employee;\n\n  @Prop()\n  OrderDate: string;\n\n  @Prop()\n  RequiredDate: string;\n\n  @Prop()\n  ShippedDate: string;\n\n  @Prop()\n  ShipVia: number;\n\n  @Prop()\n  Freight: number;\n\n  @Prop()\n  ShipName: string;\n\n  @Prop()\n  ShipAddress: string;\n\n  @Prop()\n  ShipCity: string;\n\n  @Prop()\n  ShipRegion: string;\n\n  @Prop()\n  ShipPostalCode: string;\n\n  @Prop()\n  ShipCountry: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/order.ts","import { AutoIdentity, Prop } from '@tdm/data';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'orderDetails'\n})\nexport class OrderDetail implements modelContract.OrderDetail {\n  @AutoIdentity()\n  @Prop()\n  OrderDetailID: string;\n\n  @Prop()\n  OrderID: number;\n\n  @Prop()\n  ProductID: string;\n\n  @Prop()\n  UnitPrice: string;\n\n  @Prop()\n  Quantity: string;\n\n  @Prop()\n  Discount: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/order-detail.ts","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'products'\n})\nexport class Product implements modelContract.Product {\n  @Identity()\n  @Prop()\n  ProductID: number;\n\n  @Prop()\n  ProductName: string;\n\n  @Prop()\n  SupplierID: number;\n\n  @Prop()\n  CategoryID: number;\n\n  @Prop()\n  QuantityPerUnit: string;\n\n  @Prop()\n  UnitPrice: number;\n\n  @Prop()\n  UnitsInStock: number;\n\n  @Prop()\n  UnitsOnOrder: number;\n\n  @Prop()\n  ReorderLevel: number;\n\n  @Prop()\n  Discontinued: number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/product.ts","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'regions'\n})\nexport class Region implements modelContract.Region {\n  @Identity()\n  @Prop()\n  RegionID: number;\n\n  @Prop()\n  RegionDescription: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/region.ts","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'shippers'\n})\nexport class Shipper implements modelContract.Shipper {\n  @Identity()\n  @Prop()\n  ShipperID: number;\n\n  @Prop()\n  CompanyName: string;\n\n  @Prop()\n  Phone: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/shipper.ts","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'suppliers'\n})\nexport class Supplier implements modelContract.Supplier {\n  @Identity()\n  @Prop()\n  SupplierID: number;\n\n  @Prop()\n  CompanyName: string;\n\n  @Prop()\n  ContactName: string;\n\n  @Prop()\n  ContactTitle: string;\n\n  @Prop()\n  Address: string;\n\n  @Prop()\n  City: string;\n\n  @Prop()\n  Region: string;\n\n  @Prop()\n  PostalCode: string;\n\n  @Prop()\n  Country: string;\n\n  @Prop()\n  Phone: string;\n\n  @Prop()\n  Fax: string;\n\n  @Prop()\n  HomePage: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/supplier.ts","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'territories'\n})\nexport class Territory implements modelContract.Territory {\n  @Identity()\n  @Prop()\n  TerritoryID: number;\n\n  @Prop()\n  TerritoryDescription: string;\n\n  @Prop()\n  RegionID: number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/models/territory.ts","import { Constructor } from '@tdm/core';\nimport { DAO } from '@tdm/data';\nimport {\n  ServiceMockGet,\n  ServiceMockPost,\n  ServiceMockPut,\n  ServiceMockPatch,\n  Body,\n  Param,\n  Delay\n} from '@tdm/service-mocker';\n\nexport abstract class BaseController<T> {\n\n  abstract modelClass: Constructor<T>;\n\n  @ServiceMockGet({\n    path: '/'\n  })\n  @Delay(1000)\n  getAll(): Promise<T[]> {\n    return new DAO().query(this.modelClass);\n  };\n\n  @ServiceMockGet({\n    path: '/:id'\n  })\n  @Delay(1000)\n  get(@Param('id') id: number): Promise<T> {\n    return new DAO().findById(this.modelClass, id);\n  };\n\n  @ServiceMockPost({\n    path: '/',\n    httpCode: 204\n  })\n  @Delay(1000)\n  create(@Body() body): Promise<T | void> {\n    return new DAO().create<T>(this.modelClass, body);\n  };\n\n  @ServiceMockPatch({\n    path: '/:id',\n    httpCode: 204\n  })\n  @Delay(1000)\n  update(@Body() body): Promise<void> {\n    return new DAO().update(this.modelClass, body).then(() => null );\n  };\n\n  @ServiceMockPut({\n    path: '/:id',\n    httpCode: 204\n  })\n  @Delay(1000)\n  replace(@Body() body): Promise<void> {\n    return new DAO().replace(this.modelClass, body).then(() => null );\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/base-controller.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Customer } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/customers'\n})\nexport class CustomerController extends BaseController<Customer> {\n  modelClass = Customer;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/customer.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Category } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/categories'\n})\nexport class CategoryController extends BaseController<Category> {\n  modelClass = Category;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/category.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Employee } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/employees'\n})\nexport class EmployeeController extends BaseController<Employee> {\n  modelClass = Employee;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/employee.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { EmployeeTerritory } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/employeeTerritories'\n})\nexport class EmployeeTerritoryController extends BaseController<EmployeeTerritory> {\n  modelClass = EmployeeTerritory;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/employee-territory.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Order } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/orders'\n})\nexport class OrderController extends BaseController<Order> {\n  modelClass = Order;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/order.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { OrderDetail } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/orderDetails'\n})\nexport class OrderDetailController extends BaseController<OrderDetail> {\n  modelClass = OrderDetail;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/order-detail.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Product } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/products'\n})\nexport class ProductController extends BaseController<Product> {\n  modelClass = Product;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/product.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Region } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/regions'\n})\nexport class RegionController extends BaseController<Region> {\n  modelClass = Region;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/region.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Shipper } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/shippers'\n})\nexport class ShipperController extends BaseController<Shipper> {\n  modelClass = Shipper;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/shipper.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Supplier } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/suppliers'\n})\nexport class SupplierController extends BaseController<Supplier> {\n  modelClass = Supplier;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/supplier.ts","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Territory } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/territories'\n})\nexport class TerritoryController extends BaseController<Territory> {\n  modelClass = Territory;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/controllers/territory.ts","// because we are on webpack child compilation we want to force full load, not partial modules.\nimport 'reflect-metadata';\nimport 'service-mocker/server';\nimport '@tdm/tixin';\nimport '@tdm/core';\nimport '@tdm/data';\nimport '@tdm/local-forage';\nimport '@tdm/service-mocker/shared';\n\nimport { targetStore } from '@tdm/core/tdm';\nimport { DAO } from '@tdm/data';\nimport { MockerResponse } from 'service-mocker/server';\nimport {\n  OnMessage,\n  ServerBase,\n  Server,\n  HttpError,\n  FallbackRoute,\n  Response\n} from '@tdm/service-mocker';\nimport { ClientRequest, ServerResponse } from '@tdm/service-mocker/shared';\n\nimport { registerOfflineWorker } from './offline';\nimport './contract';\nimport {\n  CategoryController,\n  CustomerController,\n  EmployeeController,\n  EmployeeTerritoryController,\n  OrderController,\n  OrderDetailController,\n  ProductController,\n  RegionController,\n  ShipperController,\n  SupplierController,\n  TerritoryController\n} from './controllers';\n// registerOfflineWorker(<any> self);\n\n@Server({\n  baseUrl: '/api',\n  controllers: [\n    CategoryController,\n    CustomerController,\n    EmployeeController,\n    EmployeeTerritoryController,\n    OrderController,\n    OrderDetailController,\n    ProductController,\n    RegionController,\n    ShipperController,\n    SupplierController,\n    TerritoryController\n  ]\n})\nclass MyServer extends ServerBase {\n  init(): void { }\n\n  @FallbackRoute()\n  handle404(@Response() res: MockerResponse): Promise<any> | any {\n    return res.status(404).json(HttpError.createKnown('404'));\n  }\n\n  @OnMessage()\n  private async restoreDb(data: ClientRequest<'restoreDb'>): Promise<ServerResponse<'restoreDb'>> {\n    for ( let tName of Object.keys(data) ) {\n      const target = targetStore.findTarget(tName);\n      if ( target ) {\n        const dao = DAO.localForage(target);\n        await dao.clear();\n        await dao.createBulk(data[tName]);\n      }\n    }\n\n    return;\n  }\n}\n\nconst server = new MyServer();\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/modules/server/index.ts","'use strict';\n\nexports.__esModule = true;\nexports.MockerResponse = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Concat new request info with given old request\n */\n/**\n * Concat new request info with given old request\n *\n * @param  {Request}          oldRequest Old Request object\n * @param  {RequestInfo}      input      New Request input\n * @param  {RequestInit}      [init={}]  New Request init\n * @return {Promise<Request>}\n */\nvar concatRequest = function () {\n  var _ref2 = _asyncToGenerator(_regenerator2.default.mark(function _callee2(oldRequest, input) {\n    var init = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var tempRequest;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            tempRequest = new Request(input, oldRequest);\n\n            if (!(!init.body && oldRequest.method !== 'GET' && oldRequest.method !== 'HEAD')) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 4;\n            return bodyParser(oldRequest);\n\n          case 4:\n            init.body = _context2.sent;\n\n          case 5:\n            return _context2.abrupt('return', new Request(tempRequest, init));\n\n          case 6:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function concatRequest(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * Parse request body\n * 1. If you're using github fetch polyfill, return the private member `_bodyInit`,\n * 2. Else parsing request body as blob.\n *\n * @param  {Request} request Request object to be parsed\n * @return {any}\n */\n\n\nvar _mimeComponent = require('mime-component');\n\nvar _mimeComponent2 = _interopRequireDefault(_mimeComponent);\n\nvar _statuses = require('statuses');\n\nvar _statuses2 = _interopRequireDefault(_statuses);\n\nvar _utils = require('../utils/');\n\nvar _request = require('./request');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar responseLog = _utils.debug.scope('response');\nvar IS_IE_EDGE = /Edge/.test(navigator.userAgent);\n\nvar MockerResponse = function () {\n\n  /**\n   * Constructs a mocker response object\n   *\n   * @param {FetchEvent} event Fetch event\n   */\n\n\n  /**\n   * Response status code\n   *\n   * @private\n   * @type {number}\n   */\n\n\n  /**\n   * Fetch event\n   *\n   * @private\n   * @readonly\n   * @type {FetchEvent}\n   */\n  function MockerResponse(event) {\n    _classCallCheck(this, MockerResponse);\n\n    this.headers = new Headers({\n      'X-Powered-By': 'ServiceMocker'\n    });\n    this._event = null;\n    this._body = undefined;\n    this._statusCode = 200;\n    this._deferred = new _utils.Defer();\n    var _deferred = this._deferred;\n\n\n    this._event = event;\n\n    // everything within service worker should be asynchronous\n    event.respondWith(_deferred.promise);\n  }\n\n  /**\n   * Sets the HTTP status for the response.\n   *\n   * @chainable\n   * @param  {number} code Status code\n   * @return {this}\n   */\n\n\n  /**\n   * Internal defer object to resolve response\n   *\n   * @private\n   * @readonly\n   * @type {Defer}\n   */\n\n\n  /**\n   * Response body to be sent\n   *\n   * @private\n   * @type {any}\n   */\n\n  /**\n   * Response headers\n   *\n   * @readonly\n   * @type {Headers}\n   */\n\n\n  MockerResponse.prototype.status = function status(code) {\n    this._statusCode = code;\n\n    return this;\n  };\n\n  /**\n   * Sets the Content-Type HTTP header to the MIME type.\n   * If the given MIME doesn't contain '/' character,\n   * use `mime.lookup(type)` to obtain MIME type.\n   *\n   * @chainable\n   * @param  {string} type MIME type\n   * @return {this}\n   */\n\n\n  MockerResponse.prototype.type = function type(_type) {\n    var contentType = _type.indexOf('/') === -1 ? _mimeComponent2.default.lookup(_type) : _type;\n\n    this.headers.set('content-type', contentType);\n\n    return this;\n  };\n\n  /**\n   * Send a JSON response.\n   *\n   * @param {any} [body] Any JSON compatible type, including object, array, string, Boolean, or number.\n   */\n\n\n  MockerResponse.prototype.json = function json(body) {\n    this._body = JSON.stringify(body);\n\n    if (!this.headers.has('content-type')) {\n      this.type('json');\n    }\n\n    this.end();\n  };\n\n  /**\n   * Sends the HTTP response.\n   *\n   * @param {any} [body] Response body, one of Blob, ArrayBuffer, Object, or any primitive types\n   */\n\n\n  MockerResponse.prototype.send = function send(body) {\n    // don't parse native Response objects\n    if (body instanceof Response) {\n      this._body = body;\n      this.end();\n      return;\n    }\n\n    var contentType = 'text';\n\n    switch (typeof body === 'undefined' ? 'undefined' : _typeof(body)) {\n      case 'string':\n        // follow the express style\n        this._body = body;\n        contentType = 'html';\n        break;\n\n      case 'boolean':\n      case 'number':\n      case 'object':\n        if (body instanceof Blob) {\n          this._body = body;\n          contentType = body.type || 'bin';\n        } else if (body instanceof ArrayBuffer) {\n          this._body = body;\n          contentType = 'bin';\n        } else {\n          this.json(body);\n          return;\n        }\n        break;\n    }\n\n    if (!this.headers.has('content-type')) {\n      this.type(contentType);\n    }\n\n    this.end();\n  };\n\n  /**\n   * Set the response HTTP status code to statusCode and\n   * send its status text representation as the response body.\n   *\n   * Equivalent to `res.status(code).send(statusText)`\n   *\n   * @param {number} code Status code\n   */\n\n\n  MockerResponse.prototype.sendStatus = function sendStatus(code) {\n    var body = _statuses2.default[code] || JSON.stringify(code);\n\n    this.type('text').status(code).send(body);\n  };\n\n  /**\n   * End the response processing and pass the response to `fetchEvent.respondWith()`.\n   * Simply call this method will end the response WITHOUT any data,\n   * if you want to respond with data, use `res.send()` and `res.json()`.\n   */\n\n\n  MockerResponse.prototype.end = function end() {\n    // respond with body if it's a native Response object\n    if (this._body instanceof Response) {\n      this._deferred.resolve(this._body);\n      return;\n    }\n\n    var request = this._event.request;\n\n\n    var responseBody = this._body;\n\n    // leave body empty for null body status\n    if (_statuses2.default.empty[this._statusCode]) {\n      /* istanbul ignore if */\n      if (IS_IE_EDGE) {\n        responseLog.warn('using null body status in IE Edge may raise a `TypeMismatchError` Error');\n      }\n\n      responseBody = undefined;\n    }\n\n    // skip body for HEAD requests\n    if (request.method === 'HEAD') {\n      responseBody = undefined;\n    }\n\n    // set default contentType to 'text/plain', see\n    // https://tools.ietf.org/html/rfc2045#section-5.2\n    if (!this.headers.has('content-type')) {\n      this.type('text');\n    }\n\n    var responseInit = {\n      headers: this.headers,\n      status: this._statusCode,\n      statusText: _statuses2.default[this._statusCode] || JSON.stringify(this._statusCode)\n    };\n\n    var response = new Response(responseBody, responseInit);\n\n    this._deferred.resolve(response);\n  };\n\n  /**\n   * Forward the request to another destination.\n   * The forwarded request will NOT be captured by service worker.\n   *\n   * @param {RequestInfo|MockerRequest} input Destination URL or a Request object or MockerRequest\n   * @param {RequestInit=}              init  Fetch request init\n   */\n\n\n  MockerResponse.prototype.forward = function () {\n    var _ref = _asyncToGenerator(_regenerator2.default.mark(function _callee(input, init) {\n      var request;\n      return _regenerator2.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              request = void 0;\n\n              if (!(input instanceof Request)) {\n                _context.next = 5;\n                break;\n              }\n\n              // forward native Request\n              request = new Request(input, init);\n              _context.next = 12;\n              break;\n\n            case 5:\n              if (!(input instanceof _request.MockerRequest)) {\n                _context.next = 9;\n                break;\n              }\n\n              // forward MockerRequest\n              request = new Request(input._native, init);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.next = 11;\n              return concatRequest(this._event.request, input, init);\n\n            case 11:\n              request = _context.sent;\n\n            case 12:\n\n              // fetch will somehow consume the body\n              this._deferred.resolve(nativeFetch(request));\n\n            case 13:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function forward(_x, _x2) {\n      return _ref.apply(this, arguments);\n    }\n\n    return forward;\n  }();\n\n  return MockerResponse;\n}();\n\nexports.MockerResponse = MockerResponse;\nfunction bodyParser(request) {\n  // handle github fetch polyfill\n  /* istanbul ignore if */\n  if (fetch.polyfill) {\n    return request._bodyInit;\n  }\n\n  try {\n    // always parse as blob\n    return request.clone().blob();\n  } catch (e) {\n    /* istanbul ignore next */\n    responseLog.warn('parsing request body failed, you may need to parse it manually', e);\n  }\n}\n\n/* istanbul ignore next */\n/**\n * Fetch with native `fetch`\n * 1. If `fetch.mockerPatched` is found, it means you're running on\n *    legacy mode with fetch support, return with `fetch.native`.\n *\n * 2. Else if `XMLHttpRequest.mockerPatched` is found, you're possibly\n *    using a fetch polyfill, processing as the following:\n *    2.1. Reset `XMLHttpRequest` to native one `(patched)XMLHttpRequest.native`,\n *    2.2. Run fetch polyfill (with native XHR),\n *    2.3. Restore `XMLHttpRequest` to patched one,\n *    2.4. Return the fetch promise.\n *\n * 3. Or, you may be running in service worker context, return `fetch`.\n *\n * @param  {RequestInfo}       input\n * @param  {RequestInit}       [init]\n * @return {Promise<Response>}\n */\nfunction nativeFetch(input, init) {\n  var _self = self,\n      fetch = _self.fetch,\n      XHR = _self.XMLHttpRequest;\n\n  // native fetch\n\n  if (fetch.mockerPatched) {\n    return fetch.native(input, init);\n  }\n\n  // fetch polyfills\n  if (XHR && XHR.mockerPatched) {\n    // restore native...\n    self.XMLHttpRequest = XHR.native;\n    // do a native fetch\n    var promise = fetch(input, init);\n    // replace with our fetch\n    self.XMLHttpRequest = XHR;\n\n    return promise;\n  }\n\n  return fetch(input, init);\n}\n//# sourceMappingURL=response.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/service-mocker/server/response.js","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/qs/lib/stringify.js\n// module id = CwSZ\n// module chunks = 0","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/qs/lib/parse.js\n// module id = DDCP\n// module chunks = 0","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v4.js\n// module id = DtRx\n// module chunks = 0","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = DuR2\n// module chunks = 0","/*! *****************************************************************************\r\nCopyright (C) Microsoft. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\nvar Reflect;\r\n(function (Reflect) {\r\n    \"use strict\";\r\n    var hasOwn = Object.prototype.hasOwnProperty;\r\n    // feature test for Symbol support\r\n    var supportsSymbol = typeof Symbol === \"function\";\r\n    var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\r\n    var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\r\n    var HashMap;\r\n    (function (HashMap) {\r\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\r\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\r\n        var downLevel = !supportsCreate && !supportsProto;\r\n        // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\r\n        HashMap.create = supportsCreate\r\n            ? function () { return MakeDictionary(Object.create(null)); }\r\n            : supportsProto\r\n                ? function () { return MakeDictionary({ __proto__: null }); }\r\n                : function () { return MakeDictionary({}); };\r\n        HashMap.has = downLevel\r\n            ? function (map, key) { return hasOwn.call(map, key); }\r\n            : function (map, key) { return key in map; };\r\n        HashMap.get = downLevel\r\n            ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\r\n            : function (map, key) { return map[key]; };\r\n    })(HashMap || (HashMap = {}));\r\n    // Load global or shim versions of Map, Set, and WeakMap\r\n    var functionPrototype = Object.getPrototypeOf(Function);\r\n    var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\r\n    var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\r\n    var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\r\n    var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\r\n    // [[Metadata]] internal slot\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\r\n    var Metadata = new _WeakMap();\r\n    /**\r\n      * Applies a set of decorators to a property of a target object.\r\n      * @param decorators An array of decorators.\r\n      * @param target The target object.\r\n      * @param propertyKey (Optional) The property key to decorate.\r\n      * @param attributes (Optional) The property descriptor for the target key.\r\n      * @remarks Decorators are applied in reverse order.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     Example = Reflect.decorate(decoratorsArray, Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     Object.defineProperty(Example, \"staticMethod\",\r\n      *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\r\n      *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\r\n      *\r\n      *     // method (on prototype)\r\n      *     Object.defineProperty(Example.prototype, \"method\",\r\n      *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\r\n      *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\r\n      *\r\n      */\r\n    function decorate(decorators, target, propertyKey, attributes) {\r\n        if (!IsUndefined(propertyKey)) {\r\n            if (!IsArray(decorators))\r\n                throw new TypeError();\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\r\n                throw new TypeError();\r\n            if (IsNull(attributes))\r\n                attributes = undefined;\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n            return DecorateProperty(decorators, target, propertyKey, attributes);\r\n        }\r\n        else {\r\n            if (!IsArray(decorators))\r\n                throw new TypeError();\r\n            if (!IsConstructor(target))\r\n                throw new TypeError();\r\n            return DecorateConstructor(decorators, target);\r\n        }\r\n    }\r\n    Reflect.decorate = decorate;\r\n    // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\r\n    // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\r\n    /**\r\n      * A default metadata decorator factory that can be used on a class, class member, or parameter.\r\n      * @param metadataKey The key for the metadata entry.\r\n      * @param metadataValue The value for the metadata entry.\r\n      * @returns A decorator function.\r\n      * @remarks\r\n      * If `metadataKey` is already defined for the target and target key, the\r\n      * metadataValue for that key will be overwritten.\r\n      * @example\r\n      *\r\n      *     // constructor\r\n      *     @Reflect.metadata(key, value)\r\n      *     class Example {\r\n      *     }\r\n      *\r\n      *     // property (on constructor, TypeScript only)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         static staticProperty;\r\n      *     }\r\n      *\r\n      *     // property (on prototype, TypeScript only)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         property;\r\n      *     }\r\n      *\r\n      *     // method (on constructor)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         static staticMethod() { }\r\n      *     }\r\n      *\r\n      *     // method (on prototype)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         method() { }\r\n      *     }\r\n      *\r\n      */\r\n    function metadata(metadataKey, metadataValue) {\r\n        function decorator(target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\r\n                throw new TypeError();\r\n            OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\r\n        }\r\n        return decorator;\r\n    }\r\n    Reflect.metadata = metadata;\r\n    /**\r\n      * Define a unique metadata entry on the target.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param metadataValue A value that contains attached metadata.\r\n      * @param target The target object on which to define metadata.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\r\n      *\r\n      *     // decorator factory as metadata-producing annotation.\r\n      *     function MyAnnotation(options): Decorator {\r\n      *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\r\n      *     }\r\n      *\r\n      */\r\n    function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\r\n    }\r\n    Reflect.defineMetadata = defineMetadata;\r\n    /**\r\n      * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function hasMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryHasMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.hasMetadata = hasMetadata;\r\n    /**\r\n      * Gets a value indicating whether the target object has the provided metadata key defined.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function hasOwnMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.hasOwnMetadata = hasOwnMetadata;\r\n    /**\r\n      * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryGetMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.getMetadata = getMetadata;\r\n    /**\r\n      * Gets the metadata value for the provided metadata key on the target object.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getOwnMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.getOwnMetadata = getOwnMetadata;\r\n    /**\r\n      * Gets the metadata keys defined on the target object or its prototype chain.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns An array of unique metadata keys.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getMetadataKeys(Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getMetadataKeys(target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryMetadataKeys(target, propertyKey);\r\n    }\r\n    Reflect.getMetadataKeys = getMetadataKeys;\r\n    /**\r\n      * Gets the unique metadata keys defined on the target object.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns An array of unique metadata keys.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getOwnMetadataKeys(Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getOwnMetadataKeys(target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryOwnMetadataKeys(target, propertyKey);\r\n    }\r\n    Reflect.getOwnMetadataKeys = getOwnMetadataKeys;\r\n    /**\r\n      * Deletes the metadata entry from the target object with the provided key.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns `true` if the metadata entry was found and deleted; otherwise, false.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function deleteMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return false;\r\n        if (!metadataMap.delete(metadataKey))\r\n            return false;\r\n        if (metadataMap.size > 0)\r\n            return true;\r\n        var targetMetadata = Metadata.get(target);\r\n        targetMetadata.delete(propertyKey);\r\n        if (targetMetadata.size > 0)\r\n            return true;\r\n        Metadata.delete(target);\r\n        return true;\r\n    }\r\n    Reflect.deleteMetadata = deleteMetadata;\r\n    function DecorateConstructor(decorators, target) {\r\n        for (var i = decorators.length - 1; i >= 0; --i) {\r\n            var decorator = decorators[i];\r\n            var decorated = decorator(target);\r\n            if (!IsUndefined(decorated) && !IsNull(decorated)) {\r\n                if (!IsConstructor(decorated))\r\n                    throw new TypeError();\r\n                target = decorated;\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    function DecorateProperty(decorators, target, propertyKey, descriptor) {\r\n        for (var i = decorators.length - 1; i >= 0; --i) {\r\n            var decorator = decorators[i];\r\n            var decorated = decorator(target, propertyKey, descriptor);\r\n            if (!IsUndefined(decorated) && !IsNull(decorated)) {\r\n                if (!IsObject(decorated))\r\n                    throw new TypeError();\r\n                descriptor = decorated;\r\n            }\r\n        }\r\n        return descriptor;\r\n    }\r\n    function GetOrCreateMetadataMap(O, P, Create) {\r\n        var targetMetadata = Metadata.get(O);\r\n        if (IsUndefined(targetMetadata)) {\r\n            if (!Create)\r\n                return undefined;\r\n            targetMetadata = new _Map();\r\n            Metadata.set(O, targetMetadata);\r\n        }\r\n        var metadataMap = targetMetadata.get(P);\r\n        if (IsUndefined(metadataMap)) {\r\n            if (!Create)\r\n                return undefined;\r\n            metadataMap = new _Map();\r\n            targetMetadata.set(P, metadataMap);\r\n        }\r\n        return metadataMap;\r\n    }\r\n    // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\r\n    function OrdinaryHasMetadata(MetadataKey, O, P) {\r\n        var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\r\n        if (hasOwn)\r\n            return true;\r\n        var parent = OrdinaryGetPrototypeOf(O);\r\n        if (!IsNull(parent))\r\n            return OrdinaryHasMetadata(MetadataKey, parent, P);\r\n        return false;\r\n    }\r\n    // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\r\n    function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return false;\r\n        return ToBoolean(metadataMap.has(MetadataKey));\r\n    }\r\n    // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\r\n    function OrdinaryGetMetadata(MetadataKey, O, P) {\r\n        var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\r\n        if (hasOwn)\r\n            return OrdinaryGetOwnMetadata(MetadataKey, O, P);\r\n        var parent = OrdinaryGetPrototypeOf(O);\r\n        if (!IsNull(parent))\r\n            return OrdinaryGetMetadata(MetadataKey, parent, P);\r\n        return undefined;\r\n    }\r\n    // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\r\n    function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return undefined;\r\n        return metadataMap.get(MetadataKey);\r\n    }\r\n    // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\r\n    function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\r\n        metadataMap.set(MetadataKey, MetadataValue);\r\n    }\r\n    // 3.1.6.1 OrdinaryMetadataKeys(O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\r\n    function OrdinaryMetadataKeys(O, P) {\r\n        var ownKeys = OrdinaryOwnMetadataKeys(O, P);\r\n        var parent = OrdinaryGetPrototypeOf(O);\r\n        if (parent === null)\r\n            return ownKeys;\r\n        var parentKeys = OrdinaryMetadataKeys(parent, P);\r\n        if (parentKeys.length <= 0)\r\n            return ownKeys;\r\n        if (ownKeys.length <= 0)\r\n            return parentKeys;\r\n        var set = new _Set();\r\n        var keys = [];\r\n        for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\r\n            var key = ownKeys_1[_i];\r\n            var hasKey = set.has(key);\r\n            if (!hasKey) {\r\n                set.add(key);\r\n                keys.push(key);\r\n            }\r\n        }\r\n        for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\r\n            var key = parentKeys_1[_a];\r\n            var hasKey = set.has(key);\r\n            if (!hasKey) {\r\n                set.add(key);\r\n                keys.push(key);\r\n            }\r\n        }\r\n        return keys;\r\n    }\r\n    // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\r\n    function OrdinaryOwnMetadataKeys(O, P) {\r\n        var keys = [];\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return keys;\r\n        var keysObj = metadataMap.keys();\r\n        var iterator = GetIterator(keysObj);\r\n        var k = 0;\r\n        while (true) {\r\n            var next = IteratorStep(iterator);\r\n            if (!next) {\r\n                keys.length = k;\r\n                return keys;\r\n            }\r\n            var nextValue = IteratorValue(next);\r\n            try {\r\n                keys[k] = nextValue;\r\n            }\r\n            catch (e) {\r\n                try {\r\n                    IteratorClose(iterator);\r\n                }\r\n                finally {\r\n                    throw e;\r\n                }\r\n            }\r\n            k++;\r\n        }\r\n    }\r\n    // 6 ECMAScript Data Typ0es and Values\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\r\n    function Type(x) {\r\n        if (x === null)\r\n            return 1 /* Null */;\r\n        switch (typeof x) {\r\n            case \"undefined\": return 0 /* Undefined */;\r\n            case \"boolean\": return 2 /* Boolean */;\r\n            case \"string\": return 3 /* String */;\r\n            case \"symbol\": return 4 /* Symbol */;\r\n            case \"number\": return 5 /* Number */;\r\n            case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\r\n            default: return 6 /* Object */;\r\n        }\r\n    }\r\n    // 6.1.1 The Undefined Type\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\r\n    function IsUndefined(x) {\r\n        return x === undefined;\r\n    }\r\n    // 6.1.2 The Null Type\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\r\n    function IsNull(x) {\r\n        return x === null;\r\n    }\r\n    // 6.1.5 The Symbol Type\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\r\n    function IsSymbol(x) {\r\n        return typeof x === \"symbol\";\r\n    }\r\n    // 6.1.7 The Object Type\r\n    // https://tc39.github.io/ecma262/#sec-object-type\r\n    function IsObject(x) {\r\n        return typeof x === \"object\" ? x !== null : typeof x === \"function\";\r\n    }\r\n    // 7.1 Type Conversion\r\n    // https://tc39.github.io/ecma262/#sec-type-conversion\r\n    // 7.1.1 ToPrimitive(input [, PreferredType])\r\n    // https://tc39.github.io/ecma262/#sec-toprimitive\r\n    function ToPrimitive(input, PreferredType) {\r\n        switch (Type(input)) {\r\n            case 0 /* Undefined */: return input;\r\n            case 1 /* Null */: return input;\r\n            case 2 /* Boolean */: return input;\r\n            case 3 /* String */: return input;\r\n            case 4 /* Symbol */: return input;\r\n            case 5 /* Number */: return input;\r\n        }\r\n        var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\r\n        var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\r\n        if (exoticToPrim !== undefined) {\r\n            var result = exoticToPrim.call(input, hint);\r\n            if (IsObject(result))\r\n                throw new TypeError();\r\n            return result;\r\n        }\r\n        return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\r\n    }\r\n    // 7.1.1.1 OrdinaryToPrimitive(O, hint)\r\n    // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\r\n    function OrdinaryToPrimitive(O, hint) {\r\n        if (hint === \"string\") {\r\n            var toString_1 = O.toString;\r\n            if (IsCallable(toString_1)) {\r\n                var result = toString_1.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n            var valueOf = O.valueOf;\r\n            if (IsCallable(valueOf)) {\r\n                var result = valueOf.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n        }\r\n        else {\r\n            var valueOf = O.valueOf;\r\n            if (IsCallable(valueOf)) {\r\n                var result = valueOf.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n            var toString_2 = O.toString;\r\n            if (IsCallable(toString_2)) {\r\n                var result = toString_2.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n        }\r\n        throw new TypeError();\r\n    }\r\n    // 7.1.2 ToBoolean(argument)\r\n    // https://tc39.github.io/ecma262/2016/#sec-toboolean\r\n    function ToBoolean(argument) {\r\n        return !!argument;\r\n    }\r\n    // 7.1.12 ToString(argument)\r\n    // https://tc39.github.io/ecma262/#sec-tostring\r\n    function ToString(argument) {\r\n        return \"\" + argument;\r\n    }\r\n    // 7.1.14 ToPropertyKey(argument)\r\n    // https://tc39.github.io/ecma262/#sec-topropertykey\r\n    function ToPropertyKey(argument) {\r\n        var key = ToPrimitive(argument, 3 /* String */);\r\n        if (IsSymbol(key))\r\n            return key;\r\n        return ToString(key);\r\n    }\r\n    // 7.2 Testing and Comparison Operations\r\n    // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\r\n    // 7.2.2 IsArray(argument)\r\n    // https://tc39.github.io/ecma262/#sec-isarray\r\n    function IsArray(argument) {\r\n        return Array.isArray\r\n            ? Array.isArray(argument)\r\n            : argument instanceof Object\r\n                ? argument instanceof Array\r\n                : Object.prototype.toString.call(argument) === \"[object Array]\";\r\n    }\r\n    // 7.2.3 IsCallable(argument)\r\n    // https://tc39.github.io/ecma262/#sec-iscallable\r\n    function IsCallable(argument) {\r\n        // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\r\n        return typeof argument === \"function\";\r\n    }\r\n    // 7.2.4 IsConstructor(argument)\r\n    // https://tc39.github.io/ecma262/#sec-isconstructor\r\n    function IsConstructor(argument) {\r\n        // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\r\n        return typeof argument === \"function\";\r\n    }\r\n    // 7.2.7 IsPropertyKey(argument)\r\n    // https://tc39.github.io/ecma262/#sec-ispropertykey\r\n    function IsPropertyKey(argument) {\r\n        switch (Type(argument)) {\r\n            case 3 /* String */: return true;\r\n            case 4 /* Symbol */: return true;\r\n            default: return false;\r\n        }\r\n    }\r\n    // 7.3 Operations on Objects\r\n    // https://tc39.github.io/ecma262/#sec-operations-on-objects\r\n    // 7.3.9 GetMethod(V, P)\r\n    // https://tc39.github.io/ecma262/#sec-getmethod\r\n    function GetMethod(V, P) {\r\n        var func = V[P];\r\n        if (func === undefined || func === null)\r\n            return undefined;\r\n        if (!IsCallable(func))\r\n            throw new TypeError();\r\n        return func;\r\n    }\r\n    // 7.4 Operations on Iterator Objects\r\n    // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\r\n    function GetIterator(obj) {\r\n        var method = GetMethod(obj, iteratorSymbol);\r\n        if (!IsCallable(method))\r\n            throw new TypeError(); // from Call\r\n        var iterator = method.call(obj);\r\n        if (!IsObject(iterator))\r\n            throw new TypeError();\r\n        return iterator;\r\n    }\r\n    // 7.4.4 IteratorValue(iterResult)\r\n    // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\r\n    function IteratorValue(iterResult) {\r\n        return iterResult.value;\r\n    }\r\n    // 7.4.5 IteratorStep(iterator)\r\n    // https://tc39.github.io/ecma262/#sec-iteratorstep\r\n    function IteratorStep(iterator) {\r\n        var result = iterator.next();\r\n        return result.done ? false : result;\r\n    }\r\n    // 7.4.6 IteratorClose(iterator, completion)\r\n    // https://tc39.github.io/ecma262/#sec-iteratorclose\r\n    function IteratorClose(iterator) {\r\n        var f = iterator[\"return\"];\r\n        if (f)\r\n            f.call(iterator);\r\n    }\r\n    // 9.1 Ordinary Object Internal Methods and Internal Slots\r\n    // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\r\n    // 9.1.1.1 OrdinaryGetPrototypeOf(O)\r\n    // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\r\n    function OrdinaryGetPrototypeOf(O) {\r\n        var proto = Object.getPrototypeOf(O);\r\n        if (typeof O !== \"function\" || O === functionPrototype)\r\n            return proto;\r\n        // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\r\n        // Try to determine the superclass constructor. Compatible implementations\r\n        // must either set __proto__ on a subclass constructor to the superclass constructor,\r\n        // or ensure each class has a valid `constructor` property on its prototype that\r\n        // points back to the constructor.\r\n        // If this is not the same as Function.[[Prototype]], then this is definately inherited.\r\n        // This is the case when in ES6 or when using __proto__ in a compatible browser.\r\n        if (proto !== functionPrototype)\r\n            return proto;\r\n        // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\r\n        var prototype = O.prototype;\r\n        var prototypeProto = prototype && Object.getPrototypeOf(prototype);\r\n        if (prototypeProto == null || prototypeProto === Object.prototype)\r\n            return proto;\r\n        // If the constructor was not a function, then we cannot determine the heritage.\r\n        var constructor = prototypeProto.constructor;\r\n        if (typeof constructor !== \"function\")\r\n            return proto;\r\n        // If we have some kind of self-reference, then we cannot determine the heritage.\r\n        if (constructor === O)\r\n            return proto;\r\n        // we have a pretty good guess at the heritage.\r\n        return constructor;\r\n    }\r\n    // naive Map shim\r\n    function CreateMapPolyfill() {\r\n        var cacheSentinel = {};\r\n        var arraySentinel = [];\r\n        var MapIterator = (function () {\r\n            function MapIterator(keys, values, selector) {\r\n                this._index = 0;\r\n                this._keys = keys;\r\n                this._values = values;\r\n                this._selector = selector;\r\n            }\r\n            MapIterator.prototype[\"@@iterator\"] = function () { return this; };\r\n            MapIterator.prototype[iteratorSymbol] = function () { return this; };\r\n            MapIterator.prototype.next = function () {\r\n                var index = this._index;\r\n                if (index >= 0 && index < this._keys.length) {\r\n                    var result = this._selector(this._keys[index], this._values[index]);\r\n                    if (index + 1 >= this._keys.length) {\r\n                        this._index = -1;\r\n                        this._keys = arraySentinel;\r\n                        this._values = arraySentinel;\r\n                    }\r\n                    else {\r\n                        this._index++;\r\n                    }\r\n                    return { value: result, done: false };\r\n                }\r\n                return { value: undefined, done: true };\r\n            };\r\n            MapIterator.prototype.throw = function (error) {\r\n                if (this._index >= 0) {\r\n                    this._index = -1;\r\n                    this._keys = arraySentinel;\r\n                    this._values = arraySentinel;\r\n                }\r\n                throw error;\r\n            };\r\n            MapIterator.prototype.return = function (value) {\r\n                if (this._index >= 0) {\r\n                    this._index = -1;\r\n                    this._keys = arraySentinel;\r\n                    this._values = arraySentinel;\r\n                }\r\n                return { value: value, done: true };\r\n            };\r\n            return MapIterator;\r\n        }());\r\n        return (function () {\r\n            function Map() {\r\n                this._keys = [];\r\n                this._values = [];\r\n                this._cacheKey = cacheSentinel;\r\n                this._cacheIndex = -2;\r\n            }\r\n            Object.defineProperty(Map.prototype, \"size\", {\r\n                get: function () { return this._keys.length; },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\r\n            Map.prototype.get = function (key) {\r\n                var index = this._find(key, /*insert*/ false);\r\n                return index >= 0 ? this._values[index] : undefined;\r\n            };\r\n            Map.prototype.set = function (key, value) {\r\n                var index = this._find(key, /*insert*/ true);\r\n                this._values[index] = value;\r\n                return this;\r\n            };\r\n            Map.prototype.delete = function (key) {\r\n                var index = this._find(key, /*insert*/ false);\r\n                if (index >= 0) {\r\n                    var size = this._keys.length;\r\n                    for (var i = index + 1; i < size; i++) {\r\n                        this._keys[i - 1] = this._keys[i];\r\n                        this._values[i - 1] = this._values[i];\r\n                    }\r\n                    this._keys.length--;\r\n                    this._values.length--;\r\n                    if (key === this._cacheKey) {\r\n                        this._cacheKey = cacheSentinel;\r\n                        this._cacheIndex = -2;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n            Map.prototype.clear = function () {\r\n                this._keys.length = 0;\r\n                this._values.length = 0;\r\n                this._cacheKey = cacheSentinel;\r\n                this._cacheIndex = -2;\r\n            };\r\n            Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\r\n            Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\r\n            Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\r\n            Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\r\n            Map.prototype[iteratorSymbol] = function () { return this.entries(); };\r\n            Map.prototype._find = function (key, insert) {\r\n                if (this._cacheKey !== key) {\r\n                    this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\r\n                }\r\n                if (this._cacheIndex < 0 && insert) {\r\n                    this._cacheIndex = this._keys.length;\r\n                    this._keys.push(key);\r\n                    this._values.push(undefined);\r\n                }\r\n                return this._cacheIndex;\r\n            };\r\n            return Map;\r\n        }());\r\n        function getKey(key, _) {\r\n            return key;\r\n        }\r\n        function getValue(_, value) {\r\n            return value;\r\n        }\r\n        function getEntry(key, value) {\r\n            return [key, value];\r\n        }\r\n    }\r\n    // naive Set shim\r\n    function CreateSetPolyfill() {\r\n        return (function () {\r\n            function Set() {\r\n                this._map = new _Map();\r\n            }\r\n            Object.defineProperty(Set.prototype, \"size\", {\r\n                get: function () { return this._map.size; },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Set.prototype.has = function (value) { return this._map.has(value); };\r\n            Set.prototype.add = function (value) { return this._map.set(value, value), this; };\r\n            Set.prototype.delete = function (value) { return this._map.delete(value); };\r\n            Set.prototype.clear = function () { this._map.clear(); };\r\n            Set.prototype.keys = function () { return this._map.keys(); };\r\n            Set.prototype.values = function () { return this._map.values(); };\r\n            Set.prototype.entries = function () { return this._map.entries(); };\r\n            Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\r\n            Set.prototype[iteratorSymbol] = function () { return this.keys(); };\r\n            return Set;\r\n        }());\r\n    }\r\n    // naive WeakMap shim\r\n    function CreateWeakMapPolyfill() {\r\n        var UUID_SIZE = 16;\r\n        var keys = HashMap.create();\r\n        var rootKey = CreateUniqueKey();\r\n        return (function () {\r\n            function WeakMap() {\r\n                this._key = CreateUniqueKey();\r\n            }\r\n            WeakMap.prototype.has = function (target) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                return table !== undefined ? HashMap.has(table, this._key) : false;\r\n            };\r\n            WeakMap.prototype.get = function (target) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                return table !== undefined ? HashMap.get(table, this._key) : undefined;\r\n            };\r\n            WeakMap.prototype.set = function (target, value) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ true);\r\n                table[this._key] = value;\r\n                return this;\r\n            };\r\n            WeakMap.prototype.delete = function (target) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                return table !== undefined ? delete table[this._key] : false;\r\n            };\r\n            WeakMap.prototype.clear = function () {\r\n                // NOTE: not a real clear, just makes the previous data unreachable\r\n                this._key = CreateUniqueKey();\r\n            };\r\n            return WeakMap;\r\n        }());\r\n        function CreateUniqueKey() {\r\n            var key;\r\n            do\r\n                key = \"@@WeakMap@@\" + CreateUUID();\r\n            while (HashMap.has(keys, key));\r\n            keys[key] = true;\r\n            return key;\r\n        }\r\n        function GetOrCreateWeakMapTable(target, create) {\r\n            if (!hasOwn.call(target, rootKey)) {\r\n                if (!create)\r\n                    return undefined;\r\n                Object.defineProperty(target, rootKey, { value: HashMap.create() });\r\n            }\r\n            return target[rootKey];\r\n        }\r\n        function FillRandomBytes(buffer, size) {\r\n            for (var i = 0; i < size; ++i)\r\n                buffer[i] = Math.random() * 0xff | 0;\r\n            return buffer;\r\n        }\r\n        function GenRandomBytes(size) {\r\n            if (typeof Uint8Array === \"function\") {\r\n                if (typeof crypto !== \"undefined\")\r\n                    return crypto.getRandomValues(new Uint8Array(size));\r\n                if (typeof msCrypto !== \"undefined\")\r\n                    return msCrypto.getRandomValues(new Uint8Array(size));\r\n                return FillRandomBytes(new Uint8Array(size), size);\r\n            }\r\n            return FillRandomBytes(new Array(size), size);\r\n        }\r\n        function CreateUUID() {\r\n            var data = GenRandomBytes(UUID_SIZE);\r\n            // mark as random - RFC 4122  4.4\r\n            data[6] = data[6] & 0x4f | 0x40;\r\n            data[8] = data[8] & 0xbf | 0x80;\r\n            var result = \"\";\r\n            for (var offset = 0; offset < UUID_SIZE; ++offset) {\r\n                var byte = data[offset];\r\n                if (offset === 4 || offset === 6 || offset === 8)\r\n                    result += \"-\";\r\n                if (byte < 16)\r\n                    result += \"0\";\r\n                result += byte.toString(16).toLowerCase();\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n    // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\r\n    function MakeDictionary(obj) {\r\n        obj.__ = undefined;\r\n        delete obj.__;\r\n        return obj;\r\n    }\r\n    // patch global Reflect\r\n    (function (__global) {\r\n        if (typeof __global.Reflect !== \"undefined\") {\r\n            if (__global.Reflect !== Reflect) {\r\n                for (var p in Reflect) {\r\n                    if (hasOwn.call(Reflect, p)) {\r\n                        __global.Reflect[p] = Reflect[p];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            __global.Reflect = Reflect;\r\n        }\r\n    })(typeof global !== \"undefined\" ? global :\r\n        typeof self !== \"undefined\" ? self :\r\n            Function(\"return this;\")());\r\n})(Reflect || (Reflect = {}));\r\n//# sourceMappingURL=Reflect.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/reflect-metadata/Reflect.js\n// module id = I8yv\n// module chunks = 0","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/bytesToUuid.js\n// module id = MAlW\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _action = require('./action');\n\nObject.keys(_action).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _action[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/service-mocker/constants/index.js\n// module id = NWEN\n// module chunks = 0","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = arg;\n\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/regenerator-runtime/runtime.js\n// module id = SldL\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\nexports.eventWaitUntil = eventWaitUntil;\n/**\n * Comparer function\n *\n * @callback comparer\n * @param {Event} event Event object\n * @return {boolean}\n */\n\n/**\n * Wait until an event matches given conditions\n *\n * @param  {any}      target   Event target\n * @param  {string}   event    Event name\n * @param  {comparer} comparer Comparer function\n * @return {Promise<Event>}\n */\nfunction eventWaitUntil(target, event, comparer) {\n  return new Promise(function (resolve) {\n    target.addEventListener(event, function handler(evt) {\n      if (comparer(evt)) {\n        target.removeEventListener(event, handler);\n        resolve(evt);\n      }\n    });\n  });\n}\n//# sourceMappingURL=event-wait-until.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/service-mocker/utils/event-wait-until.js\n// module id = VroV\n// module chunks = 0","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/qs/lib/formats.js\n// module id = XgCd\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.MockerServer = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _router = require('./router');\n\nvar _constants = require('../constants/');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MockerServer = exports.MockerServer = function () {\n\n  /**\n   * Constructs a server object\n   *\n   * @param {string} [baseURL='/'] The base URL of all routes, default is '/'\n   */\n\n  /**\n   * Indicates which mode current server is running on\n   *\n   * @readonly\n   * @type {boolean}\n   */\n  function MockerServer() {\n    var baseURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n\n    _classCallCheck(this, MockerServer);\n\n    this.isLegacy = self === self.window;\n    this.router = null;\n\n    this.router = new _router.MockerRouter(baseURL);\n  }\n\n  /**\n   * Attach middleware to current server\n   *\n   * @param  {MiddlewareFn} fn Middleware function\n   * @return {this}\n   */\n\n\n  /**\n   * Returns the Router instance of current server\n   *\n   * @readonly\n   * @type {MockerRouter}\n   */\n\n\n  MockerServer.prototype.use = function use(fn) {\n    this.router.use(fn);\n\n    return this;\n  };\n\n  return MockerServer;\n}();\n\n// Event listeners MUST be added on the initial evaluation of worker scripts.\n/* istanbul ignore next: unable to report coverage from sw context */\n\n\nself.addEventListener('message', function () {\n  var _ref = _asyncToGenerator(_regenerator2.default.mark(function _callee(event) {\n    var data, ports, port;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = event.data, ports = event.ports;\n\n            if (!(!data || !ports || !ports.length)) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt('return');\n\n          case 3:\n            port = ports[0];\n\n            // handle connections\n\n            _context.t0 = data.action;\n            _context.next = _context.t0 === _constants.ACTION.PING ? 7 : _context.t0 === _constants.ACTION.REQUEST_CLAIM ? 8 : 11;\n            break;\n\n          case 7:\n            return _context.abrupt('return', port.postMessage({\n              action: _constants.ACTION.PONG\n            }));\n\n          case 8:\n            _context.next = 10;\n            return self.clients.claim();\n\n          case 10:\n            return _context.abrupt('return', port.postMessage({\n              action: _constants.ACTION.ESTABLISHED\n            }));\n\n          case 11:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, undefined);\n  }));\n\n  return function (_x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\nself.addEventListener('fetch', function (event) {\n  _router.MockerRouter.routers.some(function (router) {\n    return router._match(event);\n  });\n});\n\n// IE will somehow fires `activate` event on form elements\n/* istanbul ignore if: unable to report coverage from sw context */\nif (self !== self.window) {\n  self.addEventListener('install', function (event) {\n    event.waitUntil(self.skipWaiting());\n  });\n\n  self.addEventListener('activate', function (event) {\n    event.waitUntil(self.clients.claim());\n  });\n}\n//# sourceMappingURL=server.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/service-mocker/server/server.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = Xxa5\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Defer =\n/**\n * Indicates whether this defer is end\n *\n * @type {boolean}\n */\nexports.Defer = function Defer() {\n  var _this = this;\n\n  _classCallCheck(this, Defer);\n\n  this.done = false;\n  this.promise = null;\n\n  this.promise = new Promise(function (resolve, reject) {\n    _this.resolve = function (result) {\n      resolve(result);\n      _this.done = true;\n    };\n\n    _this.reject = function (reason) {\n      reject(reason);\n      _this.done = true;\n    };\n  });\n}\n\n/**\n * Defer's promise object\n *\n * @readonly\n * @type {Promise<any>}\n */\n;\n//# sourceMappingURL=defer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/service-mocker/utils/defer.js\n// module id = Y6aT\n// module chunks = 0","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/path-to-regexp/index.js\n// module id = Ygqm\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.extensify = extensify;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Make the un-extendable classes great again\n *\n * Notes:\n * - Main concepts:\n *   1. The best way to make another native class is to extend native class\n *      with overriding some methods. However, extending the native sometimes\n *      raises an error: <Failed to construct ${Native}: Please use the 'new' operator,\n *      this DOM object constructor cannot be called as a function.>\n *   2. So we should extend `Native` in some ways that are not constructing\n *      new instance with `Native.call(this)`:\n *      2.1. Look back to JavaScript inheritance, no matter which method we choose to\n *           use, we are almost doing the same thing: let the execution context of\n *           `SuperClass.prototype.method` be the instance of `SubClass`.\n *      1.2. Thus if we bind `Native.prototype.method` with a native instance,\n *           we can be free to invoke all methods in prototype! Then attaching these\n *           methods to the `Extendable.prototype`, the instances of `Extendable` will act\n *           as if they're real native instances!\n *\n * - Implementation of `Extendable`:\n *   1. Create a normal class with `this._native` pointing to a native instance,\n *   2. Iterate through the descriptors of `Native.prototype`:\n *      2.1. If the property is a primitive value, do nothing,\n *      2.2. If the property is an accessor, bind `get` and `set` with `this._native`,\n *      2.3. If the property is a function, bind it with `this._native`,\n *      2.4. Copy the descriptor to `Extendable.prototype`\n *   3. Iterate through the descriptors of `Native`, copy them to `Extendable` as\n *      static methods.\n */\n\n/**\n * Make un-extendable native classes extendable\n *\n * @param {AnyClass} Native Native class\n * @return {ExtendableAnyClass}\n */\nfunction extensify(Native) {\n  var Extendable = function Extendable() {\n    _classCallCheck(this, Extendable);\n\n    this._native = initNative.apply(undefined, arguments);\n\n    checkLack(this._native);\n  }\n  /**\n   * Refer to native object\n   *\n   * @private\n   * @type {AnyClass}\n   */\n  ;\n\n  function initNative() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 0) {\n      return new Native();\n    }\n\n    return new (Function.prototype.bind.apply(Native, [null].concat(args)))();\n  }\n\n  var checked = false;\n  /* istanbul ignore next: safari only */\n  function checkLack(instance) {\n    if (checked) {\n      return;\n    }\n\n    // safari 9- only have methods on `XMLHttpRequest.prototype`\n    // so we need copy properties from an instance\n\n    var _loop = function _loop(prop) {\n      if (!Extendable.prototype.hasOwnProperty(prop)) {\n        Object.defineProperty(Extendable.prototype, prop, {\n          get: function get() {\n            return this._native[prop];\n          },\n          set: function set(value) {\n            this._native[prop] = value;\n            return value;\n          },\n\n          enumerable: true,\n          configurable: true\n        });\n      }\n    };\n\n    for (var prop in instance) {\n      _loop(prop);\n    }\n  }\n\n  // copy all static properties\n  // safari 9- will include a \"prototype\" property on XMLHttpRequest\n  try {\n    Object.keys(Native).forEach(function (prop) {\n      Object.defineProperty(Extendable, prop, Object.getOwnPropertyDescriptor(Native, prop));\n    });\n  } catch (e) {}\n\n  // delegate all unset properties to `_native`\n  (function mapPrototypeMethods() {\n    var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Native.prototype;\n    var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Extendable.prototype;\n\n    if (source.constructor === Object) {\n      // exit recursion\n      return;\n    }\n\n    Object.keys(source).forEach(function (prop) {\n      /* istanbul ignore if */\n      if (target.hasOwnProperty(prop)) {\n        return;\n      }\n\n      var descriptor = Object.getOwnPropertyDescriptor(source, prop);\n\n      if (descriptor.get || descriptor.set) {\n        descriptor.get = function getNative() {\n          return this._native[prop];\n        };\n\n        descriptor.set = function setNative(value) {\n          this._native[prop] = value;\n          return value;\n        };\n      } else if (typeof descriptor.value === 'function') {\n        // method\n        var nativeFn = descriptor.value;\n        descriptor.value = function wrapped() {\n          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          return nativeFn.apply(this._native, args);\n        };\n      }\n\n      // enable overriding\n      descriptor.configurable = true;\n\n      Object.defineProperty(target, prop, descriptor);\n    });\n\n    // recursively look-up\n    mapPrototypeMethods(Object.getPrototypeOf(source), target);\n  })();\n\n  return Extendable;\n}\n//# sourceMappingURL=extensify.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/service-mocker/utils/extensify.js\n// module id = Z0+4\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.MockerRequest = exports.ExtandableRequest = undefined;\n\nvar _qs = require('qs');\n\nvar _qs2 = _interopRequireDefault(_qs);\n\nvar _utils = require('../utils/');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar requestLog = _utils.debug.scope('request');\n\n// convert native `Request` to extendable\n// export or you'll get an error of 'using private'\n/* istanbul ignore next: polyfill is legacy browsers only */\nvar ExtandableRequest = exports.ExtandableRequest = fetch.polyfill ? Request : (0, _utils.extensify)(Request);\n\nvar MockerRequest = exports.MockerRequest = function (_ExtandableRequest) {\n  _inherits(MockerRequest, _ExtandableRequest);\n\n  /**\n   * Constructs a mocker request object\n   *\n   * @param {FetchEvent} event Fetch event\n   * @param {RouteRule}  route Router rule object\n   */\n\n\n  /**\n   * Fetch event\n   *\n   * @private\n   * @readonly\n   * @type {FetchEvent}\n   */\n\n\n  /**\n   * Contains properties mapped the route parameters.\n   *\n   * @readonly\n   * @type {object}\n   */\n\n  /**\n   * Literally equivalent to `router.baseURL` property of current router.\n   *\n   * @readonly\n   * @type {string}\n   */\n  function MockerRequest(event, route) {\n    _classCallCheck(this, MockerRequest);\n\n    var request = event.request;\n    var regex = route.regex,\n        keys = route.keys,\n        baseURL = route.baseURL;\n\n    // avoid polluting original request\n\n    var _this = _possibleConstructorReturn(this, _ExtandableRequest.call(this, request.clone()));\n\n    _this.baseURL = undefined;\n    _this.path = undefined;\n    _this.params = null;\n    _this.query = null;\n    _this._event = null;\n    _this._route = null;\n\n\n    var base = new URL(baseURL);\n    var requestURL = new URL(request.url, location.href);\n    var path = base.pathname === '/' ? requestURL.pathname : requestURL.pathname.replace(base.pathname, '');\n\n    var matches = regex.exec(path);\n    var params = {};\n\n    // skip full matched string at [0]\n    var max = matches.length;\n    for (var i = 1; i < max; i++) {\n      var name = keys[i - 1].name;\n\n      params[name] = decodeParam(matches[i]);\n    }\n\n    _this._event = event;\n    _this._route = route;\n\n    _this.path = path;\n    _this.params = params;\n    _this.baseURL = baseURL;\n    _this.query = _qs2.default.parse(requestURL.search.slice(1)); // remove leading '?'\n\n    // overwrite relative URL from fetch polyfill\n    /* istanbul ignore if: legacy browsers only */\n    if (_this.url !== requestURL.href) {\n      Object.defineProperty(_this, 'url', {\n        value: requestURL.href,\n        writable: false,\n        enumerable: true,\n        configurable: true\n      });\n    }\n    return _this;\n  }\n\n  /**\n   * Route rule object\n   *\n   * @private\n   * @readonly\n   * @type {RouteRule}\n   */\n\n\n  /**\n   * Contains a property for each query string parameter from the request.\n   *\n   * @readonly\n   * @type {object}\n   */\n\n\n  /**\n   * Contains the path part of the current request.\n   *\n   * @readonly\n   * @type {string}\n   */\n\n\n  MockerRequest.prototype.clone = function clone() {\n    return new MockerRequest(this._event, this._route);\n  };\n\n  return MockerRequest;\n}(ExtandableRequest);\n\n/**\n * Decode request parameter\n *\n * @param  {string} value Parameter value\n * @return {string}\n */\n\n\nfunction decodeParam(value) {\n  if (typeof value !== 'string' || value.length === 0) {\n    return value;\n  }\n\n  try {\n    return decodeURIComponent(value);\n  } catch (err) {\n    requestLog.error('decode param: ' + value + ' failed', err);\n\n    return null;\n  }\n}\n//# sourceMappingURL=request.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/service-mocker/server/request.js","module.exports = { '123': 'application/vnd.lotus-1-2-3',\n  ez: 'application/andrew-inset',\n  aw: 'application/applixware',\n  atom: 'application/atom+xml',\n  atomcat: 'application/atomcat+xml',\n  atomsvc: 'application/atomsvc+xml',\n  ccxml: 'application/ccxml+xml',\n  cdmia: 'application/cdmi-capability',\n  cdmic: 'application/cdmi-container',\n  cdmid: 'application/cdmi-domain',\n  cdmio: 'application/cdmi-object',\n  cdmiq: 'application/cdmi-queue',\n  cu: 'application/cu-seeme',\n  davmount: 'application/davmount+xml',\n  dbk: 'application/docbook+xml',\n  dssc: 'application/dssc+der',\n  xdssc: 'application/dssc+xml',\n  ecma: 'application/ecmascript',\n  emma: 'application/emma+xml',\n  epub: 'application/epub+zip',\n  exi: 'application/exi',\n  pfr: 'application/font-tdpfr',\n  gml: 'application/gml+xml',\n  gpx: 'application/gpx+xml',\n  gxf: 'application/gxf',\n  stk: 'application/hyperstudio',\n  ink: 'application/inkml+xml',\n  inkml: 'application/inkml+xml',\n  ipfix: 'application/ipfix',\n  jar: 'application/java-archive',\n  ser: 'application/java-serialized-object',\n  class: 'application/java-vm',\n  js: 'application/javascript',\n  json: 'application/json',\n  jsonml: 'application/jsonml+json',\n  lostxml: 'application/lost+xml',\n  hqx: 'application/mac-binhex40',\n  cpt: 'application/mac-compactpro',\n  mads: 'application/mads+xml',\n  mrc: 'application/marc',\n  mrcx: 'application/marcxml+xml',\n  ma: 'application/mathematica',\n  nb: 'application/mathematica',\n  mb: 'application/mathematica',\n  mathml: 'application/mathml+xml',\n  mbox: 'application/mbox',\n  mscml: 'application/mediaservercontrol+xml',\n  metalink: 'application/metalink+xml',\n  meta4: 'application/metalink4+xml',\n  mets: 'application/mets+xml',\n  mods: 'application/mods+xml',\n  m21: 'application/mp21',\n  mp21: 'application/mp21',\n  mp4s: 'application/mp4',\n  doc: 'application/msword',\n  dot: 'application/msword',\n  mxf: 'application/mxf',\n  bin: 'application/octet-stream',\n  dms: 'application/octet-stream',\n  lrf: 'application/octet-stream',\n  mar: 'application/octet-stream',\n  so: 'application/octet-stream',\n  dist: 'application/octet-stream',\n  distz: 'application/octet-stream',\n  pkg: 'application/octet-stream',\n  bpk: 'application/octet-stream',\n  dump: 'application/octet-stream',\n  elc: 'application/octet-stream',\n  deploy: 'application/octet-stream',\n  oda: 'application/oda',\n  opf: 'application/oebps-package+xml',\n  ogx: 'application/ogg',\n  omdoc: 'application/omdoc+xml',\n  onetoc: 'application/onenote',\n  onetoc2: 'application/onenote',\n  onetmp: 'application/onenote',\n  onepkg: 'application/onenote',\n  oxps: 'application/oxps',\n  xer: 'application/patch-ops-error+xml',\n  pdf: 'application/pdf',\n  pgp: 'application/pgp-encrypted',\n  asc: 'application/pgp-signature',\n  sig: 'application/pgp-signature',\n  prf: 'application/pics-rules',\n  p10: 'application/pkcs10',\n  p7m: 'application/pkcs7-mime',\n  p7c: 'application/pkcs7-mime',\n  p7s: 'application/pkcs7-signature',\n  p8: 'application/pkcs8',\n  ac: 'application/pkix-attr-cert',\n  cer: 'application/pkix-cert',\n  crl: 'application/pkix-crl',\n  pkipath: 'application/pkix-pkipath',\n  pki: 'application/pkixcmp',\n  pls: 'application/pls+xml',\n  ai: 'application/postscript',\n  eps: 'application/postscript',\n  ps: 'application/postscript',\n  cww: 'application/prs.cww',\n  pskcxml: 'application/pskc+xml',\n  rdf: 'application/rdf+xml',\n  rif: 'application/reginfo+xml',\n  rnc: 'application/relax-ng-compact-syntax',\n  rl: 'application/resource-lists+xml',\n  rld: 'application/resource-lists-diff+xml',\n  rs: 'application/rls-services+xml',\n  gbr: 'application/rpki-ghostbusters',\n  mft: 'application/rpki-manifest',\n  roa: 'application/rpki-roa',\n  rsd: 'application/rsd+xml',\n  rss: 'application/rss+xml',\n  rtf: 'application/rtf',\n  sbml: 'application/sbml+xml',\n  scq: 'application/scvp-cv-request',\n  scs: 'application/scvp-cv-response',\n  spq: 'application/scvp-vp-request',\n  spp: 'application/scvp-vp-response',\n  sdp: 'application/sdp',\n  setpay: 'application/set-payment-initiation',\n  setreg: 'application/set-registration-initiation',\n  shf: 'application/shf+xml',\n  smi: 'application/smil+xml',\n  smil: 'application/smil+xml',\n  rq: 'application/sparql-query',\n  srx: 'application/sparql-results+xml',\n  gram: 'application/srgs',\n  grxml: 'application/srgs+xml',\n  sru: 'application/sru+xml',\n  ssdl: 'application/ssdl+xml',\n  ssml: 'application/ssml+xml',\n  tei: 'application/tei+xml',\n  teicorpus: 'application/tei+xml',\n  tfi: 'application/thraud+xml',\n  tsd: 'application/timestamped-data',\n  plb: 'application/vnd.3gpp.pic-bw-large',\n  psb: 'application/vnd.3gpp.pic-bw-small',\n  pvb: 'application/vnd.3gpp.pic-bw-var',\n  tcap: 'application/vnd.3gpp2.tcap',\n  pwn: 'application/vnd.3m.post-it-notes',\n  aso: 'application/vnd.accpac.simply.aso',\n  imp: 'application/vnd.accpac.simply.imp',\n  acu: 'application/vnd.acucobol',\n  atc: 'application/vnd.acucorp',\n  acutc: 'application/vnd.acucorp',\n  air: 'application/vnd.adobe.air-application-installer-package+zip',\n  fcdt: 'application/vnd.adobe.formscentral.fcdt',\n  fxp: 'application/vnd.adobe.fxp',\n  fxpl: 'application/vnd.adobe.fxp',\n  xdp: 'application/vnd.adobe.xdp+xml',\n  xfdf: 'application/vnd.adobe.xfdf',\n  ahead: 'application/vnd.ahead.space',\n  azf: 'application/vnd.airzip.filesecure.azf',\n  azs: 'application/vnd.airzip.filesecure.azs',\n  azw: 'application/vnd.amazon.ebook',\n  acc: 'application/vnd.americandynamics.acc',\n  ami: 'application/vnd.amiga.ami',\n  apk: 'application/vnd.android.package-archive',\n  cii: 'application/vnd.anser-web-certificate-issue-initiation',\n  fti: 'application/vnd.anser-web-funds-transfer-initiation',\n  atx: 'application/vnd.antix.game-component',\n  mpkg: 'application/vnd.apple.installer+xml',\n  m3u8: 'application/vnd.apple.mpegurl',\n  swi: 'application/vnd.aristanetworks.swi',\n  iota: 'application/vnd.astraea-software.iota',\n  aep: 'application/vnd.audiograph',\n  mpm: 'application/vnd.blueice.multipass',\n  bmi: 'application/vnd.bmi',\n  rep: 'application/vnd.businessobjects',\n  cdxml: 'application/vnd.chemdraw+xml',\n  mmd: 'application/vnd.chipnuts.karaoke-mmd',\n  cdy: 'application/vnd.cinderella',\n  cla: 'application/vnd.claymore',\n  rp9: 'application/vnd.cloanto.rp9',\n  c4g: 'application/vnd.clonk.c4group',\n  c4d: 'application/vnd.clonk.c4group',\n  c4f: 'application/vnd.clonk.c4group',\n  c4p: 'application/vnd.clonk.c4group',\n  c4u: 'application/vnd.clonk.c4group',\n  c11amc: 'application/vnd.cluetrust.cartomobile-config',\n  c11amz: 'application/vnd.cluetrust.cartomobile-config-pkg',\n  csp: 'application/vnd.commonspace',\n  cdbcmsg: 'application/vnd.contact.cmsg',\n  cmc: 'application/vnd.cosmocaller',\n  clkx: 'application/vnd.crick.clicker',\n  clkk: 'application/vnd.crick.clicker.keyboard',\n  clkp: 'application/vnd.crick.clicker.palette',\n  clkt: 'application/vnd.crick.clicker.template',\n  clkw: 'application/vnd.crick.clicker.wordbank',\n  wbs: 'application/vnd.criticaltools.wbs+xml',\n  pml: 'application/vnd.ctc-posml',\n  ppd: 'application/vnd.cups-ppd',\n  car: 'application/vnd.curl.car',\n  pcurl: 'application/vnd.curl.pcurl',\n  dart: 'application/vnd.dart',\n  rdz: 'application/vnd.data-vision.rdz',\n  uvf: 'application/vnd.dece.data',\n  uvvf: 'application/vnd.dece.data',\n  uvd: 'application/vnd.dece.data',\n  uvvd: 'application/vnd.dece.data',\n  uvt: 'application/vnd.dece.ttml+xml',\n  uvvt: 'application/vnd.dece.ttml+xml',\n  uvx: 'application/vnd.dece.unspecified',\n  uvvx: 'application/vnd.dece.unspecified',\n  uvz: 'application/vnd.dece.zip',\n  uvvz: 'application/vnd.dece.zip',\n  fe_launch: 'application/vnd.denovo.fcselayout-link',\n  dna: 'application/vnd.dna',\n  mlp: 'application/vnd.dolby.mlp',\n  dpg: 'application/vnd.dpgraph',\n  dfac: 'application/vnd.dreamfactory',\n  kpxx: 'application/vnd.ds-keypoint',\n  ait: 'application/vnd.dvb.ait',\n  svc: 'application/vnd.dvb.service',\n  geo: 'application/vnd.dynageo',\n  mag: 'application/vnd.ecowin.chart',\n  nml: 'application/vnd.enliven',\n  esf: 'application/vnd.epson.esf',\n  msf: 'application/vnd.epson.msf',\n  qam: 'application/vnd.epson.quickanime',\n  slt: 'application/vnd.epson.salt',\n  ssf: 'application/vnd.epson.ssf',\n  es3: 'application/vnd.eszigno3+xml',\n  et3: 'application/vnd.eszigno3+xml',\n  ez2: 'application/vnd.ezpix-album',\n  ez3: 'application/vnd.ezpix-package',\n  fdf: 'application/vnd.fdf',\n  mseed: 'application/vnd.fdsn.mseed',\n  seed: 'application/vnd.fdsn.seed',\n  dataless: 'application/vnd.fdsn.seed',\n  gph: 'application/vnd.flographit',\n  ftc: 'application/vnd.fluxtime.clip',\n  fm: 'application/vnd.framemaker',\n  frame: 'application/vnd.framemaker',\n  maker: 'application/vnd.framemaker',\n  book: 'application/vnd.framemaker',\n  fnc: 'application/vnd.frogans.fnc',\n  ltf: 'application/vnd.frogans.ltf',\n  fsc: 'application/vnd.fsc.weblaunch',\n  oas: 'application/vnd.fujitsu.oasys',\n  oa2: 'application/vnd.fujitsu.oasys2',\n  oa3: 'application/vnd.fujitsu.oasys3',\n  fg5: 'application/vnd.fujitsu.oasysgp',\n  bh2: 'application/vnd.fujitsu.oasysprs',\n  ddd: 'application/vnd.fujixerox.ddd',\n  xdw: 'application/vnd.fujixerox.docuworks',\n  xbd: 'application/vnd.fujixerox.docuworks.binder',\n  fzs: 'application/vnd.fuzzysheet',\n  txd: 'application/vnd.genomatix.tuxedo',\n  ggb: 'application/vnd.geogebra.file',\n  ggt: 'application/vnd.geogebra.tool',\n  gex: 'application/vnd.geometry-explorer',\n  gre: 'application/vnd.geometry-explorer',\n  gxt: 'application/vnd.geonext',\n  g2w: 'application/vnd.geoplan',\n  g3w: 'application/vnd.geospace',\n  gmx: 'application/vnd.gmx',\n  kml: 'application/vnd.google-earth.kml+xml',\n  kmz: 'application/vnd.google-earth.kmz',\n  gqf: 'application/vnd.grafeq',\n  gqs: 'application/vnd.grafeq',\n  gac: 'application/vnd.groove-account',\n  ghf: 'application/vnd.groove-help',\n  gim: 'application/vnd.groove-identity-message',\n  grv: 'application/vnd.groove-injector',\n  gtm: 'application/vnd.groove-tool-message',\n  tpl: 'application/vnd.groove-tool-template',\n  vcg: 'application/vnd.groove-vcard',\n  hal: 'application/vnd.hal+xml',\n  zmm: 'application/vnd.handheld-entertainment+xml',\n  hbci: 'application/vnd.hbci',\n  les: 'application/vnd.hhe.lesson-player',\n  hpgl: 'application/vnd.hp-hpgl',\n  hpid: 'application/vnd.hp-hpid',\n  hps: 'application/vnd.hp-hps',\n  jlt: 'application/vnd.hp-jlyt',\n  pcl: 'application/vnd.hp-pcl',\n  pclxl: 'application/vnd.hp-pclxl',\n  'sfd-hdstx': 'application/vnd.hydrostatix.sof-data',\n  mpy: 'application/vnd.ibm.minipay',\n  afp: 'application/vnd.ibm.modcap',\n  listafp: 'application/vnd.ibm.modcap',\n  list3820: 'application/vnd.ibm.modcap',\n  irm: 'application/vnd.ibm.rights-management',\n  sc: 'application/vnd.ibm.secure-container',\n  icc: 'application/vnd.iccprofile',\n  icm: 'application/vnd.iccprofile',\n  igl: 'application/vnd.igloader',\n  ivp: 'application/vnd.immervision-ivp',\n  ivu: 'application/vnd.immervision-ivu',\n  igm: 'application/vnd.insors.igm',\n  xpw: 'application/vnd.intercon.formnet',\n  xpx: 'application/vnd.intercon.formnet',\n  i2g: 'application/vnd.intergeo',\n  qbo: 'application/vnd.intu.qbo',\n  qfx: 'application/vnd.intu.qfx',\n  rcprofile: 'application/vnd.ipunplugged.rcprofile',\n  irp: 'application/vnd.irepository.package+xml',\n  xpr: 'application/vnd.is-xpr',\n  fcs: 'application/vnd.isac.fcs',\n  jam: 'application/vnd.jam',\n  rms: 'application/vnd.jcp.javame.midlet-rms',\n  jisp: 'application/vnd.jisp',\n  joda: 'application/vnd.joost.joda-archive',\n  ktz: 'application/vnd.kahootz',\n  ktr: 'application/vnd.kahootz',\n  karbon: 'application/vnd.kde.karbon',\n  chrt: 'application/vnd.kde.kchart',\n  kfo: 'application/vnd.kde.kformula',\n  flw: 'application/vnd.kde.kivio',\n  kon: 'application/vnd.kde.kontour',\n  kpr: 'application/vnd.kde.kpresenter',\n  kpt: 'application/vnd.kde.kpresenter',\n  ksp: 'application/vnd.kde.kspread',\n  kwd: 'application/vnd.kde.kword',\n  kwt: 'application/vnd.kde.kword',\n  htke: 'application/vnd.kenameaapp',\n  kia: 'application/vnd.kidspiration',\n  kne: 'application/vnd.kinar',\n  knp: 'application/vnd.kinar',\n  skp: 'application/vnd.koan',\n  skd: 'application/vnd.koan',\n  skt: 'application/vnd.koan',\n  skm: 'application/vnd.koan',\n  sse: 'application/vnd.kodak-descriptor',\n  lasxml: 'application/vnd.las.las+xml',\n  lbd: 'application/vnd.llamagraphics.life-balance.desktop',\n  lbe: 'application/vnd.llamagraphics.life-balance.exchange+xml',\n  apr: 'application/vnd.lotus-approach',\n  pre: 'application/vnd.lotus-freelance',\n  nsf: 'application/vnd.lotus-notes',\n  org: 'application/vnd.lotus-organizer',\n  scm: 'application/vnd.lotus-screencam',\n  lwp: 'application/vnd.lotus-wordpro',\n  portpkg: 'application/vnd.macports.portpkg',\n  mcd: 'application/vnd.mcd',\n  mc1: 'application/vnd.medcalcdata',\n  cdkey: 'application/vnd.mediastation.cdkey',\n  mwf: 'application/vnd.mfer',\n  mfm: 'application/vnd.mfmp',\n  flo: 'application/vnd.micrografx.flo',\n  igx: 'application/vnd.micrografx.igx',\n  mif: 'application/vnd.mif',\n  daf: 'application/vnd.mobius.daf',\n  dis: 'application/vnd.mobius.dis',\n  mbk: 'application/vnd.mobius.mbk',\n  mqy: 'application/vnd.mobius.mqy',\n  msl: 'application/vnd.mobius.msl',\n  plc: 'application/vnd.mobius.plc',\n  txf: 'application/vnd.mobius.txf',\n  mpn: 'application/vnd.mophun.application',\n  mpc: 'application/vnd.mophun.certificate',\n  xul: 'application/vnd.mozilla.xul+xml',\n  cil: 'application/vnd.ms-artgalry',\n  cab: 'application/vnd.ms-cab-compressed',\n  xls: 'application/vnd.ms-excel',\n  xlm: 'application/vnd.ms-excel',\n  xla: 'application/vnd.ms-excel',\n  xlc: 'application/vnd.ms-excel',\n  xlt: 'application/vnd.ms-excel',\n  xlw: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  eot: 'application/vnd.ms-fontobject',\n  chm: 'application/vnd.ms-htmlhelp',\n  ims: 'application/vnd.ms-ims',\n  lrm: 'application/vnd.ms-lrm',\n  thmx: 'application/vnd.ms-officetheme',\n  cat: 'application/vnd.ms-pki.seccat',\n  stl: 'application/vnd.ms-pki.stl',\n  ppt: 'application/vnd.ms-powerpoint',\n  pps: 'application/vnd.ms-powerpoint',\n  pot: 'application/vnd.ms-powerpoint',\n  ppam: 'application/vnd.ms-powerpoint.addin.macroenabled.12',\n  pptm: 'application/vnd.ms-powerpoint.presentation.macroenabled.12',\n  sldm: 'application/vnd.ms-powerpoint.slide.macroenabled.12',\n  ppsm: 'application/vnd.ms-powerpoint.slideshow.macroenabled.12',\n  potm: 'application/vnd.ms-powerpoint.template.macroenabled.12',\n  mpp: 'application/vnd.ms-project',\n  mpt: 'application/vnd.ms-project',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  wps: 'application/vnd.ms-works',\n  wks: 'application/vnd.ms-works',\n  wcm: 'application/vnd.ms-works',\n  wdb: 'application/vnd.ms-works',\n  wpl: 'application/vnd.ms-wpl',\n  xps: 'application/vnd.ms-xpsdocument',\n  mseq: 'application/vnd.mseq',\n  mus: 'application/vnd.musician',\n  msty: 'application/vnd.muvee.style',\n  taglet: 'application/vnd.mynfc',\n  nlu: 'application/vnd.neurolanguage.nlu',\n  ntf: 'application/vnd.nitf',\n  nitf: 'application/vnd.nitf',\n  nnd: 'application/vnd.noblenet-directory',\n  nns: 'application/vnd.noblenet-sealer',\n  nnw: 'application/vnd.noblenet-web',\n  ngdat: 'application/vnd.nokia.n-gage.data',\n  'n-gage': 'application/vnd.nokia.n-gage.symbian.install',\n  rpst: 'application/vnd.nokia.radio-preset',\n  rpss: 'application/vnd.nokia.radio-presets',\n  edm: 'application/vnd.novadigm.edm',\n  edx: 'application/vnd.novadigm.edx',\n  ext: 'application/vnd.novadigm.ext',\n  odc: 'application/vnd.oasis.opendocument.chart',\n  otc: 'application/vnd.oasis.opendocument.chart-template',\n  odb: 'application/vnd.oasis.opendocument.database',\n  odf: 'application/vnd.oasis.opendocument.formula',\n  odft: 'application/vnd.oasis.opendocument.formula-template',\n  odg: 'application/vnd.oasis.opendocument.graphics',\n  otg: 'application/vnd.oasis.opendocument.graphics-template',\n  odi: 'application/vnd.oasis.opendocument.image',\n  oti: 'application/vnd.oasis.opendocument.image-template',\n  odp: 'application/vnd.oasis.opendocument.presentation',\n  otp: 'application/vnd.oasis.opendocument.presentation-template',\n  ods: 'application/vnd.oasis.opendocument.spreadsheet',\n  ots: 'application/vnd.oasis.opendocument.spreadsheet-template',\n  odt: 'application/vnd.oasis.opendocument.text',\n  odm: 'application/vnd.oasis.opendocument.text-master',\n  ott: 'application/vnd.oasis.opendocument.text-template',\n  oth: 'application/vnd.oasis.opendocument.text-web',\n  xo: 'application/vnd.olpc-sugar',\n  dd2: 'application/vnd.oma.dd2+xml',\n  oxt: 'application/vnd.openofficeorg.extension',\n  pptx: 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  sldx: 'application/vnd.openxmlformats-officedocument.presentationml.slide',\n  ppsx: 'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  potx: 'application/vnd.openxmlformats-officedocument.presentationml.template',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  mgp: 'application/vnd.osgeo.mapguide.package',\n  dp: 'application/vnd.osgi.dp',\n  esa: 'application/vnd.osgi.subsystem',\n  pdb: 'application/vnd.palm',\n  pqa: 'application/vnd.palm',\n  oprc: 'application/vnd.palm',\n  paw: 'application/vnd.pawaafile',\n  str: 'application/vnd.pg.format',\n  ei6: 'application/vnd.pg.osasli',\n  efif: 'application/vnd.picsel',\n  wg: 'application/vnd.pmi.widget',\n  plf: 'application/vnd.pocketlearn',\n  pbd: 'application/vnd.powerbuilder6',\n  box: 'application/vnd.previewsystems.box',\n  mgz: 'application/vnd.proteus.magazine',\n  qps: 'application/vnd.publishare-delta-tree',\n  ptid: 'application/vnd.pvi.ptid1',\n  qxd: 'application/vnd.quark.quarkxpress',\n  qxt: 'application/vnd.quark.quarkxpress',\n  qwd: 'application/vnd.quark.quarkxpress',\n  qwt: 'application/vnd.quark.quarkxpress',\n  qxl: 'application/vnd.quark.quarkxpress',\n  qxb: 'application/vnd.quark.quarkxpress',\n  bed: 'application/vnd.realvnc.bed',\n  mxl: 'application/vnd.recordare.musicxml',\n  musicxml: 'application/vnd.recordare.musicxml+xml',\n  cryptonote: 'application/vnd.rig.cryptonote',\n  cod: 'application/vnd.rim.cod',\n  rm: 'application/vnd.rn-realmedia',\n  rmvb: 'application/vnd.rn-realmedia-vbr',\n  link66: 'application/vnd.route66.link66+xml',\n  st: 'application/vnd.sailingtracker.track',\n  see: 'application/vnd.seemail',\n  sema: 'application/vnd.sema',\n  semd: 'application/vnd.semd',\n  semf: 'application/vnd.semf',\n  ifm: 'application/vnd.shana.informed.formdata',\n  itp: 'application/vnd.shana.informed.formtemplate',\n  iif: 'application/vnd.shana.informed.interchange',\n  ipk: 'application/vnd.shana.informed.package',\n  twd: 'application/vnd.simtech-mindmapper',\n  twds: 'application/vnd.simtech-mindmapper',\n  mmf: 'application/vnd.smaf',\n  teacher: 'application/vnd.smart.teacher',\n  sdkm: 'application/vnd.solent.sdkm+xml',\n  sdkd: 'application/vnd.solent.sdkm+xml',\n  dxp: 'application/vnd.spotfire.dxp',\n  sfs: 'application/vnd.spotfire.sfs',\n  sdc: 'application/vnd.stardivision.calc',\n  sda: 'application/vnd.stardivision.draw',\n  sdd: 'application/vnd.stardivision.impress',\n  smf: 'application/vnd.stardivision.math',\n  sdw: 'application/vnd.stardivision.writer',\n  vor: 'application/vnd.stardivision.writer',\n  sgl: 'application/vnd.stardivision.writer-global',\n  smzip: 'application/vnd.stepmania.package',\n  sm: 'application/vnd.stepmania.stepchart',\n  sxc: 'application/vnd.sun.xml.calc',\n  stc: 'application/vnd.sun.xml.calc.template',\n  sxd: 'application/vnd.sun.xml.draw',\n  std: 'application/vnd.sun.xml.draw.template',\n  sxi: 'application/vnd.sun.xml.impress',\n  sti: 'application/vnd.sun.xml.impress.template',\n  sxm: 'application/vnd.sun.xml.math',\n  sxw: 'application/vnd.sun.xml.writer',\n  sxg: 'application/vnd.sun.xml.writer.global',\n  stw: 'application/vnd.sun.xml.writer.template',\n  sus: 'application/vnd.sus-calendar',\n  susp: 'application/vnd.sus-calendar',\n  svd: 'application/vnd.svd',\n  sis: 'application/vnd.symbian.install',\n  sisx: 'application/vnd.symbian.install',\n  xsm: 'application/vnd.syncml+xml',\n  bdm: 'application/vnd.syncml.dm+wbxml',\n  xdm: 'application/vnd.syncml.dm+xml',\n  tao: 'application/vnd.tao.intent-module-archive',\n  pcap: 'application/vnd.tcpdump.pcap',\n  cap: 'application/vnd.tcpdump.pcap',\n  dmp: 'application/vnd.tcpdump.pcap',\n  tmo: 'application/vnd.tmobile-livetv',\n  tpt: 'application/vnd.trid.tpt',\n  mxs: 'application/vnd.triscape.mxs',\n  tra: 'application/vnd.trueapp',\n  ufd: 'application/vnd.ufdl',\n  ufdl: 'application/vnd.ufdl',\n  utz: 'application/vnd.uiq.theme',\n  umj: 'application/vnd.umajin',\n  unityweb: 'application/vnd.unity',\n  uoml: 'application/vnd.uoml+xml',\n  vcx: 'application/vnd.vcx',\n  vsd: 'application/vnd.visio',\n  vst: 'application/vnd.visio',\n  vss: 'application/vnd.visio',\n  vsw: 'application/vnd.visio',\n  vis: 'application/vnd.visionary',\n  vsf: 'application/vnd.vsf',\n  wbxml: 'application/vnd.wap.wbxml',\n  wmlc: 'application/vnd.wap.wmlc',\n  wmlsc: 'application/vnd.wap.wmlscriptc',\n  wtb: 'application/vnd.webturbo',\n  nbp: 'application/vnd.wolfram.player',\n  wpd: 'application/vnd.wordperfect',\n  wqd: 'application/vnd.wqd',\n  stf: 'application/vnd.wt.stf',\n  xar: 'application/vnd.xara',\n  xfdl: 'application/vnd.xfdl',\n  hvd: 'application/vnd.yamaha.hv-dic',\n  hvs: 'application/vnd.yamaha.hv-script',\n  hvp: 'application/vnd.yamaha.hv-voice',\n  osf: 'application/vnd.yamaha.openscoreformat',\n  osfpvg: 'application/vnd.yamaha.openscoreformat.osfpvg+xml',\n  saf: 'application/vnd.yamaha.smaf-audio',\n  spf: 'application/vnd.yamaha.smaf-phrase',\n  cmp: 'application/vnd.yellowriver-custom-menu',\n  zir: 'application/vnd.zul',\n  zirz: 'application/vnd.zul',\n  zaz: 'application/vnd.zzazz.deck+xml',\n  vxml: 'application/voicexml+xml',\n  wgt: 'application/widget',\n  hlp: 'application/winhlp',\n  wsdl: 'application/wsdl+xml',\n  wspolicy: 'application/wspolicy+xml',\n  '7z': 'application/x-7z-compressed',\n  abw: 'application/x-abiword',\n  ace: 'application/x-ace-compressed',\n  dmg: 'application/x-apple-diskimage',\n  aab: 'application/x-authorware-bin',\n  x32: 'application/x-authorware-bin',\n  u32: 'application/x-authorware-bin',\n  vox: 'application/x-authorware-bin',\n  aam: 'application/x-authorware-map',\n  aas: 'application/x-authorware-seg',\n  bcpio: 'application/x-bcpio',\n  torrent: 'application/x-bittorrent',\n  blb: 'application/x-blorb',\n  blorb: 'application/x-blorb',\n  bz: 'application/x-bzip',\n  bz2: 'application/x-bzip2',\n  boz: 'application/x-bzip2',\n  cbr: 'application/x-cbr',\n  cba: 'application/x-cbr',\n  cbt: 'application/x-cbr',\n  cbz: 'application/x-cbr',\n  cb7: 'application/x-cbr',\n  vcd: 'application/x-cdlink',\n  cfs: 'application/x-cfs-compressed',\n  chat: 'application/x-chat',\n  pgn: 'application/x-chess-pgn',\n  nsc: 'application/x-conference',\n  cpio: 'application/x-cpio',\n  csh: 'application/x-csh',\n  deb: 'application/x-debian-package',\n  udeb: 'application/x-debian-package',\n  dgc: 'application/x-dgc-compressed',\n  dir: 'application/x-director',\n  dcr: 'application/x-director',\n  dxr: 'application/x-director',\n  cst: 'application/x-director',\n  cct: 'application/x-director',\n  cxt: 'application/x-director',\n  w3d: 'application/x-director',\n  fgd: 'application/x-director',\n  swa: 'application/x-director',\n  wad: 'application/x-doom',\n  ncx: 'application/x-dtbncx+xml',\n  dtb: 'application/x-dtbook+xml',\n  res: 'application/x-dtbresource+xml',\n  dvi: 'application/x-dvi',\n  evy: 'application/x-envoy',\n  eva: 'application/x-eva',\n  bdf: 'application/x-font-bdf',\n  gsf: 'application/x-font-ghostscript',\n  psf: 'application/x-font-linux-psf',\n  otf: 'application/x-font-otf',\n  pcf: 'application/x-font-pcf',\n  snf: 'application/x-font-snf',\n  ttf: 'application/x-font-ttf',\n  ttc: 'application/x-font-ttf',\n  pfa: 'application/x-font-type1',\n  pfb: 'application/x-font-type1',\n  pfm: 'application/x-font-type1',\n  afm: 'application/x-font-type1',\n  woff: 'application/x-font-woff',\n  arc: 'application/x-freearc',\n  spl: 'application/x-futuresplash',\n  gca: 'application/x-gca-compressed',\n  ulx: 'application/x-glulx',\n  gnumeric: 'application/x-gnumeric',\n  gramps: 'application/x-gramps-xml',\n  gtar: 'application/x-gtar',\n  hdf: 'application/x-hdf',\n  install: 'application/x-install-instructions',\n  iso: 'application/x-iso9660-image',\n  jnlp: 'application/x-java-jnlp-file',\n  latex: 'application/x-latex',\n  lzh: 'application/x-lzh-compressed',\n  lha: 'application/x-lzh-compressed',\n  mie: 'application/x-mie',\n  prc: 'application/x-mobipocket-ebook',\n  mobi: 'application/x-mobipocket-ebook',\n  application: 'application/x-ms-application',\n  lnk: 'application/x-ms-shortcut',\n  wmd: 'application/x-ms-wmd',\n  wmz: 'application/x-msmetafile',\n  xbap: 'application/x-ms-xbap',\n  mdb: 'application/x-msaccess',\n  obd: 'application/x-msbinder',\n  crd: 'application/x-mscardfile',\n  clp: 'application/x-msclip',\n  exe: 'application/x-msdownload',\n  dll: 'application/x-msdownload',\n  com: 'application/x-msdownload',\n  bat: 'application/x-msdownload',\n  msi: 'application/x-msdownload',\n  mvb: 'application/x-msmediaview',\n  m13: 'application/x-msmediaview',\n  m14: 'application/x-msmediaview',\n  wmf: 'application/x-msmetafile',\n  emf: 'application/x-msmetafile',\n  emz: 'application/x-msmetafile',\n  mny: 'application/x-msmoney',\n  pub: 'application/x-mspublisher',\n  scd: 'application/x-msschedule',\n  trm: 'application/x-msterminal',\n  wri: 'application/x-mswrite',\n  nc: 'application/x-netcdf',\n  cdf: 'application/x-netcdf',\n  nzb: 'application/x-nzb',\n  p12: 'application/x-pkcs12',\n  pfx: 'application/x-pkcs12',\n  p7b: 'application/x-pkcs7-certificates',\n  spc: 'application/x-pkcs7-certificates',\n  p7r: 'application/x-pkcs7-certreqresp',\n  rar: 'application/x-rar-compressed',\n  ris: 'application/x-research-info-systems',\n  sh: 'application/x-sh',\n  shar: 'application/x-shar',\n  swf: 'application/x-shockwave-flash',\n  xap: 'application/x-silverlight-app',\n  sql: 'application/x-sql',\n  sit: 'application/x-stuffit',\n  sitx: 'application/x-stuffitx',\n  srt: 'application/x-subrip',\n  sv4cpio: 'application/x-sv4cpio',\n  sv4crc: 'application/x-sv4crc',\n  t3: 'application/x-t3vm-image',\n  gam: 'application/x-tads',\n  tar: 'application/x-tar',\n  tcl: 'application/x-tcl',\n  tex: 'application/x-tex',\n  tfm: 'application/x-tex-tfm',\n  texinfo: 'application/x-texinfo',\n  texi: 'application/x-texinfo',\n  obj: 'application/x-tgif',\n  ustar: 'application/x-ustar',\n  src: 'application/x-wais-source',\n  der: 'application/x-x509-ca-cert',\n  crt: 'application/x-x509-ca-cert',\n  fig: 'application/x-xfig',\n  xlf: 'application/x-xliff+xml',\n  xpi: 'application/x-xpinstall',\n  xz: 'application/x-xz',\n  z1: 'application/x-zmachine',\n  z2: 'application/x-zmachine',\n  z3: 'application/x-zmachine',\n  z4: 'application/x-zmachine',\n  z5: 'application/x-zmachine',\n  z6: 'application/x-zmachine',\n  z7: 'application/x-zmachine',\n  z8: 'application/x-zmachine',\n  xaml: 'application/xaml+xml',\n  xdf: 'application/xcap-diff+xml',\n  xenc: 'application/xenc+xml',\n  xhtml: 'application/xhtml+xml',\n  xht: 'application/xhtml+xml',\n  xml: 'application/xml',\n  xsl: 'application/xml',\n  dtd: 'application/xml-dtd',\n  xop: 'application/xop+xml',\n  xpl: 'application/xproc+xml',\n  xslt: 'application/xslt+xml',\n  xspf: 'application/xspf+xml',\n  mxml: 'application/xv+xml',\n  xhvml: 'application/xv+xml',\n  xvml: 'application/xv+xml',\n  xvm: 'application/xv+xml',\n  yang: 'application/yang',\n  yin: 'application/yin+xml',\n  zip: 'application/zip',\n  adp: 'audio/adpcm',\n  au: 'audio/basic',\n  snd: 'audio/basic',\n  mid: 'audio/midi',\n  midi: 'audio/midi',\n  kar: 'audio/midi',\n  rmi: 'audio/midi',\n  mp4a: 'audio/mp4',\n  mpga: 'audio/mpeg',\n  mp2: 'audio/mpeg',\n  mp2a: 'audio/mpeg',\n  mp3: 'audio/mpeg',\n  m2a: 'audio/mpeg',\n  m3a: 'audio/mpeg',\n  oga: 'audio/ogg',\n  ogg: 'audio/ogg',\n  spx: 'audio/ogg',\n  s3m: 'audio/s3m',\n  sil: 'audio/silk',\n  uva: 'audio/vnd.dece.audio',\n  uvva: 'audio/vnd.dece.audio',\n  eol: 'audio/vnd.digital-winds',\n  dra: 'audio/vnd.dra',\n  dts: 'audio/vnd.dts',\n  dtshd: 'audio/vnd.dts.hd',\n  lvp: 'audio/vnd.lucent.voice',\n  pya: 'audio/vnd.ms-playready.media.pya',\n  ecelp4800: 'audio/vnd.nuera.ecelp4800',\n  ecelp7470: 'audio/vnd.nuera.ecelp7470',\n  ecelp9600: 'audio/vnd.nuera.ecelp9600',\n  rip: 'audio/vnd.rip',\n  weba: 'audio/webm',\n  aac: 'audio/x-aac',\n  aif: 'audio/x-aiff',\n  aiff: 'audio/x-aiff',\n  aifc: 'audio/x-aiff',\n  caf: 'audio/x-caf',\n  flac: 'audio/x-flac',\n  mka: 'audio/x-matroska',\n  m3u: 'audio/x-mpegurl',\n  wax: 'audio/x-ms-wax',\n  wma: 'audio/x-ms-wma',\n  ram: 'audio/x-pn-realaudio',\n  ra: 'audio/x-pn-realaudio',\n  rmp: 'audio/x-pn-realaudio-plugin',\n  wav: 'audio/x-wav',\n  xm: 'audio/xm',\n  cdx: 'chemical/x-cdx',\n  cif: 'chemical/x-cif',\n  cmdf: 'chemical/x-cmdf',\n  cml: 'chemical/x-cml',\n  csml: 'chemical/x-csml',\n  xyz: 'chemical/x-xyz',\n  bmp: 'image/bmp',\n  cgm: 'image/cgm',\n  g3: 'image/g3fax',\n  gif: 'image/gif',\n  ief: 'image/ief',\n  jpeg: 'image/jpeg',\n  jpg: 'image/jpeg',\n  jpe: 'image/jpeg',\n  ktx: 'image/ktx',\n  png: 'image/png',\n  btif: 'image/prs.btif',\n  sgi: 'image/sgi',\n  svg: 'image/svg+xml',\n  svgz: 'image/svg+xml',\n  tiff: 'image/tiff',\n  tif: 'image/tiff',\n  psd: 'image/vnd.adobe.photoshop',\n  uvi: 'image/vnd.dece.graphic',\n  uvvi: 'image/vnd.dece.graphic',\n  uvg: 'image/vnd.dece.graphic',\n  uvvg: 'image/vnd.dece.graphic',\n  sub: 'text/vnd.dvb.subtitle',\n  djvu: 'image/vnd.djvu',\n  djv: 'image/vnd.djvu',\n  dwg: 'image/vnd.dwg',\n  dxf: 'image/vnd.dxf',\n  fbs: 'image/vnd.fastbidsheet',\n  fpx: 'image/vnd.fpx',\n  fst: 'image/vnd.fst',\n  mmr: 'image/vnd.fujixerox.edmics-mmr',\n  rlc: 'image/vnd.fujixerox.edmics-rlc',\n  mdi: 'image/vnd.ms-modi',\n  wdp: 'image/vnd.ms-photo',\n  npx: 'image/vnd.net-fpx',\n  wbmp: 'image/vnd.wap.wbmp',\n  xif: 'image/vnd.xiff',\n  webp: 'image/webp',\n  '3ds': 'image/x-3ds',\n  ras: 'image/x-cmu-raster',\n  cmx: 'image/x-cmx',\n  fh: 'image/x-freehand',\n  fhc: 'image/x-freehand',\n  fh4: 'image/x-freehand',\n  fh5: 'image/x-freehand',\n  fh7: 'image/x-freehand',\n  ico: 'image/x-icon',\n  sid: 'image/x-mrsid-image',\n  pcx: 'image/x-pcx',\n  pic: 'image/x-pict',\n  pct: 'image/x-pict',\n  pnm: 'image/x-portable-anymap',\n  pbm: 'image/x-portable-bitmap',\n  pgm: 'image/x-portable-graymap',\n  ppm: 'image/x-portable-pixmap',\n  rgb: 'image/x-rgb',\n  tga: 'image/x-tga',\n  xbm: 'image/x-xbitmap',\n  xpm: 'image/x-xpixmap',\n  xwd: 'image/x-xwindowdump',\n  eml: 'message/rfc822',\n  mime: 'message/rfc822',\n  igs: 'model/iges',\n  iges: 'model/iges',\n  msh: 'model/mesh',\n  mesh: 'model/mesh',\n  silo: 'model/mesh',\n  dae: 'model/vnd.collada+xml',\n  dwf: 'model/vnd.dwf',\n  gdl: 'model/vnd.gdl',\n  gtw: 'model/vnd.gtw',\n  mts: 'model/vnd.mts',\n  vtu: 'model/vnd.vtu',\n  wrl: 'model/vrml',\n  vrml: 'model/vrml',\n  x3db: 'model/x3d+binary',\n  x3dbz: 'model/x3d+binary',\n  x3dv: 'model/x3d+vrml',\n  x3dvz: 'model/x3d+vrml',\n  x3d: 'model/x3d+xml',\n  x3dz: 'model/x3d+xml',\n  appcache: 'text/cache-manifest',\n  ics: 'text/calendar',\n  ifb: 'text/calendar',\n  css: 'text/css',\n  csv: 'text/csv',\n  html: 'text/html',\n  htm: 'text/html',\n  n3: 'text/n3',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  def: 'text/plain',\n  list: 'text/plain',\n  log: 'text/plain',\n  in: 'text/plain',\n  dsc: 'text/prs.lines.tag',\n  rtx: 'text/richtext',\n  sgml: 'text/sgml',\n  sgm: 'text/sgml',\n  tsv: 'text/tab-separated-values',\n  t: 'text/troff',\n  tr: 'text/troff',\n  roff: 'text/troff',\n  man: 'text/troff',\n  me: 'text/troff',\n  ms: 'text/troff',\n  ttl: 'text/turtle',\n  uri: 'text/uri-list',\n  uris: 'text/uri-list',\n  urls: 'text/uri-list',\n  vcard: 'text/vcard',\n  curl: 'text/vnd.curl',\n  dcurl: 'text/vnd.curl.dcurl',\n  scurl: 'text/vnd.curl.scurl',\n  mcurl: 'text/vnd.curl.mcurl',\n  fly: 'text/vnd.fly',\n  flx: 'text/vnd.fmi.flexstor',\n  gv: 'text/vnd.graphviz',\n  '3dml': 'text/vnd.in3d.3dml',\n  spot: 'text/vnd.in3d.spot',\n  jad: 'text/vnd.sun.j2me.app-descriptor',\n  wml: 'text/vnd.wap.wml',\n  wmls: 'text/vnd.wap.wmlscript',\n  s: 'text/x-asm',\n  asm: 'text/x-asm',\n  c: 'text/x-c',\n  cc: 'text/x-c',\n  cxx: 'text/x-c',\n  cpp: 'text/x-c',\n  h: 'text/x-c',\n  hh: 'text/x-c',\n  dic: 'text/x-c',\n  f: 'text/x-fortran',\n  for: 'text/x-fortran',\n  f77: 'text/x-fortran',\n  f90: 'text/x-fortran',\n  java: 'text/x-java-source',\n  opml: 'text/x-opml',\n  p: 'text/x-pascal',\n  pas: 'text/x-pascal',\n  nfo: 'text/x-nfo',\n  etx: 'text/x-setext',\n  sfv: 'text/x-sfv',\n  uu: 'text/x-uuencode',\n  vcs: 'text/x-vcalendar',\n  vcf: 'text/x-vcard',\n  '3gp': 'video/3gpp',\n  '3g2': 'video/3gpp2',\n  h261: 'video/h261',\n  h263: 'video/h263',\n  h264: 'video/h264',\n  jpgv: 'video/jpeg',\n  jpm: 'video/jpm',\n  jpgm: 'video/jpm',\n  mj2: 'video/mj2',\n  mjp2: 'video/mj2',\n  mp4: 'video/mp4',\n  mp4v: 'video/mp4',\n  mpg4: 'video/mp4',\n  mpeg: 'video/mpeg',\n  mpg: 'video/mpeg',\n  mpe: 'video/mpeg',\n  m1v: 'video/mpeg',\n  m2v: 'video/mpeg',\n  ogv: 'video/ogg',\n  qt: 'video/quicktime',\n  mov: 'video/quicktime',\n  uvh: 'video/vnd.dece.hd',\n  uvvh: 'video/vnd.dece.hd',\n  uvm: 'video/vnd.dece.mobile',\n  uvvm: 'video/vnd.dece.mobile',\n  uvp: 'video/vnd.dece.pd',\n  uvvp: 'video/vnd.dece.pd',\n  uvs: 'video/vnd.dece.sd',\n  uvvs: 'video/vnd.dece.sd',\n  uvv: 'video/vnd.dece.video',\n  uvvv: 'video/vnd.dece.video',\n  dvb: 'video/vnd.dvb.file',\n  fvt: 'video/vnd.fvt',\n  mxu: 'video/vnd.mpegurl',\n  m4u: 'video/vnd.mpegurl',\n  pyv: 'video/vnd.ms-playready.media.pyv',\n  uvu: 'video/vnd.uvvu.mp4',\n  uvvu: 'video/vnd.uvvu.mp4',\n  viv: 'video/vnd.vivo',\n  webm: 'video/webm',\n  f4v: 'video/x-f4v',\n  fli: 'video/x-fli',\n  flv: 'video/x-flv',\n  m4v: 'video/x-m4v',\n  mkv: 'video/x-matroska',\n  mk3d: 'video/x-matroska',\n  mks: 'video/x-matroska',\n  mng: 'video/x-mng',\n  asf: 'video/x-ms-asf',\n  asx: 'video/x-ms-asf',\n  vob: 'video/x-ms-vob',\n  wm: 'video/x-ms-wm',\n  wmv: 'video/x-ms-wmv',\n  wmx: 'video/x-ms-wmx',\n  wvx: 'video/x-ms-wvx',\n  avi: 'video/x-msvideo',\n  movie: 'video/x-sgi-movie',\n  smv: 'video/x-smv',\n  ice: 'x-conference/x-cooltalk' }\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mime-component/types.js\n// module id = aoPc\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.sendMessageRequest = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Send message and get the response\n *\n * @param  {any}    target  Message target\n * @param  {any}    message Message body\n * @param  {number} timeout Messaging timeout\n * @return {Promise<any>} Resolves with response message\n */\nvar sendMessageRequest = exports.sendMessageRequest = function () {\n  var _ref = _asyncToGenerator(_regenerator2.default.mark(function _callee(target, message) {\n    var timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3 * 1e3;\n\n    var _ref2, port1, port2;\n\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _ref2 = new MessageChannel(), port1 = _ref2.port1, port2 = _ref2.port2;\n            return _context.abrupt('return', new Promise(function (resolve, reject) {\n              var timer = isFinite(timeout) && setTimeout(function () {\n                reject(new Error('messaging timeout: ' + JSON.stringify(message)));\n              }, timeout);\n\n              port1.onmessage = function (_ref3) {\n                var data = _ref3.data;\n\n                if (timer) {\n                  clearTimeout(timer);\n                }\n\n                // avoid high transient memory usage, see\n                // https://html.spec.whatwg.org/multipage/comms.html#ports-and-garbage-collection\n                port1.close();\n                port2.close();\n\n                /* istanbul ignore else */\n                if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n                  data.request = message;\n                }\n\n                if (data && data.error) {\n                  reject(data);\n                } else {\n                  resolve(data);\n                }\n              };\n\n              if (target === self.window) {\n                // posting message to self => legacy mode\n                // add `origin` param to `window.postMessage(message, targetOrigin, [transfer])`\n                target.postMessage(message, '*', [port2]);\n              } else {\n                target.postMessage(message, [port2]);\n              }\n            }));\n\n          case 2:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function sendMessageRequest(_x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n//# sourceMappingURL=send-message-request.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/service-mocker/utils/send-message-request.js\n// module id = fYBT\n// module chunks = 0","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/rng-browser.js\n// module id = i4uy\n// module chunks = 0","// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g =\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this;\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/regenerator-runtime/runtime-module.js\n// module id = jyFz\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.createServer = createServer;\n\nvar _server = require('./server');\n\n/**\n * Constructs a new Server instance\n *\n * @param  {string} baseURL The base URL of all routes, default is '/'\n * @return {MockerServer}\n */\nfunction createServer() {\n  var baseURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n\n  return new _server.MockerServer(baseURL);\n}\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/service-mocker/server/index.js","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/qs/lib/index.js\n// module id = mw3O\n// module chunks = 0","module.exports = {\n\t\"100\": \"Continue\",\n\t\"101\": \"Switching Protocols\",\n\t\"102\": \"Processing\",\n\t\"200\": \"OK\",\n\t\"201\": \"Created\",\n\t\"202\": \"Accepted\",\n\t\"203\": \"Non-Authoritative Information\",\n\t\"204\": \"No Content\",\n\t\"205\": \"Reset Content\",\n\t\"206\": \"Partial Content\",\n\t\"207\": \"Multi-Status\",\n\t\"208\": \"Already Reported\",\n\t\"226\": \"IM Used\",\n\t\"300\": \"Multiple Choices\",\n\t\"301\": \"Moved Permanently\",\n\t\"302\": \"Found\",\n\t\"303\": \"See Other\",\n\t\"304\": \"Not Modified\",\n\t\"305\": \"Use Proxy\",\n\t\"306\": \"(Unused)\",\n\t\"307\": \"Temporary Redirect\",\n\t\"308\": \"Permanent Redirect\",\n\t\"400\": \"Bad Request\",\n\t\"401\": \"Unauthorized\",\n\t\"402\": \"Payment Required\",\n\t\"403\": \"Forbidden\",\n\t\"404\": \"Not Found\",\n\t\"405\": \"Method Not Allowed\",\n\t\"406\": \"Not Acceptable\",\n\t\"407\": \"Proxy Authentication Required\",\n\t\"408\": \"Request Timeout\",\n\t\"409\": \"Conflict\",\n\t\"410\": \"Gone\",\n\t\"411\": \"Length Required\",\n\t\"412\": \"Precondition Failed\",\n\t\"413\": \"Payload Too Large\",\n\t\"414\": \"URI Too Long\",\n\t\"415\": \"Unsupported Media Type\",\n\t\"416\": \"Range Not Satisfiable\",\n\t\"417\": \"Expectation Failed\",\n\t\"418\": \"I'm a teapot\",\n\t\"421\": \"Misdirected Request\",\n\t\"422\": \"Unprocessable Entity\",\n\t\"423\": \"Locked\",\n\t\"424\": \"Failed Dependency\",\n\t\"425\": \"Unordered Collection\",\n\t\"426\": \"Upgrade Required\",\n\t\"428\": \"Precondition Required\",\n\t\"429\": \"Too Many Requests\",\n\t\"431\": \"Request Header Fields Too Large\",\n\t\"451\": \"Unavailable For Legal Reasons\",\n\t\"500\": \"Internal Server Error\",\n\t\"501\": \"Not Implemented\",\n\t\"502\": \"Bad Gateway\",\n\t\"503\": \"Service Unavailable\",\n\t\"504\": \"Gateway Timeout\",\n\t\"505\": \"HTTP Version Not Supported\",\n\t\"506\": \"Variant Also Negotiates\",\n\t\"507\": \"Insufficient Storage\",\n\t\"508\": \"Loop Detected\",\n\t\"509\": \"Bandwidth Limit Exceeded\",\n\t\"510\": \"Not Extended\",\n\t\"511\": \"Network Authentication Required\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/statuses/codes.json\n// module id = ngLP\n// module chunks = 0","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nexports.arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nexports.compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nexports.isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/qs/lib/utils.js\n// module id = p8xL\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isarray/index.js\n// module id = sOR5\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nvar ACTION = {\n  PING: 'ping',\n  PONG: 'pong',\n  ESTABLISHED: 'established',\n  REQUEST_CLAIM: 'request_claim'\n};\n\nObject.keys(ACTION).forEach(function (prop) {\n  ACTION[prop] = '@mocker/' + ACTION[prop];\n});\n\nexports.ACTION = ACTION;\n//# sourceMappingURL=action.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/service-mocker/constants/action.js\n// module id = sgJX\n// module chunks = 0"],"sourceRoot":"webpack:///"}