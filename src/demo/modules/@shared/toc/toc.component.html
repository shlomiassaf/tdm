<div class="tdm-toc-container">
  <div *ngIf="linksChanged | async as links" class="tdm-toc-inner">
    <div *ngIf="tocArea.tocTitle" class="tdm-toc-heading">{{ tocArea.tocTitle }}</div>
    <ul class="tdm-toc-list">
      <li *ngFor="let l of links; let i = index"
          class="tdm-toc-link tdm-toc-level-{{l.link.level}}"
          [class.active]="l === activeLink">
        <ng-container *ngTemplateOutlet="linkTemplate || defaultLinkTemplate; context: { $implicit: { rootUrl: rootUrl, link: l.link } }"></ng-container>
      </li>
    </ul>
  </div>
</div>
<ng-template #defaultLinkTemplate let-ctx>
  <a [href]="'#' + ctx.rootUrl + '#' + ctx.link.id">{{ ctx.link.name }}</a>
</ng-template>
